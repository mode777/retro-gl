!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=20)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.FLOAT_SIZE=4,e.SHORT_SIZE=2,e.BYTE_SIZE=1,e.VERTICES_QUAD=4,e.INDICES_QUAD=6,e.COMP_POS=2,e.COMP_Z_INDEX=1,e.COMP_SIZE_Z_INDEX=1,e.COMP_SIZE_POS=2,e.COMP_PAL_PAL_SHIFT=1,e.COMP_SIZE_PAL_SHIFT=1,e.COMP_UV=2,e.COMP_SIZE_UV=1,e.UV_TILE=16,e.TEXTURE_SIZE=256,e.HUGE=Number.MAX_VALUE,e.MIN_Z=1,e.MAX_Z=255,e.COMP_RGBA=4,e.COMP_RGB=3,e.COMP_INDEXED=1,e.PAL_OFFSET=1/256,e.OFFSET_Z_INDEX=e.COMP_POS*e.COMP_SIZE_POS,e.OFFSET_PAL_SHIFT=e.OFFSET_Z_INDEX+e.COMP_SIZE_Z_INDEX,e.OFFSET_UV=e.OFFSET_PAL_SHIFT+e.COMP_SIZE_PAL_SHIFT,e.VERTEX_SIZE=e.COMP_POS*e.COMP_SIZE_POS+e.COMP_UV*e.COMP_SIZE_UV+e.COMP_SIZE_Z_INDEX+e.COMP_SIZE_PAL_SHIFT,e.VERTEX_SIZE_SHORT=e.VERTEX_SIZE>>1,e.QUAD_SIZE=e.VERTEX_SIZE*e.VERTICES_QUAD,e.QUAD_SIZE_SHORT=e.VERTEX_SIZE_SHORT*e.VERTICES_QUAD,e.MAT4_IDENT=r.mat4.identity(r.mat4.create()),e.MAX_VERTICES=65536,e.MAX_QUADS=e.MAX_VERTICES/e.VERTICES_QUAD},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&(n[r[a]]=t[r[a]]);return n}function o(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function i(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(i,s)}u((r=r.apply(t,e||[])).next())})}function l(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,o&&(i=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function c(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,a,o=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function f(t){return this instanceof f?(this.v=t,this):new f(t)}function h(t,e,n){function r(t){c[t]&&(l[t]=function(e){return new Promise(function(n,r){d.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{o(c[t](e))}catch(t){u(d[0][3],t)}}function o(t){t.value instanceof f?Promise.resolve(t.value.v).then(i,s):u(d[0][2],t)}function i(t){a("next",t)}function s(t){a("throw",t)}function u(t,e){t(e),d.shift(),d.length&&a(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(t,e||[]),d=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l}function _(t){function e(e,a){t[e]&&(n[e]=function(n){return(r=!r)?{value:f(t[e](n)),done:"return"===e}:a?a(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof d?d(t):t[Symbol.iterator]()}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return C}),e.__rest=a,e.__decorate=o,e.__param=i,e.__metadata=s,e.__awaiter=u,e.__generator=l,e.__exportStar=c,e.__values=d,e.__read=m,e.__spread=p,e.__await=f,e.__asyncGenerator=h,e.__asyncDelegator=_,e.__asyncValues=E;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,r,a){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),a);for(var o=0;o<r;o++)t[a+o]=e[n+o]},flattenChunks:function(t){var e,n,r,a,o,i;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(i=new Uint8Array(r),a=0,e=0,n=t.length;e<n;e++)o=t[e],i.set(o,a),a+=o.length;return i}},o={arraySet:function(t,e,n,r,a){for(var o=0;o<r;o++)t[a+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){/*!
 * @license twgl.js 3.4.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,a;r=[n(1),n(10),n(11),n(12)],void 0!==(a=function(t,e,n,r){"use strict";return t.m4=e,t.v3=n,t.primitives=r,t}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(2),n(5),n(7),n(6),n(8),n(3),n(9),n(4)],void 0!==(a=function(t,e,n,r,a,o,i,s){"use strict";function u(e){s.copyExistingProperties(e,E),t.setDefaults_(e),a.setDefaults_(e)}function l(t){if(t&&E.enableVertexArrayObjects&&s.isWebGL1(t)){var e=t.getExtension("OES_vertex_array_object");e&&(t.createVertexArray=function(){return e.createVertexArrayOES()},t.deleteVertexArray=function(t){e.deleteVertexArrayOES(t)},t.isVertexArray=function(t){return e.isVertexArrayOES(t)},t.bindVertexArray=function(t){e.bindVertexArrayOES(t)},t.VERTEX_ARRAY_BINDING=e.VERTEX_ARRAY_BINDING_OES)}}function c(t,e){for(var n=["webgl","experimental-webgl"],r=null,a=0;a<n.length&&!(r=t.getContext(n[a],e));++a);return r}function d(t,e){var n=c(t,e);return l(n),n}function m(t,e){for(var n=["webgl2","webgl","experimental-webgl"],r=null,a=0;a<n.length&&!(r=t.getContext(n[a],e));++a);return r}function p(t,e){var n=m(t,e);return l(n),n}function f(t,e){e=e||1,e=Math.max(1,e);var n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}function h(t){return"_"!==t[t.length-1]}function _(t,e){return Object.keys(t).filter(h).forEach(function(n){e[n]=t[n]}),e}var E={enableVertexArrayObjects:!0},v={getContext:p,getWebGLContext:d,isWebGL1:s.isWebGL1,isWebGL2:s.isWebGL2,resizeCanvasToDisplaySize:f,setDefaults:u},C={attributes:t,draw:e,framebuffers:n,programs:r,textures:a,typedArrays:o,vertexArrays:i};return Object.keys(C).forEach(function(t){var e=C[t];_(e,v),v[t]=_(e,{})}),v}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(3),n(4)],void 0!==(a=function(t,e){"use strict";function n(t){b.attribPrefix=t}function r(t){e.copyExistingProperties(t,b)}function a(t,e,n,r,a){t.bindBuffer(e,n),t.bufferData(e,r,a||t.STATIC_DRAW)}function o(t,e,n,r){if(e instanceof WebGLBuffer)return e;n=n||t.ARRAY_BUFFER;var o=t.createBuffer();return a(t,n,o,e,r),o}function i(t){return"indices"===t}function s(t){return t instanceof Int8Array||t instanceof Uint8Array}function u(t){return t===Int8Array||t===Uint8Array}function l(t){return t.length?t:t.data}function c(t,e){var n;if(n=g.test(t)?2:A.test(t)?4:3,e%n>0)throw"Can not guess numComponents for attribute '"+t+"'. Tried "+n+" but "+e+" values is not evenly divisible by "+n+". You should specify it.";return n}function d(t,e){return t.numComponents||t.size||c(e,l(t).length)}function m(e,n){if(t.isArrayBuffer(e))return e;if(t.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var r=e.type;return r||(r=i(n)?Uint16Array:Float32Array),new r(e.data)}function p(e,n){var r={};return Object.keys(n).forEach(function(a){if(!i(a)){var l,p,f,h,_,E=n[a],v=E.attrib||E.name||E.attribName||b.attribPrefix+a;if("number"==typeof E||"number"==typeof E.data){_=E.data||E;var C=E.type||Float32Array,T=_*C.BYTES_PER_ELEMENT;p=t.getGLTypeForTypedArrayType(C),f=void 0!==E.normalize?E.normalize:u(C),h=E.numComponents||E.size||c(a,_),l=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,T,E.drawType||e.STATIC_DRAW)}else{var g=m(E,a);l=o(e,g,void 0,E.drawType),p=t.getGLTypeForTypedArray(g),f=void 0!==E.normalize?E.normalize:s(g),h=d(E,a),_=g.length}r[v]={buffer:l,numComponents:h,type:p,normalize:f,stride:E.stride||0,offset:E.offset||0,drawType:E.drawType}}}),e.bindBuffer(e.ARRAY_BUFFER,null),r}function f(t,e,n,r){n=m(n),void 0!==r?(t.bindBuffer(t.ARRAY_BUFFER,e.buffer),t.bufferSubData(t.ARRAY_BUFFER,r,n)):a(t,t.ARRAY_BUFFER,e.buffer,n,e.drawType)}function h(t,e){return e===t.BYTE?1:e===t.UNSIGNED_BYTE?1:e===t.SHORT?2:e===t.UNSIGNED_SHORT?2:e===t.INT?4:e===t.UNSIGNED_INT?4:e===t.FLOAT?4:0}function _(t){for(var e,n=0;n<S.length&&!((e=S[n])in t);++n);n===S.length&&(e=Object.keys(t)[0]);var r=t[e],a=l(r).length,o=d(r,e),i=a/o;if(a%o>0)throw"numComponents "+o+" not correct for length "+a;return i}function E(t,e){for(var n,r=0;r<S.length&&!((n=S[r])in e)&&!((n=b.attribPrefix+n)in e);++r);r===S.length&&(n=Object.keys(e)[0]);var a=e[n];t.bindBuffer(t.ARRAY_BUFFER,a.buffer);var o=t.getBufferParameter(t.ARRAY_BUFFER,t.BUFFER_SIZE);t.bindBuffer(t.ARRAY_BUFFER,null);var i=h(t,a.type),s=o/i,u=a.numComponents||a.size,l=s/u;if(l%1!=0)throw"numComponents "+u+" not correct for length "+length;return l}function v(e,n){var r={attribs:p(e,n)},a=n.indices;return a?(a=m(a,"indices"),r.indices=o(e,a,e.ELEMENT_ARRAY_BUFFER),r.numElements=a.length,r.elementType=t.getGLTypeForTypedArray(a)):r.numElements=E(e,r.attribs),r}function C(t,e,n){var r="indices"===n?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;return o(t,m(e,n),r)}function T(e,n){var r={};return Object.keys(n).forEach(function(t){r[t]=C(e,n[t],t)}),n.indices?(r.numElements=n.indices.length,r.elementType=t.getGLTypeForTypedArray(m(n.indices),"indices")):r.numElements=_(n),r}var b={attribPrefix:""},g=/coord|texture/i,A=/color|colour/i,S=["position","positions","a_position"];return{createAttribsFromArrays:p,createBuffersFromArrays:T,createBufferFromArray:C,createBufferFromTypedArray:o,createBufferInfoFromArrays:v,setAttribInfoBufferFromArray:f,setAttributePrefix:n,setDefaults_:r,getNumComponents_:d,getArray_:l}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[],void 0!==(a=function(){"use strict";function t(t){if(t instanceof Int8Array)return a;if(t instanceof Uint8Array)return o;if(t instanceof Uint8ClampedArray)return o;if(t instanceof Int16Array)return i;if(t instanceof Uint16Array)return s;if(t instanceof Int32Array)return u;if(t instanceof Uint32Array)return l;if(t instanceof Float32Array)return c;throw"unsupported typed array type"}function e(t){if(t===Int8Array)return a;if(t===Uint8Array)return o;if(t===Uint8ClampedArray)return o;if(t===Int16Array)return i;if(t===Uint16Array)return s;if(t===Int32Array)return u;if(t===Uint32Array)return l;if(t===Float32Array)return c;throw"unsupported typed array type"}function n(t){var e=d[t];if(!e)throw"unknown gl type";return e}function r(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer}var a=5120,o=5121,i=5122,s=5123,u=5124,l=5125,c=5126,d={},m=d;return m[a]=Int8Array,m[o]=Uint8Array,m[i]=Int16Array,m[s]=Uint16Array,m[u]=Int32Array,m[l]=Uint32Array,m[c]=Float32Array,m[32819]=Uint16Array,m[32820]=Uint16Array,m[33635]=Uint16Array,m[5131]=Uint16Array,m[33640]=Uint32Array,m[35899]=Uint32Array,m[35902]=Uint32Array,m[36269]=Uint32Array,m[34042]=Uint32Array,{getGLTypeForTypedArray:t,getGLTypeForTypedArrayType:e,getTypedArrayTypeForGLType:n,isArrayBuffer:r}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[],void 0!==(a=function(){"use strict";function t(t){var e={};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function e(t,e,n){t.forEach(function(t){var r=e[t];void 0!==r&&(n[t]=r)})}function n(t,e){Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(e[n]=t[n])})}function r(t){return!!t.texStorage2D}function a(t){return!t.texStorage2D}return{copyExistingProperties:n,copyNamedProperties:e,shallowCopy:t,isWebGL1:a,isWebGL2:r,error:window.console&&window.console.error&&"function"==typeof window.console.error?window.console.error.bind(window.console):function(){},warn:window.console&&window.console.warn&&"function"==typeof window.console.warn?window.console.warn.bind(window.console):function(){}}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(6)],void 0!==(a=function(t){"use strict";function e(t,e,n,r,a){n=void 0===n?t.TRIANGLES:n;var o=e.indices,i=e.elementType,s=void 0===r?e.numElements:r;a=void 0===a?0:a,i||o?t.drawElements(n,s,void 0===i?t.UNSIGNED_SHORT:e.elementType,a):t.drawArrays(n,a,s)}function n(n,r){var a=null,o=null;r.forEach(function(r){if(!1!==r.active){var i=r.programInfo,s=r.vertexArrayInfo||r.bufferInfo,u=!1,l=void 0===r.type?n.TRIANGLES:r.type;i!==a&&(a=i,n.useProgram(i.program),u=!0),(u||s!==o)&&(o&&o.vertexArrayObject&&!s.vertexArrayObject&&n.bindVertexArray(null),o=s,t.setBuffersAndAttributes(n,i,s)),t.setUniforms(i,r.uniforms),e(n,s,l,r.count,r.offset)}}),o.vertexArrayObject&&n.bindVertexArray(null)}return{drawBufferInfo:e,drawObjectList:n}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(4)],void 0!==(a=function(t){"use strict";function e(t,e){return ot[e].bindPoint}function n(t,e){return function(n){t.uniform1f(e,n)}}function r(t,e){return function(n){t.uniform1fv(e,n)}}function a(t,e){return function(n){t.uniform2fv(e,n)}}function o(t,e){return function(n){t.uniform3fv(e,n)}}function i(t,e){return function(n){t.uniform4fv(e,n)}}function s(t,e){return function(n){t.uniform1i(e,n)}}function u(t,e){return function(n){t.uniform1iv(e,n)}}function l(t,e){return function(n){t.uniform2iv(e,n)}}function c(t,e){return function(n){t.uniform3iv(e,n)}}function d(t,e){return function(n){t.uniform4iv(e,n)}}function m(t,e){return function(n){t.uniform1ui(e,n)}}function p(t,e){return function(n){t.uniform1uiv(e,n)}}function f(t,e){return function(n){t.uniform2uiv(e,n)}}function h(t,e){return function(n){t.uniform3uiv(e,n)}}function _(t,e){return function(n){t.uniform4uiv(e,n)}}function E(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function v(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function C(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function T(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function b(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function g(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function A(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function S(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function R(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function y(n,r,a,o){var i=e(n,r);return t.isWebGL2(n)?function(t){var e=void 0,r=void 0;t instanceof WebGLTexture?(e=t,r=null):(e=t.texture,r=t.sampler),n.uniform1i(o,a),n.activeTexture(n.TEXTURE0+a),n.bindTexture(i,e),n.bindSampler(a,r)}:function(t){n.uniform1i(o,a),n.activeTexture(n.TEXTURE0+a),n.bindTexture(i,t)}}function I(n,r,a,o,i){for(var s=e(n,r),u=new Int32Array(i),l=0;l<i;++l)u[l]=a+l;return t.isWebGL2(n)?function(t){n.uniform1iv(o,u),t.forEach(function(t,e){n.activeTexture(n.TEXTURE0+u[e]);var r=void 0,o=void 0;t instanceof WebGLTexture?(r=t,o=null):(r=t.texture,o=t.sampler),n.bindSampler(a,o),n.bindTexture(s,r)})}:function(t){n.uniform1iv(o,u),t.forEach(function(t,e){n.activeTexture(n.TEXTURE0+u[e]),n.bindTexture(s,t)})}}function F(t,e){return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||t.FLOAT,n.normalize||!1,n.stride||0,n.offset||0)}}function x(t,e){return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||t.INT,n.stride||0,n.offset||0)}}function M(t,e,n){var r=n.size,a=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);for(var o=n.size||n.numComponents||r,i=o/a,s=n.type||t.FLOAT,u=ot[s],l=u.size*o,c=n.normalize||!1,d=n.offset||0,m=l/a,p=0;p<a;++p)t.enableVertexAttribArray(e+p),t.vertexAttribPointer(e+p,i,s,c,l,d+m*p)}}function N(t,e){return e=e||0,++e,t.split("\n").map(function(t,n){return n+e+": "+t}).join("\n")}function O(t,e,n,r){var a=r||rt,o=t.createShader(n),i=0;if(ut.test(e)&&(i=1,e=e.replace(ut,"")),t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(o);return a(N(e,i)+"\n*** Error compiling shader: "+s),t.deleteShader(o),null}return o}function D(t,e,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof t)n=t,t=void 0;else if(t&&!Array.isArray(t)){if(t.errorCallback)return t;var r=t;n=r.errorCallback,t=r.attribLocations;var a=r.transformFeedbackVaryings}var o={errorCallback:n||rt,transformFeedbackVaryings:a};if(t){var i={};Array.isArray(t)?t.forEach(function(t,n){i[t]=e?e[n]:n}):i=t,o.attribLocations=i}return o}function B(t){return t.indexOf("frag")>=0?st.FRAGMENT_SHADER:t.indexOf("vert")>=0?st.VERTEX_SHADER:void 0}function w(t,e){e.forEach(function(e){t.deleteShader(e)})}function P(t,e,n,r,a){for(var o=D(n,r,a),i=[],s=[],u=0;u<e.length;++u){var l=e[u];if("string"==typeof l){var c=document.getElementById(l),d=c?c.text:l,m=t[lt[u]];c&&c.type&&(m=B(c.type)||m),l=O(t,d,m,o.errorCallback),s.push(l)}l instanceof WebGLShader&&i.push(l)}if(i.length!==e.length)return programOptions.errorCallback("not enough shaders for program"),w(t,s),null;var p=t.createProgram();i.forEach(function(e){t.attachShader(p,e)}),o.attribLocations&&Object.keys(o.attribLocations).forEach(function(e){t.bindAttribLocation(p,o.attribLocations[e],e)});var f=o.transformFeedbackVaryings;if(f&&(f.attribs&&(f=f.attribs),Array.isArray(f)||(f=Object.keys(f)),t.transformFeedbackVaryings(p,f,o.transformFeedbackMode||t.SEPARATE_ATTRIBS)),t.linkProgram(p),!t.getProgramParameter(p,t.LINK_STATUS)){var h=t.getProgramInfoLog(p);return o.errorCallback("Error in program linking:"+h),t.deleteProgram(p),w(t,s),null}return p}function L(t,e,n,r){var a="",o=document.getElementById(e);if(!o)throw"*** Error: unknown script element"+e;a=o.text;var i=n||B(o.type);if(!i)throw"*** Error: unknown shader type";return O(t,a,i,r)}function G(t,e,n,r,a){for(var o=D(n,r,a),i=[],s=0;s<e.length;++s){var u=L(t,e[s],t[lt[s]],o.errorCallback);if(!u)return null;i.push(u)}return P(t,i,o)}function U(t,e,n,r,a){for(var o=D(n,r,a),i=[],s=0;s<e.length;++s){var u=O(t,e[s],t[lt[s]],o.errorCallback);if(!u)return null;i.push(u)}return P(t,i,o)}function W(t,e){for(var n=0,r={},a=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<a;++o){var i=t.getActiveUniform(e,o);if(!i)break;var s=i.name;"[0]"===s.substr(-3)&&(s=s.substr(0,s.length-3));var u=function(e,r){var a=t.getUniformLocation(e,r.name),o=r.size>1&&"[0]"===r.name.substr(-3),i=r.type,s=ot[i];if(!s)throw"unknown type: 0x"+i.toString(16);var u;if(s.bindPoint){var l=n;n+=r.size,u=o?s.arraySetter(t,i,l,a,r.size):s.setter(t,i,l,a,r.size)}else u=s.arraySetter&&o?s.arraySetter(t,a):s.setter(t,a);return u.location=a,u}(e,i);r[s]=u}return r}function k(t,e){for(var n={},r=t.getProgramParameter(e,t.TRANSFORM_FEEDBACK_VARYINGS),a=0;a<r;++a){var o=t.getTransformFeedbackVarying(e,a);n[o.name]={index:a,type:o.type,size:o.size}}return n}function X(t,e,n){e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),n.attribs&&(n=n.attribs);for(var r in n){var a=e[r];if(a){var o=n[r];o.offset?t.bindBufferRange(t.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer,o.offset,o.size):t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer)}}}function V(t,e,n){e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),n.attribs&&(n=n.attribs);for(var r in n){var a=e[r];a&&t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a.index,null)}}function H(t,e,n){var r=t.createTransformFeedback();return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r),t.useProgram(e.program),X(t,e,n),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),V(t,e,n),r}function z(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],a=[],o=0;o<n;++o){a.push(o),r.push({});var i=t.getActiveUniform(e,o);if(!i)break;r[o].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(n){var o=n[0],i=n[1];t.getActiveUniforms(e,a,t[o]).forEach(function(t,e){r[e][i]=t})});var s={},u=t.getProgramParameter(e,t.ACTIVE_UNIFORM_BLOCKS);for(o=0;o<u;++o){var l=t.getActiveUniformBlockName(e,o),c={index:o,usedByVertexShader:t.getActiveUniformBlockParameter(e,o,t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:t.getActiveUniformBlockParameter(e,o,t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:t.getActiveUniformBlockParameter(e,o,t.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:t.getActiveUniformBlockParameter(e,o,t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};c.used=c.usedByVertexSahder||c.usedByFragmentShader,s[l]=c}return{blockSpecs:s,uniformData:r}}function j(t,e,n,r){var a=n.blockSpecs,o=n.uniformData,i=a[r];if(!i)return at("no uniform block object named:",r),{name:r,uniforms:{}};var s=new ArrayBuffer(i.size),u=t.createBuffer(),l=i.index;t.bindBuffer(t.UNIFORM_BUFFER,u),t.uniformBlockBinding(e,i.index,l);var c=r+".";ct.test(c)&&(c=c.replace(ct,"."));var d={};return i.uniformIndices.forEach(function(t){var e=o[t],n=ot[e.type],r=n.Type,a=e.size*n.size,i=e.name;i.substr(0,c.length)===c&&(i=i.substr(c.length)),d[i]=new r(s,e.offset,a/r.BYTES_PER_ELEMENT)}),{name:r,array:s,asFloat:new Float32Array(s),buffer:u,uniforms:d}}function Y(t,e,n){return j(t,e.program,e.uniformBlockSpec,n)}function Z(t,e,n){var r=e.uniformBlockSpec||e,a=r.blockSpecs[n.name];if(a){var o=a.index;return t.bindBufferRange(t.UNIFORM_BUFFER,o,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function K(t,e,n){Z(t,e,n)&&t.bufferData(t.UNIFORM_BUFFER,n.array,t.DYNAMIC_DRAW)}function q(t,e){var n=t.uniforms;for(var r in e){var a=n[r];if(a){var o=e[r];o.length?a.set(o):a[0]=o}}}function Q(t,e){for(var n=t.uniformSetters||t,r=arguments.length,a=1;a<r;++a){var o=arguments[a];if(Array.isArray(o))for(var i=o.length,s=0;s<i;++s)Q(n,o[s]);else for(var u in o){var l=n[u];l&&l(o[u])}}}function J(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<r;++a){var o=t.getActiveAttrib(e,a);if(!o)break;var i=t.getAttribLocation(e,o.name),s=it[o.type],u=s.setter(t,i,s);u.location=i,n[o.name]=u}return n}function $(t,e){for(var n in e){var r=t[n];r&&r(e[n])}}function tt(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):($(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indices))}function et(e,n){var r=W(e,n),a=J(e,n),o={program:n,uniformSetters:r,attribSetters:a};return t.isWebGL2(e)&&(o.uniformBlockSpec=z(e,n),o.transformFeedbackInfo=k(e,n)),o}function nt(t,e,n,r,a){var o=D(n,r,a),i=!0;if(e=e.map(function(t){if(t.indexOf("\n")<0){var e=document.getElementById(t);e?t=e.text:(o.errorCallback("no element with id: "+t),i=!1)}return t}),!i)return null;var s=U(t,e,o);return s?et(t,s):null}var rt=t.error,at=t.warn,ot={};ot[5126]={Type:Float32Array,size:4,setter:n,arraySetter:r},ot[35664]={Type:Float32Array,size:8,setter:a},ot[35665]={Type:Float32Array,size:12,setter:o},ot[35666]={Type:Float32Array,size:16,setter:i},ot[5124]={Type:Int32Array,size:4,setter:s,arraySetter:u},ot[35667]={Type:Int32Array,size:8,setter:l},ot[35668]={Type:Int32Array,size:12,setter:c},ot[35669]={Type:Int32Array,size:16,setter:d},ot[5125]={Type:Uint32Array,size:4,setter:m,arraySetter:p},ot[36294]={Type:Uint32Array,size:8,setter:f},ot[36295]={Type:Uint32Array,size:12,setter:h},ot[36296]={Type:Uint32Array,size:16,setter:_},ot[35670]={Type:Uint32Array,size:4,setter:s,arraySetter:u},ot[35671]={Type:Uint32Array,size:8,setter:l},ot[35672]={Type:Uint32Array,size:12,setter:c},ot[35673]={Type:Uint32Array,size:16,setter:d},ot[35674]={Type:Float32Array,size:16,setter:E},ot[35675]={Type:Float32Array,size:36,setter:v},ot[35676]={Type:Float32Array,size:64,setter:C},ot[35685]={Type:Float32Array,size:24,setter:T},ot[35686]={Type:Float32Array,size:32,setter:g},ot[35687]={Type:Float32Array,size:24,setter:b},ot[35688]={Type:Float32Array,size:48,setter:S},ot[35689]={Type:Float32Array,size:32,setter:A},ot[35690]={Type:Float32Array,size:48,setter:R},ot[35678]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:3553},ot[35680]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:34067},ot[35679]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:32879},ot[35682]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:3553},ot[36289]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:35866},ot[36292]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:35866},ot[36293]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:34067},ot[36298]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:3553},ot[36299]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:32879},ot[36300]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:34067},ot[36303]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:35866},ot[36306]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:3553},ot[36307]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:32879},ot[36308]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:34067},ot[36311]={Type:null,size:0,setter:y,arraySetter:I,bindPoint:35866};var it={};it[5126]={size:4,setter:F},it[35664]={size:8,setter:F},it[35665]={size:12,setter:F},it[35666]={size:16,setter:F},it[5124]={size:4,setter:x},it[35667]={size:8,setter:x},it[35668]={size:12,setter:x},it[35669]={size:16,setter:x},it[5125]={size:4,setter:x},it[36294]={size:8,setter:x},it[36295]={size:12,setter:x},it[36296]={size:16,setter:x},it[35670]={size:4,setter:x},it[35671]={size:8,setter:x},it[35672]={size:12,setter:x},it[35673]={size:16,setter:x},it[35674]={size:4,setter:M,count:2},it[35675]={size:9,setter:M,count:3},it[35676]={size:16,setter:M,count:4};var st=void 0,ut=/^[ \t]*\n/,lt=["VERTEX_SHADER","FRAGMENT_SHADER"],ct=/\[\d+\]\.$/;return{createAttributeSetters:J,createProgram:P,createProgramFromScripts:G,createProgramFromSources:U,createProgramInfo:nt,createProgramInfoFromProgram:et,createUniformSetters:W,createUniformBlockSpecFromProgram:z,createUniformBlockInfoFromProgram:j,createUniformBlockInfo:Y,createTransformFeedback:H,createTransformFeedbackInfo:k,bindTransformFeedbackInfo:X,setAttributes:$,setBuffersAndAttributes:tt,setUniforms:Q,setUniformBlock:K,setBlockUniforms:q,bindUniformBlock:Z}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(8),n(4)],void 0!==(a=function(t,e){"use strict";function n(t){return l[t]}function r(t){return c[t]}function a(a,o,i,l){var c=a.FRAMEBUFFER,d=a.createFramebuffer();a.bindFramebuffer(c,d),i=i||a.drawingBufferWidth,l=l||a.drawingBufferHeight,o=o||u;var m=0,p={framebuffer:d,attachments:[],width:i,height:l};return o.forEach(function(o){var u=o.attachment,d=o.format,f=n(d);if(f||(f=s+m++),!u)if(r(d))u=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,u),a.renderbufferStorage(a.RENDERBUFFER,d,i,l);else{var h=e.shallowCopy(o);h.width=i,h.height=l,void 0===h.auto&&(h.auto=!1,h.min=h.min||h.minMag||a.LINEAR,h.mag=h.mag||h.minMag||a.LINEAR,h.wrapS=h.wrapS||h.wrap||a.CLAMP_TO_EDGE,h.wrapT=h.wrapT||h.wrap||a.CLAMP_TO_EDGE),u=t.createTexture(a,h)}if(u instanceof WebGLRenderbuffer)a.framebufferRenderbuffer(c,f,a.RENDERBUFFER,u);else{if(!(u instanceof WebGLTexture))throw"unknown attachment type";a.framebufferTexture2D(c,f,o.texTarget||a.TEXTURE_2D,u,o.level||0)}p.attachments.push(u)}),p}function o(e,n,r,a,o){a=a||e.drawingBufferWidth,o=o||e.drawingBufferHeight,n.width=a,n.height=o,r=r||u,r.forEach(function(r,i){var s=n.attachments[i],u=r.format;if(s instanceof WebGLRenderbuffer)e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,u,a,o);else{if(!(s instanceof WebGLTexture))throw"unknown attachment type";t.resizeTexture(e,s,r,a,o)}})}function i(t,e,n){n=n||t.FRAMEBUFFER,e?(t.bindFramebuffer(n,e.framebuffer),t.viewport(0,0,e.width,e.height)):(t.bindFramebuffer(n,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight))}var s=36064,u=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],l={};l[34041]=33306,l[6401]=36128,l[36168]=36128,l[6402]=36096,l[33189]=36096;var c={};return c[32854]=!0,c[32855]=!0,c[36194]=!0,c[34041]=!0,c[33189]=!0,c[6401]=!0,c[36168]=!0,{bindFramebufferInfo:i,createFramebufferInfo:a,resizeFramebufferInfo:o}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(3),n(4)],void 0!==(a=function(t,e){"use strict";function n(t,e){var n=V[t];if(!n)throw"unknown internal format";var r=n.bytesPerElementMap[e];if(void 0===r)throw"unknown internal format";return r}function r(t){var e=V[t];if(!e)throw"unknown internal format";return{format:e.textureFormat,type:Array.isArray(e.type)?e.type[0]:e.type}}function a(t){return 0==(t&t-1)}function o(t,n,r,o){if(!e.isWebGL2(t))return a(n)&&a(r);var i=V[o];if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function i(t){var e=V[t];if(!e)throw"unknown internal format";return e.textureFilterable}function s(t){var e=k[t];if(!e)throw"unknown format: "+t;return e.numColorComponents}function u(e,n,r){return L(n)?t.getGLTypeForTypedArray(n):r||e.UNSIGNED_BYTE}function l(t,e,n,r,a){if(a%1!=0)throw"can't guess dimensions";if(n||r){if(r){if(!n&&(n=a/r)%1)throw"can't guess dimensions"}else if((r=a/n)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(a/(e===t.TEXTURE_CUBE_MAP?6:1));o%1==0?(n=o,r=o):(n=a,r=1)}return{width:n,height:r}}function c(t){P.textureColor=new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}function d(t){e.copyExistingProperties(t,P),t.textureColor&&c(t.textureColor)}function m(t,e){void 0!==e.colorspaceConversion&&(z.colorspaceConversion=t.getParameter(t.UNPACK_COLORSPACE_CONVERSION_WEBGL),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.colorspaceConversion)),void 0!==e.premultiplyAlpha&&(z.premultiplyAlpha=t.getParameter(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha)),void 0!==e.flipY&&(z.flipY=t.getParameter(t.UNPACK_FLIP_Y_WEBGL),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY))}function p(t,e){void 0!==e.colorspaceConversion&&t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,z.colorspaceConversion),void 0!==e.premultiplyAlpha&&t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),void 0!==e.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY)}function f(t,e,n,r){r.minMag&&(n.call(t,e,t.TEXTURE_MIN_FILTER,r.minMag),n.call(t,e,t.TEXTURE_MAG_FILTER,r.minMag)),r.min&&n.call(t,e,t.TEXTURE_MIN_FILTER,r.min),r.mag&&n.call(t,e,t.TEXTURE_MAG_FILTER,r.mag),r.wrap&&(n.call(t,e,t.TEXTURE_WRAP_S,r.wrap),n.call(t,e,t.TEXTURE_WRAP_T,r.wrap),(e===t.TEXTURE_3D||e instanceof j)&&n.call(t,e,t.TEXTURE_WRAP_R,r.wrap)),r.wrapR&&n.call(t,e,t.TEXTURE_WRAP_R,r.wrapR),r.wrapS&&n.call(t,e,t.TEXTURE_WRAP_S,r.wrapS),r.wrapT&&n.call(t,e,t.TEXTURE_WRAP_T,r.wrapT),r.minLod&&n.call(t,e,t.TEXTURE_MIN_LOD,r.minLod),r.maxLod&&n.call(t,e,t.TEXTURE_MAX_LOD,r.maxLod),r.baseLevel&&n.call(t,e,t.TEXTURE_BASE_LEVEL,r.baseLevel),r.maxLevel&&n.call(t,e,t.TEXTURE_MAX_LEVEL,r.maxLevel)}function h(t,e,n){var r=n.target||t.TEXTURE_2D;t.bindTexture(r,e),f(t,r,t.texParameteri,n)}function _(t,e,n){f(t,e,t.samplerParameteri,n)}function E(t,e){var n=t.createSampler();return _(t,n,e),n}function v(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]=E(t,e[r])}),n}function C(t){return t=t||P.textureColor,L(t)?t:new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}function T(t,e,n,r,a,s,u){n=n||P.textureOptions,s=s||t.RGBA,u=u||t.UNSIGNED_BYTE;var l=n.target||t.TEXTURE_2D;if(r=r||n.width,a=a||n.height,t.bindTexture(l,e),o(t,r,a,s,u))t.generateMipmap(l);else{var c=i(s,u)?t.LINEAR:t.NEAREST;t.texParameteri(l,t.TEXTURE_MIN_FILTER,c),t.texParameteri(l,t.TEXTURE_MAG_FILTER,c),t.texParameteri(l,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(l,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}}function b(t,e){return e=e||{},e.cubeFaceOrder||[t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function g(t,e){var n=b(t,e),r=n.map(function(t,e){return{face:t,ndx:e}});return r.sort(function(t,e){return t.face-e.face}),r}function A(t,e,n,a){a=a||P.textureOptions;var o=a.target||t.TEXTURE_2D,i=n.width,s=n.height,u=a.internalFormat||a.format||t.RGBA,l=r(u),c=a.format||l.format,d=a.type||l.type;if(m(t,a),t.bindTexture(o,e),o===t.TEXTURE_CUBE_MAP){var f,_,E=n.width,v=n.height;if(E/6===v)f=v,_=[0,0,1,0,2,0,3,0,4,0,5,0];else if(v/6===E)f=E,_=[0,0,0,1,0,2,0,3,0,4,0,5];else if(E/3==v/2)f=E/3,_=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(E/2!=v/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);f=E/2,_=[0,0,1,0,0,1,1,1,0,2,1,2]}G.canvas.width=f,G.canvas.height=f,i=f,s=f,g(t,a).forEach(function(e){var r=_[2*e.ndx+0]*f,a=_[2*e.ndx+1]*f;G.drawImage(n,r,a,f,f,0,0,f,f),t.texImage2D(e.face,0,u,c,d,G.canvas)}),G.canvas.width=1,G.canvas.height=1}else if(o===t.TEXTURE_3D){var C=Math.min(n.width,n.height),b=Math.max(n.width,n.height),A=b/C;if(A%1!=0)throw"can not compute 3D dimensions of element";var S=n.width===b?1:0,R=n.height===b?1:0;t.texImage3D(o,0,u,C,C,C,0,c,d,null),G.canvas.width=C,G.canvas.height=C;for(var y=0;y<A;++y){var I=y*C*S,F=y*C*R,x=C,M=C,N=C,O=C;G.drawImage(n,I,F,x,M,0,0,N,O),t.texSubImage3D(o,0,0,0,y,C,C,1,c,d,G.canvas)}G.canvas.width=0,G.canvas.height=0}else t.texImage2D(o,0,u,c,d,n);p(t,a),!1!==a.auto&&T(t,e,a,i,s,u,d),h(t,e,a)}function S(){}function R(t,n,r){function a(){s.removeEventListener("error",o),s.removeEventListener("load",i),s=null}function o(){var n="couldn't load image: "+t;e.error(n),r(n,s),a()}function i(){r(null,s),a()}r=r||S;var s=new Image;return n=void 0!==n?n:P.crossOrigin,void 0!==n&&(s.crossOrigin=n),s.addEventListener("error",o),s.addEventListener("load",i),s.src=t,s}function y(t,e,n){n=n||P.textureOptions;var r=n.target||t.TEXTURE_2D;if(t.bindTexture(r,e),!1!==n.color){var a=C(n.color);if(r===t.TEXTURE_CUBE_MAP)for(var o=0;o<6;++o)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a);else r===t.TEXTURE_3D||r===t.TEXTURE_2D_ARRAY?t.texImage3D(r,0,t.RGBA,1,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a):t.texImage2D(r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a)}}function I(t,n,r,a){return a=a||S,r=r||P.textureOptions,y(t,n,r),r=e.shallowCopy(r),R(r.src,r.crossOrigin,function(e,o){e?a(e,n,o):(A(t,n,o,r),a(null,n,o))})}function F(t,n,a,o){function i(e){return function(r,i){--_,r?E.push(r):i.width!==i.height?E.push("cubemap face img is not a square: "+i.src):(m(t,a),t.bindTexture(f,n),5===_?b(t).forEach(function(e){t.texImage2D(e,0,u,c,d,i)}):t.texImage2D(e,0,u,c,d,i),p(t,a),t.generateMipmap(f)),0===_&&o(E.length?E:void 0,h,n)}}o=o||S;var s=a.src;if(6!==s.length)throw"there must be 6 urls for a cubemap";var u=a.internalFormat||a.format||t.RGBA,l=r(u),c=a.format||l.format,d=a.type||t.UNSIGNED_BYTE,f=a.target||t.TEXTURE_2D;if(f!==t.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";y(t,n,a),a=e.shallowCopy(a);var h,_=6,E=[],v=b(t,a);h=s.map(function(t,e){return R(t,a.crossOrigin,i(v[e]))})}function x(t,n,a,o){function i(e){return function(r,i){if(--_,r)E.push(r);else{if(m(t,a),t.bindTexture(f,n),b){b=!1,v=a.width||i.width,C=a.height||i.height,t.texImage3D(f,0,u,v,C,T,0,c,d,null);for(var s=0;s<T;++s)t.texSubImage3D(f,0,0,0,s,v,C,1,c,d,i)}else{var l=i;i.width===v&&i.height===C||(l=G.canvas,G.canvas.width=v,G.canvas.height=C,G.drawImage(i,0,0,v,C)),t.texSubImage3D(f,0,0,0,e,v,C,1,c,d,l),l===G.canvas&&(G.canvas.width=0,G.canvas.height=0)}p(t,a),t.generateMipmap(f)}0===_&&o(E.length?E:void 0,h,n)}}o=o||S;var s=a.src,u=a.internalFormat||a.format||t.RGBA,l=r(u),c=a.format||l.format,d=a.type||t.UNSIGNED_BYTE,f=a.target||t.TEXTURE_2D_ARRAY;if(f!==t.TEXTURE_3D&&f!==t.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";y(t,n,a),a=e.shallowCopy(a);var h,_=s.length,E=[],v=a.width,C=a.height,T=s.length,b=!0;h=s.map(function(t,e){return R(t,a.crossOrigin,i(e))})}function M(e,a,o,i){i=i||P.textureOptions;var s=i.target||e.TEXTURE_2D;e.bindTexture(s,a);var c=i.width,d=i.height,f=i.depth,h=i.internalFormat||i.format||e.RGBA,_=r(h),E=i.format||_.format,v=i.type||u(e,o,_.type);if(L(o))o instanceof Uint8ClampedArray&&(o=new Uint8Array(o.buffer));else{var C=t.getTypedArrayTypeForGLType(v);o=new C(o)}var T=n(h,v),b=o.byteLength/T;if(b%1)throw"length wrong size for format: "+H(e,E);var A;if(s===e.TEXTURE_3D)if(c||d||f)!c||d&&f?!d||c&&f?(A=l(e,s,c,d,b/f),c=A.width,d=A.height):(A=l(e,s,c,f,b/d),c=A.width,f=A.height):(A=l(e,s,d,f,b/c),d=A.width,f=A.height);else{var S=Math.cbrt(b);if(S%1!=0)throw"can't guess cube size of array of numElements: "+b;c=S,d=S,f=S}else A=l(e,s,c,d,b),c=A.width,d=A.height;return e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment||1),m(e,i),s===e.TEXTURE_CUBE_MAP?function(){var t=T/o.BYTES_PER_ELEMENT,n=b/6*t;g(e,i).forEach(function(t){var r=n*t.ndx,a=o.subarray(r,r+n);e.texImage2D(t.face,0,h,c,d,0,E,v,a)})}():s===e.TEXTURE_3D?e.texImage3D(s,0,h,c,d,f,0,E,v,o):e.texImage2D(s,0,h,c,d,0,E,v,o),p(e,i),{width:c,height:d,depth:f,type:v}}function N(t,e,n){var a=n.target||t.TEXTURE_2D;t.bindTexture(a,e);var o=n.internalFormat||n.format||t.RGBA,i=r(o),s=n.format||i.format,u=n.type||i.type;if(m(t,n),a===t.TEXTURE_CUBE_MAP)for(var l=0;l<6;++l)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,o,n.width,n.height,0,s,u,null);else a===t.TEXTURE_3D?t.texImage3D(a,0,o,n.width,n.height,n.depth,0,s,u,null):t.texImage2D(a,0,o,n.width,n.height,0,s,u,null);p(t,n)}function O(t,e,n){n=n||S,e=e||P.textureOptions;var a=t.createTexture(),o=e.target||t.TEXTURE_2D,i=e.width||1,s=e.height||1,u=e.internalFormat||t.RGBA,l=r(u),c=e.type||l.type;t.bindTexture(o,a),o===t.TEXTURE_CUBE_MAP&&(t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE));var d=e.src;if(d)if("function"==typeof d&&(d=d(t,e)),"string"==typeof d)I(t,a,e,n);else if(L(d)||Array.isArray(d)&&("number"==typeof d[0]||Array.isArray(d[0])||L(d[0]))){var m=M(t,a,d,e);i=m.width,s=m.height,c=m.type}else if(Array.isArray(d)&&"string"==typeof d[0])o===t.TEXTURE_CUBE_MAP?F(t,a,e,n):x(t,a,e,n);else{if(!(d instanceof HTMLElement))throw"unsupported src type";A(t,a,d,e),i=d.width,s=d.height}else N(t,a,e);return!1!==e.auto&&T(t,a,e,i,s,u,c),h(t,a,e),a}function D(t,e,n,a,o){a=a||n.width,o=o||n.height;var i=n.target||t.TEXTURE_2D;t.bindTexture(i,e);var s,l=n.internalFormat||n.format||t.RGBA,c=r(l),d=n.format||c.format,m=n.src;if(s=m&&(L(m)||Array.isArray(m)&&"number"==typeof m[0])?n.type||u(t,m,c.type):n.type||c.type,i===t.TEXTURE_CUBE_MAP)for(var p=0;p<6;++p)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,d,a,o,0,d,s,null);else t.texImage2D(i,0,d,a,o,0,d,s,null)}function B(t){return"string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]}function w(t,e,n){function r(){0===a&&setTimeout(function(){n(o.length?o:void 0,i,s)},0)}n=n||S;var a=0,o=[],i={},s={};return Object.keys(e).forEach(function(n){var u,l=e[n];B(l.src)&&(u=function(t,e,i){s[n]=i,--a,t&&o.push(t),r()},++a),i[n]=O(t,l,u)}),r(),i}var P={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},L=t.isArrayBuffer,G=document.createElement("canvas").getContext("2d"),U=6407,W=33319,k={},X=k;X[6406]={numColorComponents:1},X[6409]={numColorComponents:1},X[6410]={numColorComponents:2},X[U]={numColorComponents:3},X[6408]={numColorComponents:4},X[6403]={numColorComponents:1},X[36244]={numColorComponents:1},X[W]={numColorComponents:2},X[33320]={numColorComponents:2},X[U]={numColorComponents:3},X[36248]={numColorComponents:3},X[6408]={numColorComponents:4},X[36249]={numColorComponents:4},X[6402]={numColorComponents:1},X[34041]={numColorComponents:2};var V={};!function(){var t=V;t[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},t[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},t[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},t[U]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:1,type:5121},t[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:1,type:5120},t[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},t[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:4,type:5126},t[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5121},t[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5120},t[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5123},t[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5122},t[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},t[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5124},t[33323]={textureFormat:W,colorRenderable:!0,textureFilterable:!0,bytesPerElement:2,type:5121},t[36757]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:2,type:5120},t[33327]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},t[33328]={textureFormat:W,colorRenderable:!1,textureFilterable:!1,bytesPerElement:8,type:5126},t[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5121},t[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5120},t[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5123},t[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5122},t[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5125},t[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5124},t[32849]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:3,type:5121},t[35905]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5121},t[36194]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},t[36758]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5120},t[35898]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},t[35901]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},t[34843]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},t[34837]={textureFormat:U,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5126},t[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5121},t[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5120},t[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5123},t[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5122},t[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5125},t[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5124},t[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},t[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},t[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:4,type:5120},t[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},t[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},t[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:33640},t[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},t[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:16,type:5126},t[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5121},t[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5120},t[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:33640},t[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5123},t[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5122},t[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5124},t[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5125},t[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},t[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},t[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5126},t[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:34042},t[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:36269},Object.keys(t).forEach(function(e){var n=t[e];if(n.bytesPerElementMap={},Array.isArray(n.bytesPerElement))n.bytesPerElement.forEach(function(t,e){var r=n.type[e];n.bytesPerElementMap[r]=t});else{var r=n.type;n.bytesPerElementMap[r]=n.bytesPerElement}})}();var H=function(){function t(t){if(!e){e={};for(var n in t)"number"==typeof t[n]&&(e[t[n]]=n)}}var e;return function(n,r){return t(n),e[r]||"0x"+r.toString(16)}}(),z={},j=window.WebGLSampler||function(){};return{setDefaults_:d,createSampler:E,createSamplers:v,setSamplerParameters:_,createTexture:O,setEmptyTexture:N,setTextureFromArray:M,loadTextureFromUrl:I,setTextureFromElement:A,setTextureFilteringForSize:T,setTextureParameters:h,setDefaultTextureColor:c,createTextures:w,resizeTexture:D,getNumComponentsForFormat:s,getBytesPerElementForInternalFormat:n}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(6)],void 0!==(a=function(t){"use strict";function e(e,n,r){var a=e.createVertexArray();return e.bindVertexArray(a),n.length||(n=[n]),n.forEach(function(n){t.setBuffersAndAttributes(e,n,r)}),e.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:a}}function n(e,n,r,a){var o=e.createVertexArray();return e.bindVertexArray(o),t.setAttributes(n,r),a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bindVertexArray(null),o}function r(t,e,r){return n(t,e.attribSetters||e,r.attribs,r.indices)}return{createVertexArrayInfo:e,createVAOAndSetAttributes:n,createVAOFromBufferInfo:r}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(11)],void 0!==(a=function(t){"use strict";function e(t){var e=N;return N=t,e}function n(t,e){return e=e||new N(16),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e[9]=-t[9],e[10]=-t[10],e[11]=-t[11],e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=-t[15],e}function r(t,e){return e=e||new N(16),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t){return t=t||new N(16),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e){if((e=e||new N(16))===t){var n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,e}var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],m=t[9],p=t[10],f=t[11],h=t[12],_=t[13],E=t[14],v=t[15];return e[0]=r,e[1]=s,e[2]=d,e[3]=h,e[4]=a,e[5]=u,e[6]=m,e[7]=_,e[8]=o,e[9]=l,e[10]=p,e[11]=E,e[12]=i,e[13]=c,e[14]=f,e[15]=v,e}function i(t,e){e=e||new N(16);var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],m=t[10],p=t[11],f=t[12],h=t[13],_=t[14],E=t[15],v=m*E,C=_*p,T=u*E,b=_*l,g=u*p,A=m*l,S=a*E,R=_*o,y=a*p,I=m*o,F=a*l,x=u*o,M=c*h,O=f*d,D=i*h,B=f*s,w=i*d,P=c*s,L=n*h,G=f*r,U=n*d,W=c*r,k=n*s,X=i*r,V=v*s+b*d+g*h-(C*s+T*d+A*h),H=C*r+S*d+I*h-(v*r+R*d+y*h),z=T*r+R*s+F*h-(b*r+S*s+x*h),j=A*r+y*s+x*d-(g*r+I*s+F*d),Y=1/(n*V+i*H+c*z+f*j);return e[0]=Y*V,e[1]=Y*H,e[2]=Y*z,e[3]=Y*j,e[4]=Y*(C*i+T*c+A*f-(v*i+b*c+g*f)),e[5]=Y*(v*n+R*c+y*f-(C*n+S*c+I*f)),e[6]=Y*(b*n+S*i+x*f-(T*n+R*i+F*f)),e[7]=Y*(g*n+I*i+F*c-(A*n+y*i+x*c)),e[8]=Y*(M*l+B*p+w*E-(O*l+D*p+P*E)),e[9]=Y*(O*o+L*p+W*E-(M*o+G*p+U*E)),e[10]=Y*(D*o+G*l+k*E-(B*o+L*l+X*E)),e[11]=Y*(P*o+U*l+X*p-(w*o+W*l+k*p)),e[12]=Y*(D*m+P*_+O*u-(w*_+M*u+B*m)),e[13]=Y*(U*_+M*a+G*m-(L*m+W*_+O*a)),e[14]=Y*(L*u+X*_+B*a-(k*_+D*a+G*u)),e[15]=Y*(k*m+w*a+W*u-(U*u+X*m+P*a)),e}function s(t,e,n){n=n||new N(16);var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],m=t[9],p=t[10],f=t[11],h=t[12],_=t[13],E=t[14],v=t[15],C=e[0],T=e[1],b=e[2],g=e[3],A=e[4],S=e[5],R=e[6],y=e[7],I=e[8],F=e[9],x=e[10],M=e[11],O=e[12],D=e[13],B=e[14],w=e[15];return n[0]=r*C+s*T+d*b+h*g,n[1]=a*C+u*T+m*b+_*g,n[2]=o*C+l*T+p*b+E*g,n[3]=i*C+c*T+f*b+v*g,n[4]=r*A+s*S+d*R+h*y,n[5]=a*A+u*S+m*R+_*y,n[6]=o*A+l*S+p*R+E*y,n[7]=i*A+c*S+f*R+v*y,n[8]=r*I+s*F+d*x+h*M,n[9]=a*I+u*F+m*x+_*M,n[10]=o*I+l*F+p*x+E*M,n[11]=i*I+c*F+f*x+v*M,n[12]=r*O+s*D+d*B+h*w,n[13]=a*O+u*D+m*B+_*w,n[14]=o*O+l*D+p*B+E*w,n[15]=i*O+c*D+f*B+v*w,n}function u(t,e,n){return n=n||a(),t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11]),n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}function l(e,n){return n=n||t.create(),n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function c(e,n,r){r=r||t.create();var a=4*n;return r[0]=e[a+0],r[1]=e[a+1],r[2]=e[a+2],r}function d(t,e,n,a){a!==t&&(a=r(t,a));var o=4*n;return a[o+0]=e[0],a[o+1]=e[1],a[o+2]=e[2],a}function m(t,e,n,r,a){a=a||new N(16);var o=Math.tan(.5*Math.PI-.5*t),i=1/(n-r);return a[0]=o/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(n+r)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=n*r*i*2,a[15]=0,a}function p(t,e,n,r,a,o,i){return i=i||new N(16),i[0]=2/(e-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(r-n),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-1/(o-a),i[11]=0,i[12]=(e+t)/(t-e),i[13]=(r+n)/(n-r),i[14]=-a/(a-o),i[15]=1,i}function f(t,e,n,r,a,o,i){i=i||new N(16);var s=e-t,u=r-n,l=a-o;return i[0]=2*a/s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/u,i[6]=0,i[7]=0,i[8]=(t+e)/s,i[9]=(r+n)/u,i[10]=o/l,i[11]=-1,i[12]=0,i[13]=0,i[14]=a*o/l,i[15]=0,i}function h(e,n,r,a){a=a||new N(16);var o=O,i=D,s=B;return t.normalize(t.subtract(e,n,s),s),t.normalize(t.cross(r,s,o),o),t.normalize(t.cross(s,o,i),i),a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=0,a[4]=i[0],a[5]=i[1],a[6]=i[2],a[7]=0,a[8]=s[0],a[9]=s[1],a[10]=s[2],a[11]=0,a[12]=e[0],a[13]=e[1],a[14]=e[2],a[15]=1,a}function _(t,e){return e=e||new N(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function E(t,e,n){n=n||new N(16);var r=e[0],a=e[1],o=e[2],i=t[0],s=t[1],u=t[2],l=t[3],c=t[4],d=t[5],m=t[6],p=t[7],f=t[8],h=t[9],_=t[10],E=t[11],v=t[12],C=t[13],T=t[14],b=t[15];return t!==n&&(n[0]=i,n[1]=s,n[2]=u,n[3]=l,n[4]=c,n[5]=d,n[6]=m,n[7]=p,n[8]=f,n[9]=h,n[10]=_,n[11]=E),n[12]=i*r+c*a+f*o+v,n[13]=s*r+d*a+h*o+C,n[14]=u*r+m*a+_*o+T,n[15]=l*r+p*a+E*o+b,n}function v(t,e){e=e||new N(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C(t,e,n){n=n||new N(16);var r=t[4],a=t[5],o=t[6],i=t[7],s=t[8],u=t[9],l=t[10],c=t[11],d=Math.cos(e),m=Math.sin(e);return n[4]=d*r+m*s,n[5]=d*a+m*u,n[6]=d*o+m*l,n[7]=d*i+m*c,n[8]=d*s-m*r,n[9]=d*u-m*a,n[10]=d*l-m*o,n[11]=d*c-m*i,t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function T(t,e){e=e||new N(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(t,e,n){n=n||new N(16);var r=t[0],a=t[1],o=t[2],i=t[3],s=t[8],u=t[9],l=t[10],c=t[11],d=Math.cos(e),m=Math.sin(e);return n[0]=d*r-m*s,n[1]=d*a-m*u,n[2]=d*o-m*l,n[3]=d*i-m*c,n[8]=d*s+m*r,n[9]=d*u+m*a,n[10]=d*l+m*o,n[11]=d*c+m*i,t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function g(t,e){e=e||new N(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(t,e,n){n=n||new N(16);var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=Math.cos(e),m=Math.sin(e);return n[0]=d*r+m*s,n[1]=d*a+m*u,n[2]=d*o+m*l,n[3]=d*i+m*c,n[4]=d*s-m*r,n[5]=d*u-m*a,n[6]=d*l-m*o,n[7]=d*c-m*i,t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function S(t,e,n){n=n||new N(16);var r=t[0],a=t[1],o=t[2],i=Math.sqrt(r*r+a*a+o*o);r/=i,a/=i,o/=i;var s=r*r,u=a*a,l=o*o,c=Math.cos(e),d=Math.sin(e),m=1-c;return n[0]=s+(1-s)*c,n[1]=r*a*m+o*d,n[2]=r*o*m-a*d,n[3]=0,n[4]=r*a*m-o*d,n[5]=u+(1-u)*c,n[6]=a*o*m+r*d,n[7]=0,n[8]=r*o*m+a*d,n[9]=a*o*m-r*d,n[10]=l+(1-l)*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function R(t,e,n,r){r=r||new N(16);var a=e[0],o=e[1],i=e[2],s=Math.sqrt(a*a+o*o+i*i);a/=s,o/=s,i/=s;var u=a*a,l=o*o,c=i*i,d=Math.cos(n),m=Math.sin(n),p=1-d,f=u+(1-u)*d,h=a*o*p+i*m,_=a*i*p-o*m,E=a*o*p-i*m,v=l+(1-l)*d,C=o*i*p+a*m,T=a*i*p+o*m,b=o*i*p-a*m,g=c+(1-c)*d,A=t[0],S=t[1],R=t[2],y=t[3],I=t[4],F=t[5],x=t[6],M=t[7],O=t[8],D=t[9],B=t[10],w=t[11];return r[0]=f*A+h*I+_*O,r[1]=f*S+h*F+_*D,r[2]=f*R+h*x+_*B,r[3]=f*y+h*M+_*w,r[4]=E*A+v*I+C*O,r[5]=E*S+v*F+C*D,r[6]=E*R+v*x+C*B,r[7]=E*y+v*M+C*w,r[8]=T*A+b*I+g*O,r[9]=T*S+b*F+g*D,r[10]=T*R+b*x+g*B,r[11]=T*y+b*M+g*w,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r}function y(t,e){return e=e||new N(16),e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(t,e,n){n=n||new N(16);var r=e[0],a=e[1],o=e[2];return n[0]=r*t[0],n[1]=r*t[1],n[2]=r*t[2],n[3]=r*t[3],n[4]=a*t[4],n[5]=a*t[5],n[6]=a*t[6],n[7]=a*t[7],n[8]=o*t[8],n[9]=o*t[9],n[10]=o*t[10],n[11]=o*t[11],t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function F(e,n,r){r=r||t.create();var a=n[0],o=n[1],i=n[2],s=a*e[3]+o*e[7]+i*e[11]+e[15];return r[0]=(a*e[0]+o*e[4]+i*e[8]+e[12])/s,r[1]=(a*e[1]+o*e[5]+i*e[9]+e[13])/s,r[2]=(a*e[2]+o*e[6]+i*e[10]+e[14])/s,r}function x(e,n,r){r=r||t.create();var a=n[0],o=n[1],i=n[2];return r[0]=a*e[0]+o*e[4]+i*e[8],r[1]=a*e[1]+o*e[5]+i*e[9],r[2]=a*e[2]+o*e[6]+i*e[10],r}function M(e,n,r){r=r||t.create();var a=i(e),o=n[0],s=n[1],u=n[2];return r[0]=o*a[0]+s*a[1]+u*a[2],r[1]=o*a[4]+s*a[5]+u*a[6],r[2]=o*a[8]+s*a[9]+u*a[10],r}var N=Float32Array,O=t.create(),D=t.create(),B=t.create();return{axisRotate:R,axisRotation:S,create:a,copy:r,frustum:f,getAxis:c,getTranslation:l,identity:a,inverse:i,lookAt:h,multiply:s,negate:n,ortho:p,perspective:m,rotateX:C,rotateY:b,rotateZ:A,rotateAxis:R,rotationX:v,rotationY:T,rotationZ:g,scale:I,scaling:y,setAxis:d,setDefaultType:e,setTranslation:u,transformDirection:x,transformNormal:M,transformPoint:F,translate:E,translation:_,transpose:o}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[],void 0!==(a=function(){"use strict";function t(t){var e=v;return v=t,e}function e(t,e,n){var r=new v(3);return t&&(r[0]=t),e&&(r[1]=e),n&&(r[2]=n),r}function n(t,e,n){return n=n||new v(3),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function r(t,e,n){return n=n||new v(3),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function a(t,e,n,r){return r=r||new v(3),r[0]=(1-n)*t[0]+n*e[0],r[1]=(1-n)*t[1]+n*e[1],r[2]=(1-n)*t[2]+n*e[2],r}function o(t,e,n){return n=n||new v(3),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n}function i(t,e,n){return n=n||new v(3),n[0]=t[0]/e,n[1]=t[1]/e,n[2]=t[2]/e,n}function s(t,e,n){n=n||new v(3);var r=t[2]*e[0]-t[0]*e[2],a=t[0]*e[1]-t[1]*e[0];return n[0]=t[1]*e[2]-t[2]*e[1],n[1]=r,n[2]=a,n}function u(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function l(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function c(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function d(t,e){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)}function m(t,e){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function p(t,e){e=e||new v(3);var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=Math.sqrt(n);return r>1e-5?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=0,e[1]=0,e[2]=0),e}function f(t,e){return e=e||new v(3),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function h(t,e){return e=e||new v(3),e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _(t,e,n){return n=n||new v(3),n[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n}function E(t,e,n){return n=n||new v(3),n[0]=t[0]/e[0],n[1]=t[1]/e[1],n[2]=t[2]/e[2],n}var v=Float32Array;return{add:n,copy:h,create:e,cross:s,distance:d,distanceSq:m,divide:E,divScalar:i,dot:u,lerp:a,length:l,lengthSq:c,mulScalar:o,multiply:_,negate:f,normalize:p,setDefaultType:t,subtract:r}}.apply(e,r))&&(t.exports=a)},function(t,e,n){var r,a;r=[n(2),n(4),n(10),n(11)],void 0!==(a=function(t,e,n,r){"use strict";function a(t,e){var n=0;return t.push=function(){for(var e=0;e<arguments.length;++e){var r=arguments[e];if(r instanceof Array||r.buffer&&r.buffer instanceof ArrayBuffer)for(var a=0;a<r.length;++a)t[n++]=r[a];else t[n++]=r}},t.reset=function(t){n=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function o(t,e,n){return a(new(n||Float32Array)(t*e),t)}function i(t){return"indices"!==t}function s(t){function e(e){for(var i=t[e],s=i.numComponents,u=o(s,a,i.constructor),l=0;l<a;++l)for(var c=n[l],d=c*s,m=0;m<s;++m)u.push(i[d+m]);r[e]=u}var n=t.indices,r={},a=n.length;return Object.keys(t).filter(i).forEach(e),r}function u(t){if(t.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var e=t.normal,n=e.length,r=0;r<n;r+=9){var a=e[r+0],o=e[r+1],i=e[r+2],s=e[r+3],u=e[r+4],l=e[r+5],c=e[r+6],d=e[r+7],m=e[r+8],p=a+s+c,f=o+u+d,h=i+l+m,_=Math.sqrt(p*p+f*f+h*h);p/=_,f/=_,h/=_,e[r+0]=p,e[r+1]=f,e[r+2]=h,e[r+3]=p,e[r+4]=f,e[r+5]=h,e[r+6]=p,e[r+7]=f,e[r+8]=h}return t}function l(t,e,n){for(var r=t.length,a=new Float32Array(3),o=0;o<r;o+=3)n(e,[t[o],t[o+1],t[o+2]],a),t[o]=a[0],t[o+1]=a[1],t[o+2]=a[2]}function c(t,e,n){n=n||r.create();var a=e[0],o=e[1],i=e[2];return n[0]=a*t[0]+o*t[1]+i*t[2],n[1]=a*t[4]+o*t[5]+i*t[6],n[2]=a*t[8]+o*t[9]+i*t[10],n}function d(t,e){return l(t,e,n.transformDirection),t}function m(t,e){return l(t,n.inverse(e),c),t}function p(t,e){return l(t,e,n.transformPoint),t}function f(t,e){return Object.keys(t).forEach(function(n){var r=t[n];n.indexOf("pos")>=0?p(r,e):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?d(r,e):n.indexOf("norm")>=0&&m(r,e)}),t}function h(t,e,n){return t=t||2,e=e||0,n=n||0,t*=.5,{position:{numComponents:2,data:[e+-1*t,n+-1*t,e+1*t,n+-1*t,e+-1*t,n+1*t,e+1*t,n+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function _(t,e,r,a,i){t=t||1,e=e||1,r=r||1,a=a||1,i=i||n.identity();for(var s=(r+1)*(a+1),u=o(3,s),l=o(3,s),c=o(2,s),d=0;d<=a;d++)for(var m=0;m<=r;m++){var p=m/r,h=d/a;u.push(t*p-.5*t,0,e*h-.5*e),l.push(0,1,0),c.push(p,h)}for(var _=r+1,E=o(3,r*a*2,Uint16Array),d=0;d<a;d++)for(var m=0;m<r;m++)E.push((d+0)*_+m,(d+1)*_+m,(d+0)*_+m+1),E.push((d+1)*_+m,(d+1)*_+m+1,(d+0)*_+m+1);return f({position:u,normal:l,texcoord:c,indices:E},i)}function E(t,e,n,r,a,i,s){if(e<=0||n<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0,a=a||Math.PI,i=i||0,s=s||2*Math.PI;for(var u=a-r,l=s-i,c=(e+1)*(n+1),d=o(3,c),m=o(3,c),p=o(2,c),f=0;f<=n;f++)for(var h=0;h<=e;h++){var _=h/e,E=f/n,v=l*_,C=u*E,T=Math.sin(v),b=Math.cos(v),g=Math.sin(C),A=Math.cos(C),S=b*g,R=A,y=T*g;d.push(t*S,t*R,t*y),m.push(S,R,y),p.push(1-_,E)}for(var I=e+1,F=o(3,e*n*2,Uint16Array),h=0;h<e;h++)for(var f=0;f<n;f++)F.push((f+0)*I+h,(f+0)*I+h+1,(f+1)*I+h),F.push((f+1)*I+h,(f+0)*I+h+1,(f+1)*I+h+1);return{position:d,normal:m,texcoord:p,indices:F}}function v(t){t=t||1;for(var e=t/2,n=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],r=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],a=[[1,0],[0,0],[0,1],[1,1]],i=o(3,24),s=o(3,24),u=o(2,24),l=o(3,12,Uint16Array),c=0;c<6;++c){for(var d=P[c],m=0;m<4;++m){var p=n[d[m]],f=r[c],h=a[m];i.push(p),s.push(f),u.push(h)}var _=4*c;l.push(_+0,_+1,_+2),l.push(_+0,_+2,_+3)}return{position:i,normal:s,texcoord:u,indices:l}}function C(t,e,n,r,a,i,s){if(r<3)throw Error("radialSubdivisions must be 3 or greater");if(a<1)throw Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===i||i,l=void 0===s||s,c=(u?2:0)+(l?2:0),d=(r+1)*(a+1+c),m=o(3,d),p=o(3,d),f=o(2,d),h=o(3,r*(a+c)*2,Uint16Array),_=r+1,E=Math.atan2(t-e,n),v=Math.cos(E),C=Math.sin(E),T=u?-2:0,b=a+(l?2:0),g=T;g<=b;++g){var A,S=g/a,R=n*S;g<0?(R=0,S=1,A=t):g>a?(R=n,S=1,A=e):A=t+g/a*(e-t),-2!==g&&g!==a+2||(A=0,S=0),R-=n/2;for(var y=0;y<_;++y){var I=Math.sin(y*Math.PI*2/r),F=Math.cos(y*Math.PI*2/r);m.push(I*A,R,F*A),p.push(g<0||g>a?0:I*v,g<0?-1:g>a?1:C,g<0||g>a?0:F*v),f.push(y/r,1-S)}}for(var g=0;g<a+c;++g)for(var y=0;y<r;++y)h.push(_*(g+0)+0+y,_*(g+0)+1+y,_*(g+1)+1+y),h.push(_*(g+0)+0+y,_*(g+1)+1+y,_*(g+1)+0+y);return{position:m,normal:p,texcoord:f,indices:h}}function T(t,e){e=e||[];for(var n=[],r=0;r<t.length;r+=4){var a=t[r],o=t.slice(r+1,r+4);o.push.apply(o,e);for(var i=0;i<a;++i)n.push.apply(n,o)}return n}function b(){var t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],n=T([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=T([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),a=t.length/3,i={position:o(3,a),texcoord:o(2,a),normal:o(3,a),color:o(4,a,Uint8Array),indices:o(3,a/3,Uint16Array)};i.position.push(t),i.texcoord.push(e),i.normal.push(n),i.color.push(r);for(var s=0;s<a;++s)i.indices.push(s);return i}function g(t,e,n,a,i,s,u){function l(t,e,n){return t+(e-t)*n}function c(e,n,o,u,c,d){for(var f=0;f<=i;f++){var v=n/(m-1),C=f/i,T=2*(v-.5),b=(s+C*p)*Math.PI,g=Math.sin(b),A=Math.cos(b),S=l(t,e,g),R=T*a,y=A*t,I=g*S;h.push(R,y,I);var F=r.add(r.multiply([0,g,A],o),u);_.push(F),E.push(v*c+d,C)}}function d(t,e){for(var n=0;n<i;++n)T.push(t+n+0,t+n+1,e+n+0),T.push(t+n+1,e+n+1,e+n+0)}if(i<=0)throw Error("subdivisionDown must be > 0");s=s||0,u=u||1;for(var m=2,p=u-s,f=2*(i+1)*(2+m),h=o(3,f),_=o(3,f),E=o(2,f),v=0;v<m;v++){var C=2*(v/(m-1)-.5);c(e,v,[1,1,1],[0,0,0],1,0),c(e,v,[0,0,0],[C,0,0],0,0),c(n,v,[1,1,1],[0,0,0],1,0),c(n,v,[0,0,0],[C,0,0],0,1)}var T=o(3,2*i*(2+m),Uint16Array),b=i+1;return d(0*b,4*b),d(5*b,7*b),d(6*b,2*b),d(3*b,1*b),{position:h,normal:_,texcoord:E,indices:T}}function A(t,e,n,r,a,o){return C(t,t,e,n,r,a,o)}function S(t,e,n,r,a,i){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(r<3)throw Error("verticalSubdivisions must be 3 or greater");a=a||0,i=i||2*Math.PI;for(var s=i-a,u=n+1,l=r+1,c=u*l,d=o(3,c),m=o(3,c),p=o(2,c),f=o(3,n*r*2,Uint16Array),h=0;h<l;++h)for(var _=h/r,E=_*Math.PI*2,v=Math.sin(E),C=t+v*e,T=Math.cos(E),b=T*e,g=0;g<u;++g){var A=g/n,S=a+A*s,R=Math.sin(S),y=Math.cos(S),I=R*C,F=y*C,x=R*v,M=y*v;d.push(I,b,F),m.push(x,T,M),p.push(A,1-_)}for(var h=0;h<r;++h)for(var g=0;g<n;++g){var N=1+g,O=1+h;f.push(u*h+g,u*O+g,u*h+N),f.push(u*O+g,u*O+N,u*h+N)}return{position:d,normal:m,texcoord:p,indices:f}}function R(t,e,n,r,a){if(e<3)throw Error("divisions must be at least 3");n=n||1,a=a||1,r=r||0;for(var i=(e+1)*(n+1),s=o(3,i),u=o(3,i),l=o(2,i),c=o(3,n*e*2,Uint16Array),d=0,m=t-r,p=e+1,f=0;f<=n;++f){for(var h=r+m*Math.pow(f/n,a),_=0;_<=e;++_){var E=2*Math.PI*_/e,v=h*Math.cos(E),C=h*Math.sin(E);if(s.push(v,0,C),u.push(0,1,0),l.push(1-_/e,f/n),f>0&&_!==e){var T=d+(_+1),b=d+_,g=d+_-p,A=d+(_+1)-p;c.push(T,b,g),c.push(T,g,A)}}d+=e+1}return{position:s,normal:u,texcoord:l,indices:c}}function y(t){return Math.random()*t|0}function I(t,e){e=e||{};var n=t.position.numElements,r=o(4,n,Uint8Array),a=e.rand||function(t,e){return e<3?y(256):255};if(t.color=r,t.indices)for(var i=0;i<n;++i)r.push(a(i,0),a(i,1),a(i,2),a(i,3));else for(var s=e.vertsPerColor||3,u=n/s,i=0;i<u;++i)for(var l=[a(i,0),a(i,1),a(i,2),a(i,3)],c=0;c<s;++c)r.push(l);return t}function F(e){return function(n){var r=e.apply(this,Array.prototype.slice.call(arguments,1));return t.createBuffersFromArrays(n,r)}}function x(e){return function(n){var r=e.apply(null,Array.prototype.slice.call(arguments,1));return t.createBufferInfoFromArrays(n,r)}}function M(t,e,n,r){r=r||0;for(var a=t.length,o=0;o<a;++o)e[n+o]=t[o]+r}function N(t,n){var r=B(t),o=new r.constructor(n),i=o;return r.numComponents&&r.numElements&&a(o,r.numComponents),t.data&&(i={data:o},e.copyNamedProperties(L,t,i)),i}function O(t){function e(e){for(var n,r=0,a=0;a<t.length;++a){var o=t[a],i=o[e];r+=B(i).length,n&&!i.data||(n=i)}return{length:r,spec:n}}function n(e,n,r){for(var a=0,o=0,i=0;i<t.length;++i){var s=t[i],u=s[e],l=B(u);"indices"===e?(M(l,r,o,a),a+=n[i]):M(l,r,o),o+=l.length}}for(var r,a={},o=0;o<t.length;++o){var i=t[o];Object.keys(i).forEach(function(t){a[t]||(a[t]=[]),r||"indices"===t||(r=t);var e=i[t],n=w(e,t),o=B(e),s=o.length/n;a[t].push(s)})}var s=a[r],u={};return Object.keys(a).forEach(function(t){var r=e(t),a=N(r.spec,r.length);n(t,s,B(a)),u[t]=a}),u}function D(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n],a=B(r),o=N(r,a.length);M(a,B(o),0),e[n]=o}),e}var B=t.getArray_,w=t.getNumComponents_,P=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]],L=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];return{create3DFBufferInfo:x(b),create3DFBuffers:F(b),create3DFVertices:b,createAugmentedTypedArray:o,createCubeBufferInfo:x(v),createCubeBuffers:F(v),createCubeVertices:v,createPlaneBufferInfo:x(_),createPlaneBuffers:F(_),createPlaneVertices:_,createSphereBufferInfo:x(E),createSphereBuffers:F(E),createSphereVertices:E,createTruncatedConeBufferInfo:x(C),createTruncatedConeBuffers:F(C),createTruncatedConeVertices:C,createXYQuadBufferInfo:x(h),createXYQuadBuffers:F(h),createXYQuadVertices:h,createCresentBufferInfo:x(g),createCresentBuffers:F(g),createCresentVertices:g,createCylinderBufferInfo:x(A),createCylinderBuffers:F(A),createCylinderVertices:A,createTorusBufferInfo:x(S),createTorusBuffers:F(S),createTorusVertices:S,createDiscBufferInfo:x(R),createDiscBuffers:F(R),createDiscVertices:R,deindexVertices:s,flattenNormals:u,makeRandomVertexColors:I,reorientDirections:d,reorientNormals:m,reorientPositions:p,reorientVertices:f,concatVertices:O,duplicateVertices:D}}.apply(e,r))&&(t.exports=a)}])})},function(t,e,n){e.glMatrix=n(1),e.mat2=n(21),e.mat2d=n(22),e.mat3=n(11),e.mat4=n(23),e.quat=n(24),e.vec2=n(25),e.vec3=n(12),e.vec4=n(13)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(7),o=n(4),i=n(27),s=r.VERTEX_SIZE_SHORT,u=s+1,l=2*r.VERTEX_SIZE_SHORT,c=l+1,d=3*r.VERTEX_SIZE_SHORT,m=d+1,p=r.OFFSET_Z_INDEX,f=r.VERTEX_SIZE+r.OFFSET_Z_INDEX,h=2*r.VERTEX_SIZE+r.OFFSET_Z_INDEX,_=3*r.VERTEX_SIZE+r.OFFSET_Z_INDEX,E=r.OFFSET_PAL_SHIFT,v=r.VERTEX_SIZE+r.OFFSET_PAL_SHIFT,C=2*r.VERTEX_SIZE+r.OFFSET_PAL_SHIFT,T=3*r.VERTEX_SIZE+r.OFFSET_PAL_SHIFT,b=r.OFFSET_UV,g=b+1,A=r.VERTEX_SIZE+r.OFFSET_UV,S=A+1,R=2*r.VERTEX_SIZE+r.OFFSET_UV,y=R+1,I=3*r.VERTEX_SIZE+r.OFFSET_UV,F=I+1,x=function(){function t(t,e,n,r){this._id=t,this._buffer=e,this.tag={},this._isDirty=!0,this._transform=n||new a.Transform2d,r&&e.setAttributes(t,r.x,r.y,r.x+r.w,r.y+r.h,r.textureX,r.textureY,r.textureX+r.w,r.textureY+r.h,r.z,r.palOffset),this._options=r||e.getAttributeInfo(t)}return Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._options.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._options.y},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(this._transform.isDirty||this._isDirty){var t=this._options,e=this._transform.matrix,n=this._id;this._buffer.setPositionTransformed(n,t.x,t.y,t.x+t.w,t.y+t.h,e),this._buffer.setZ(n,t.z||1),this._buffer.setPalShift(n,t.palOffset||0),this._buffer.setUv(n,t.textureX,t.textureY,t.textureX+t.w,t.textureY+t.h),this._isDirty=!1}},t.prototype.center=function(){this._transform.ox=this._options.x+this._options.w/2,this._transform.oy=this._options.y+this._options.h/2},t}(),M=function(){function t(t,e){void 0===e&&(e=16),this._gl=t,this._capacity=e,this._dirty_start=r.HUGE,this._dirty_end=0,this._data=new ArrayBuffer(e*r.VERTICES_QUAD*r.VERTEX_SIZE),this._shortView=new Uint16Array(this._data),this._byteView=new Uint8Array(this._data),this._indices=new Uint16Array(e*r.INDICES_QUAD)}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._dirty_end-this._dirty_start>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferInfo",{get:function(){if(!this._bufferInfo)throw"Buffer not created. Did you forget to call create(...)?";return this._bufferInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"capacity",{get:function(){return this._capacity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vertexSize",{get:function(){return this._range*r.INDICES_QUAD},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(this._sprites&&this._sprites.forEach(function(t){return t.update()}),this.isDirty){var t=this._gl,e=this.bufferInfo.attribs.position.buffer,n=new Uint8Array(this._data,this._dirty_start,this._dirty_end-this._dirty_start);t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferSubData(t.ARRAY_BUFFER,this._dirty_start,n),this._dirty_start=r.HUGE,this._dirty_end=0}},t.prototype.destroy=function(){this._gl.deleteBuffer(this._bufferInfo.attribs.position.buffer),this._gl.deleteBuffer(this._bufferInfo.attribs.texcoord.buffer),this._gl.deleteBuffer(this._bufferInfo.attribs.indices.buffer),this._indices=null,this._shortView=null,this._byteView=null,this._data=null},Object.defineProperty(t.prototype,"range",{set:function(t){this._range=t,this._bufferInfo&&(this._bufferInfo.numElements=t*r.INDICES_QUAD)},enumerable:!0,configurable:!0}),t.prototype.create=function(){var t=o.createBufferFromTypedArray(this._gl,this._data,this._gl.ARRAY_BUFFER,this._gl.DYNAMIC_DRAW),e=new i.IndexBuffer(this._gl);return this._bufferInfo={numElements:this._range?this._range*r.INDICES_QUAD:this._indices.length,indices:e.buffer,elementType:e.elementType,attribs:{position:{buffer:t,numComponents:r.COMP_POS,type:this._gl.UNSIGNED_SHORT,stride:r.VERTEX_SIZE,offset:0},z_index:{buffer:t,numComponents:r.COMP_Z_INDEX,type:this._gl.UNSIGNED_BYTE,stride:r.VERTEX_SIZE,offset:r.OFFSET_Z_INDEX,normalize:!1},pal_shift:{buffer:t,numComponents:r.COMP_PAL_PAL_SHIFT,type:this._gl.UNSIGNED_BYTE,stride:r.VERTEX_SIZE,offset:r.OFFSET_PAL_SHIFT,normalize:!0},texcoord:{buffer:t,numComponents:r.COMP_UV,type:this._gl.UNSIGNED_BYTE,stride:r.VERTEX_SIZE,offset:r.OFFSET_UV,normalize:!1}}},this._range=0,this._dirty_start=r.HUGE,this._dirty_end=0,this},t.prototype.setPosition=function(t,e,n,a,o){var i=t*r.QUAD_SIZE_SHORT,p=this._shortView;p[i+0]=e,p[i+1]=n,p[i+s]=a,p[i+u]=n,p[i+l]=a,p[i+c]=o,p[i+d]=e,p[i+m]=o,this.setQuadDirty(i)},t.prototype.setPositionTransformed=function(t,e,n,a,o,i){var p=t*r.QUAD_SIZE_SHORT,f=this._shortView;f[p+0]=i[0]*e+i[4]*n+i[12],f[p+1]=i[1]*e+i[5]*n+i[13],f[p+s]=i[0]*a+i[4]*n+i[12],f[p+u]=i[1]*a+i[5]*n+i[13],f[p+l]=i[0]*a+i[4]*o+i[12],f[p+c]=i[1]*a+i[5]*o+i[13],f[p+d]=i[0]*e+i[4]*o+i[12],f[p+m]=i[1]*e+i[5]*o+i[13]},t.prototype.setUv=function(t,e,n,a,o){var i=t*r.QUAD_SIZE,s=this._byteView;s[i+b]=e,s[i+g]=n,s[i+A]=a-1,s[i+S]=n,s[i+R]=a-1,s[i+y]=o-1,s[i+I]=e,s[i+F]=o-1,this.setQuadDirty(i)},t.prototype.setPalShift=function(t,e){var n=t*r.QUAD_SIZE,a=this._byteView;a[n+E]=e,a[n+v]=e,a[n+C]=e,a[n+T]=e,this.setQuadDirty(n)},t.prototype.getPalShift=function(t){return this._byteView[t*r.QUAD_SIZE+E]},t.prototype.setZ=function(t,e){var n=t*r.QUAD_SIZE,a=this._byteView;a[n+p]=e,a[n+f]=e,a[n+h]=e,a[n+_]=e,this.setQuadDirty(n)},t.prototype.getZ=function(t){return this._byteView[t*r.QUAD_SIZE+p]},t.prototype.setAttributes=function(t,e,n,a,o,i,x,M,N,O,D){var B=t*r.QUAD_SIZE_SHORT,w=t*r.QUAD_SIZE,P=this._shortView,L=this._byteView;P[B+0]=e,P[B+1]=n,L[w+p]=O,L[w+E]=D,L[w+b]=i,L[w+g]=x,P[B+s]=a,P[B+u]=n,L[w+f]=O,L[w+v]=D,L[w+A]=M-1,L[w+S]=x,P[B+l]=a,P[B+c]=o,L[w+h]=O,L[w+C]=D,L[w+R]=M-1,L[w+y]=N-1,P[B+d]=e,P[B+m]=o,L[w+_]=O,L[w+T]=D,L[w+I]=i,L[w+F]=N-1,this.setQuadDirty(w)},t.prototype.add=function(){return this._range>=this._capacity&&this._resize(2*this._capacity),this._range++},t.prototype.addMany=function(t){for(var e=[],n=0;n<t;n++)e.push(this.add())},t.prototype.getAttributeInfo=function(t){var e=t*r.QUAD_SIZE_SHORT,n=t*r.QUAD_SIZE,a=this._shortView,o=this._byteView;return{x:a[e+0],y:a[e+1],w:a[e+l]-a[e+0],h:a[e+c]-a[e+1],z:o[n+p],palOffset:o[n+E],textureX:o[n+b],textureY:o[n+g]}},t.prototype.setAttributeBytes=function(t,e){var n=t*r.QUAD_SIZE;this._byteView.set(e,n),this.setQuadDirty(n)},t.prototype.getAttributeBytes=function(t,e){var n=t*r.QUAD_SIZE;return new Uint8Array(this._data,n,r.QUAD_SIZE)},t.prototype.clearQuad=function(t){this.setAttributes(0,0,0,0,0,0,0,0,0,0,0)},t.prototype.setQuadDirty=function(t){this._dirty_start=Math.min(t,this._dirty_start),this._dirty_end=Math.max(t+r.QUAD_SIZE,this._dirty_end)},t.prototype.setAllDirty=function(){this._dirty_start=0,this._dirty_end=this._range*r.QUAD_SIZE},t.prototype.createSprite=function(t,e,n){var r=new x(t,this,e,n);return this._sprites=this._sprites||[],this._sprites.push(r),r},t.prototype._resize=function(t){if(t>r.MAX_QUADS)throw"Maximum quads per buffer ("+r.MAX_QUADS+") exceeded: "+t;this._capacity=t;var e=this.bufferInfo.attribs.position.buffer;console.log("resize buffer to "+t);var n=new ArrayBuffer(t*r.QUAD_SIZE),a=new Uint8Array(n);a.set(this._byteView),this._shortView=new Uint16Array(n),this._byteView=a,this._data=n,this._gl.bindBuffer(this._gl.ARRAY_BUFFER,e),this._gl.bufferData(this._gl.ARRAY_BUFFER,this._data,this._gl.DYNAMIC_DRAW)},t.prototype._vec2Transform=function(t,e,n,r){void 0===r&&(r=0),this._shortView[r]=n[0]*t+n[4]*e+n[12],this._shortView[r+1]=n[1]*t+n[5]*e+n[13]},t}();e.QuadBuffer=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),a=function(){function t(){this._dirty=!0,this._rDirty=!0,this._matrix=r.mat4.create(),this._quat=r.quat.create(),this._trans=r.vec3.fromValues(0,0,0),this._origin=r.vec3.fromValues(0,0,0),this._scale=r.vec3.fromValues(1,1,1),this._axis=r.vec3.fromValues(0,0,1),this._angle=0}return Object.defineProperty(t.prototype,"matrix",{get:function(){return this._dirty&&this._buildMatrix(),this._buildMatrix(),this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._trans[0]},set:function(t){this._trans[0]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._trans[1]},set:function(t){this._trans[1]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._trans[2]},set:function(t){this._trans[2]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rot",{get:function(){return this._angle},set:function(t){this._angle=t,this._rDirty=!0,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sx",{get:function(){return this._scale[0]},set:function(t){this._scale[0]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sy",{get:function(){return this._scale[1]},set:function(t){this._scale[1]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ox",{get:function(){return this._origin[0]},set:function(t){this._origin[0]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oy",{get:function(){return this._origin[1]},set:function(t){this._origin[1]=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t.prototype.update=function(){this._dirty&&this._buildMatrix()},t.prototype._buildMatrix=function(){this._rDirty&&this._buildQuat(),r.mat4.fromRotationTranslationScaleOrigin(this._matrix,this._quat,this._trans,this._scale,this._origin),this._dirty=!1},t.prototype._buildQuat=function(){r.quat.setAxisAngle(this._quat,this._axis,this._angle),this._rDirty=!1},t}();e.Transform2d=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(4);!function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(e.ColorComponent||(e.ColorComponent={}));var o=function(){function t(t){this._gl=t,this._dirtyStart=r.HUGE,this._dirtyEnd=0,this._texdata=new Uint8Array(r.TEXTURE_SIZE*r.TEXTURE_SIZE*this._components)}return Object.defineProperty(t.prototype,"texture",{get:function(){if(!this._texture)throw"No texture available. Did you forget to call create(...)?";return this._texture},enumerable:!0,configurable:!0}),t.prototype.getRawData=function(){return this._texdata},t.prototype.setRawData=function(t){this._texdata=t,this.setAllDirty()},Object.defineProperty(t.prototype,"colorDepth",{get:function(){switch(this._options.format){case this._gl.RGBA:return 32;case this._gl.LUMINANCE:case this._gl.ALPHA:return 8;case this._gl.RGB:return 24}},enumerable:!0,configurable:!0}),t.prototype.setDataFunc=function(t){for(var e=this._texdata,n=(Math.floor,this._components),a=0;a<e.length;a++){var o=a%n,i=Math.floor((a-o)/n);e[a]=t(i%r.TEXTURE_SIZE,Math.floor(i/r.TEXTURE_SIZE),a%n)}this.setAllDirty()},t.prototype.create=function(){return this._texture=a.createTexture(this._gl,this._options),this._dirtyEnd=0,this._dirtyStart=r.HUGE,this},t.prototype.update=function(){var t=this._dirtyEnd-this._dirtyStart;if(t>0){var e=this._options,n=new Uint8Array(this._texdata.buffer,this._dirtyStart,t),a=this._components*r.TEXTURE_SIZE,o=Math.floor(this._dirtyStart/a),i=Math.floor(t/a);console.log(0,o,256,i),this._gl.bindTexture(e.target,this.texture),this._gl.texSubImage2D(e.target,0,0,o,256,i,e.format,e.type,n),this._dirtyEnd=0,this._dirtyStart=r.HUGE}},t.prototype.setAllDirty=function(){this._dirtyStart=0,this._dirtyEnd=this._texdata.length},t.prototype.getPixel=function(t,e){for(var n=this._components,a=new Array(n),o=(e*r.TEXTURE_SIZE+t)*n,i=0;i<n;i++)a[i]=this._texdata[o+i];return a},t.prototype.setPixel=function(t,e,n){var a=this._components;if(n.length!=a)throw"Color needs to be an array with length "+a;for(var o=(e*r.TEXTURE_SIZE+t)*a,i=0;i<a;i++)this._texdata[o+i]=n[i];this.setRowDirty(e)},t.prototype.setRowDirty=function(t){var e=t*r.TEXTURE_SIZE*this._components;this._dirtyStart=Math.min(this._dirtyStart,e),this._dirtyEnd=Math.max(this._dirtyEnd,e+r.TEXTURE_SIZE*this._components)},t}();e.PixelTexture=o},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);r.__exportStar(n(0),e),r.__exportStar(n(26),e),r.__exportStar(n(6),e),r.__exportStar(n(28),e),r.__exportStar(n(29),e),r.__exportStar(n(30),e),r.__exportStar(n(31),e),r.__exportStar(n(7),e),r.__exportStar(n(8),e),r.__exportStar(n(32),e),r.__exportStar(n(33),e)},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromValues=function(t,e,n,a,o,i,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=a,c[4]=o,c[5]=i,c[6]=s,c[7]=u,c[8]=l,c},a.set=function(t,e,n,r,a,o,i,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=s,t[7]=u,t[8]=l,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=c*i-s*l,m=-c*o+s*u,p=l*o-i*u,f=n*d+r*m+a*p;return f?(f=1/f,t[0]=d*f,t[1]=(-c*r+a*l)*f,t[2]=(s*r-a*i)*f,t[3]=m*f,t[4]=(c*n-a*u)*f,t[5]=(-s*n+a*o)*f,t[6]=p*f,t[7]=(-l*n+r*u)*f,t[8]=(i*n-r*o)*f,t):null},a.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=i*c-s*l,t[1]=a*l-r*c,t[2]=r*s-a*i,t[3]=s*u-o*c,t[4]=n*c-a*u,t[5]=a*o-n*s,t[6]=o*l-i*u,t[7]=r*u-n*l,t[8]=n*i-r*o,t},a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-i*u)+n*(-l*a+i*s)+r*(u*a-o*s)},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],m=n[0],p=n[1],f=n[2],h=n[3],_=n[4],E=n[5],v=n[6],C=n[7],T=n[8];return t[0]=m*r+p*i+f*l,t[1]=m*a+p*s+f*c,t[2]=m*o+p*u+f*d,t[3]=h*r+_*i+E*l,t[4]=h*a+_*s+E*c,t[5]=h*o+_*u+E*d,t[6]=v*r+C*i+T*l,t[7]=v*a+C*s+T*c,t[8]=v*o+C*u+T*d,t},a.mul=a.multiply,a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],m=n[0],p=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=s,t[5]=u,t[6]=m*r+p*i+l,t[7]=m*a+p*s+c,t[8]=m*o+p*u+d,t},a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],m=Math.sin(n),p=Math.cos(n);return t[0]=p*r+m*i,t[1]=p*a+m*s,t[2]=p*o+m*u,t[3]=p*i-m*r,t[4]=p*s-m*a,t[5]=p*u-m*o,t[6]=l,t[7]=c,t[8]=d,t},a.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,s=r+r,u=a+a,l=n*i,c=r*i,d=r*s,m=a*i,p=a*s,f=a*u,h=o*i,_=o*s,E=o*u;return t[0]=1-d-f,t[3]=c-E,t[6]=m+_,t[1]=c+E,t[4]=1-l-f,t[7]=p-h,t[2]=m-_,t[5]=p+h,t[8]=1-l-d,t},a.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],m=e[10],p=e[11],f=e[12],h=e[13],_=e[14],E=e[15],v=n*s-r*i,C=n*u-a*i,T=n*l-o*i,b=r*u-a*s,g=r*l-o*s,A=a*l-o*u,S=c*h-d*f,R=c*_-m*f,y=c*E-p*f,I=d*_-m*h,F=d*E-p*h,x=m*E-p*_,M=v*x-C*F+T*I+b*y-g*R+A*S;return M?(M=1/M,t[0]=(s*x-u*F+l*I)*M,t[1]=(u*y-i*x-l*R)*M,t[2]=(i*F-s*y+l*S)*M,t[3]=(a*F-r*x-o*I)*M,t[4]=(n*x-a*y+o*R)*M,t[5]=(r*y-n*F-o*S)*M,t[6]=(h*A-_*g+E*b)*M,t[7]=(_*T-f*A-E*C)*M,t[8]=(f*g-h*T+E*v)*M,t):null},a.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],m=e[0],p=e[1],f=e[2],h=e[3],_=e[4],E=e[5],v=t[6],C=e[7],T=e[8];return Math.abs(n-m)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-_)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(u-E)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-C)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(d-T)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.fromValues=function(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],s=n[1],u=n[2];return t[0]=a*u-o*s,t[1]=o*i-r*u,t[2]=r*s-a*i,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},a.hermite=function(t,e,n,r,a,o){var i=o*o,s=i*(2*o-3)+1,u=i*(o-2)+o,l=i*(o-1),c=i*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+a[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+a[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+a[2]*c,t},a.bezier=function(t,e,n,r,a,o){var i=1-o,s=i*i,u=o*o,l=s*i,c=3*o*s,d=3*u*i,m=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*d+a[0]*m,t[1]=e[1]*l+n[1]*c+r[1]*d+a[1]*m,t[2]=e[2]*l+n[2]*c+r[2]*d+a[2]*m,t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*a,d=l*a+u*r-i*o,m=l*o+i*a-s*r,p=-i*r-s*a-u*o;return t[0]=c*l+p*-i+d*-u-m*-s,t[1]=d*l+p*-s+m*-i-c*-u,t[2]=m*l+p*-u+c*-s-d*-i,t},a.rotateX=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateY=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateZ=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var s,u;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,i),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),a.angle=function(t,e){var n=a.fromValues(t[0],t[1],t[2]),r=a.fromValues(e[0],e[1],e[2]);a.normalize(n,n),a.normalize(r,r);var o=a.dot(n,r);return o>1?0:Math.acos(o)},a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=e[0],s=e[1],u=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],s=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=s+r*(n[3]-s),t},a.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*a,d=l*a+u*r-i*o,m=l*o+i*a-s*r,p=-i*r-s*a-u*o;return t[0]=c*l+p*-i+d*-u-m*-s,t[1]=d*l+p*-s+m*-i-c*-u,t[2]=m*l+p*-u+c*-s-d*-i,t[3]=e[3],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,i),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),a.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Header=1229472850]="Header",t[t.Palette=1347179589]="Palette",t[t.Data=1229209940]="Data",t[t.End=1229278788]="End"}(e.ChunkType||(e.ChunkType={}));!function(t){t[t.Greyscale=0]="Greyscale",t[t.Truecolor=2]="Truecolor",t[t.Indexed=3]="Indexed",t[t.GreyscaleAlpha=4]="GreyscaleAlpha",t[t.TruecolorAlpha=6]="TruecolorAlpha"}(e.ColorType||(e.ColorType={})),e.SIGN_OFFSET=8,e.LENGTH_LENGTH=4,e.TYPE_LENGTH=4,e.CRC_LENGTH=4},function(t,e,n){"use strict";function r(t,e,n,r){for(var a=65535&t|0,o=t>>>16&65535|0,i=0;0!==n;){i=n>2e3?2e3:n,n-=i;do{a=a+e[r++]|0,o=o+a|0}while(--i);a%=65521,o%=65521}return a|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=a,i=r+n;t^=-1;for(var s=r;s<i;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var a=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=r},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&i||!t.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var a=n(3),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var s=new a.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,i,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new a.Buf8(u),i=0,o=0;i<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new a.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,a,o,i,u=e||t.length,l=new Array(2*u);for(a=0,n=0;n<u;)if((o=t[n++])<128)l[a++]=o;else if((i=s[o])>4)l[a++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<u;)o=o<<6|63&t[n++],i--;i>1?l[a++]=65533:o<65536?l[a++]=o:(o-=65536,l[a++]=55296|o>>10&1023,l[a++]=56320|1023&o)}return r(l,a)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(10),o=n(35),i=n(4),s=n(36),u=n(37),l=n(38),c=n(39),d=new u.Spector;d.displayUI(),d.spyCanvases();var m,p,f,h,_=0;!function(){r.__awaiter(this,void 0,void 0,function(){function t(n){e.begin(),_+=.1,N*=.9,R.forEach(function(t){return t.transform.y=3*Math.sin(t.x/4+_)});var r=F.createSprite(F.add(),new a.Transform2d,{w:2,h:2,palOffset:0,textureX:32,textureY:0,x:1,y:1,z:250});r.tag.dx=Math.random(),r.tag.dy=Math.random(),x.push(r),x.forEach(function(t){(t.transform.x>320||t.transform.x<0)&&(t.tag.dx=-t.tag.dx),(t.transform.y>180||t.transform.y<0)&&(t.tag.dy=-t.tag.dy),t.transform.x+=t.tag.dx,t.transform.y+=t.tag.dy}),p.render(),e.end(),requestAnimationFrame(t)}var e,u,d,E,v,C,T,b,g,A,S,R,y,I,F,x,M,N,O,D;return r.__generator(this,function(r){for(e=new s,e.showPanel(0),document.body.appendChild(e.dom),m=o.initWebGl(),u=n(50),d=n(51),E=i.createProgramInfo(m,[u,d]),v=new a.PaletteTexture(m).create(),C=new c.PngReader(l.stringToBuffer(n(52))),T=new a.IndexedTexture(m).create(),T.setRawData(C.createPixelData()),v.setRawPalette(0,C.createPaletteDataRgba(256)),b=new c.PngReader(l.stringToBuffer(n(53))),g=new a.IndexedTexture(m).create(),A=n(54),g.setRawData(b.createPixelData()),v.setRawPalette(1,b.createPaletteDataRgba(256)),p=new a.Renderer(m,{shader:E,palette:v,texture:g,paletteId:0,zSort:!0,blendMode:"none"}),f=o.createTileSprite(m,T,v,0),S=new a.TextBuffer(m,A).create(),S.write("Start Game",320,130,50,4,4),S.write("Load Game",320,130,66,4),S.write("Settings",320,130,82,4),S.write("Quit",320,130,98,4),h=new a.Renderable({buffer:S,texture:g,paletteId:1}),R=[],y=0;y<"Start Game".length;y++)I=S.createSprite(y),R.push(I);return F=new a.QuadBuffer(m).create(),x=[],M=new a.Renderable({buffer:F,texture:T,paletteId:0}),p.renderList.push(f),p.renderList.push(h),p.renderList.push(M),N=.5,requestAnimationFrame(t),O=0,D=0,setInterval(function(){},16),[2]})})}()},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;return i?(i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t):null},a.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*l+o*c,t[3]=a*l+i*c,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*-s+o*u,t[3]=a*-s+i*u,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=a*s,t[2]=o*u,t[3]=i*u,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},a.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.fromValues=function(t,e,n,a,o,i){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=i,s},a.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=n*o-r*a;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-a*u,t[3]=n*u,t[4]=(a*s-o*i)*u,t[5]=(r*i-n*s)*u,t):null},a.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=n[0],c=n[1],d=n[2],m=n[3],p=n[4],f=n[5];return t[0]=r*l+o*c,t[1]=a*l+i*c,t[2]=r*d+o*m,t[3]=a*d+i*m,t[4]=r*p+o*f+s,t[5]=a*p+i*f+u,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=a*c+i*l,t[2]=r*-l+o*c,t[3]=a*-l+i*c,t[4]=s,t[5]=u,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=a*l,t[2]=o*c,t[3]=i*c,t[4]=s,t[5]=u,t},a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*l+o*c+s,t[5]=a*l+i*c+u,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},a.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=e[0],c=e[1],d=e[2],m=e[3],p=e[4],f=e[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-p)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-f)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(f))},t.exports=a},function(t,e,n){var r=n(1),a={scalar:{},SIMD:{}};a.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.fromValues=function(t,e,n,a,o,i,s,u,l,c,d,m,p,f,h,_){var E=new r.ARRAY_TYPE(16);return E[0]=t,E[1]=e,E[2]=n,E[3]=a,E[4]=o,E[5]=i,E[6]=s,E[7]=u,E[8]=l,E[9]=c,E[10]=d,E[11]=m,E[12]=p,E[13]=f,E[14]=h,E[15]=_,E},a.set=function(t,e,n,r,a,o,i,s,u,l,c,d,m,p,f,h,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=d,t[11]=m,t[12]=p,t[13]=f,t[14]=h,t[15]=_,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},a.SIMD.transpose=function(t,e){var n,r,a,o,i,s,u,l,c,d;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(a,o,0,1,4,5),u=SIMD.Float32x4.shuffle(i,s,0,2,4,6),l=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,l),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(a,o,2,3,6,7),c=SIMD.Float32x4.shuffle(i,s,0,2,4,6),d=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,d),t},a.transpose=r.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],m=e[10],p=e[11],f=e[12],h=e[13],_=e[14],E=e[15],v=n*s-r*i,C=n*u-a*i,T=n*l-o*i,b=r*u-a*s,g=r*l-o*s,A=a*l-o*u,S=c*h-d*f,R=c*_-m*f,y=c*E-p*f,I=d*_-m*h,F=d*E-p*h,x=m*E-p*_,M=v*x-C*F+T*I+b*y-g*R+A*S;return M?(M=1/M,t[0]=(s*x-u*F+l*I)*M,t[1]=(a*F-r*x-o*I)*M,t[2]=(h*A-_*g+E*b)*M,t[3]=(m*g-d*A-p*b)*M,t[4]=(u*y-i*x-l*R)*M,t[5]=(n*x-a*y+o*R)*M,t[6]=(_*T-f*A-E*C)*M,t[7]=(c*A-m*T+p*C)*M,t[8]=(i*F-s*y+l*S)*M,t[9]=(r*y-n*F-o*S)*M,t[10]=(f*g-h*T+E*v)*M,t[11]=(d*T-c*g-p*v)*M,t[12]=(s*R-i*I-u*S)*M,t[13]=(n*I-r*R+a*S)*M,t[14]=(h*C-f*b-_*v)*M,t[15]=(c*b-d*C+m*v)*M,t):null},a.SIMD.invert=function(t,e){var n,r,a,o,i,s,u,l,c,d,m=SIMD.Float32x4.load(e,0),p=SIMD.Float32x4.load(e,4),f=SIMD.Float32x4.load(e,8),h=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(m,p,0,1,4,5),r=SIMD.Float32x4.shuffle(f,h,0,1,4,5),n=SIMD.Float32x4.shuffle(i,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,i,1,3,5,7),i=SIMD.Float32x4.shuffle(m,p,2,3,6,7),o=SIMD.Float32x4.shuffle(f,h,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.mul(r,i),u=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),s),l=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,i)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(n,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(a,i)),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),l),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(n,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),c),d=SIMD.Float32x4.mul(n,s),d=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(d,2,3,0,1),d),d=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(d,1,0,3,2),d),i=SIMD.Float32x4.reciprocalApproximation(d),d=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(d,SIMD.Float32x4.mul(i,i))),(d=SIMD.Float32x4.swizzle(d,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(d,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(d,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(d,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(d,c)),t):null},a.invert=r.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],m=e[10],p=e[11],f=e[12],h=e[13],_=e[14],E=e[15];return t[0]=s*(m*E-p*_)-d*(u*E-l*_)+h*(u*p-l*m),t[1]=-(r*(m*E-p*_)-d*(a*E-o*_)+h*(a*p-o*m)),t[2]=r*(u*E-l*_)-s*(a*E-o*_)+h*(a*l-o*u),t[3]=-(r*(u*p-l*m)-s*(a*p-o*m)+d*(a*l-o*u)),t[4]=-(i*(m*E-p*_)-c*(u*E-l*_)+f*(u*p-l*m)),t[5]=n*(m*E-p*_)-c*(a*E-o*_)+f*(a*p-o*m),t[6]=-(n*(u*E-l*_)-i*(a*E-o*_)+f*(a*l-o*u)),t[7]=n*(u*p-l*m)-i*(a*p-o*m)+c*(a*l-o*u),t[8]=i*(d*E-p*h)-c*(s*E-l*h)+f*(s*p-l*d),t[9]=-(n*(d*E-p*h)-c*(r*E-o*h)+f*(r*p-o*d)),t[10]=n*(s*E-l*h)-i*(r*E-o*h)+f*(r*l-o*s),t[11]=-(n*(s*p-l*d)-i*(r*p-o*d)+c*(r*l-o*s)),t[12]=-(i*(d*_-m*h)-c*(s*_-u*h)+f*(s*m-u*d)),t[13]=n*(d*_-m*h)-c*(r*_-a*h)+f*(r*m-a*d),t[14]=-(n*(s*_-u*h)-i*(r*_-a*h)+f*(r*u-a*s)),t[15]=n*(s*m-u*d)-i*(r*m-a*d)+c*(r*u-a*s),t},a.SIMD.adjoint=function(t,e){var n,r,a,o,i,s,u,l,c,d,m,p,f,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(a,o,0,1,4,5),i=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),l=SIMD.Float32x4.shuffle(a,o,2,3,6,7),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.mul(s,c),m=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),d),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),c=SIMD.Float32x4.mul(s,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),d),f=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),d),p=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),p),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),f),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),p),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),m),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(i,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),m),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(l,c)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),SIMD.Float32x4.store(t,0,d),SIMD.Float32x4.store(t,4,m),SIMD.Float32x4.store(t,8,p),SIMD.Float32x4.store(t,12,f),t},a.adjoint=r.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],m=t[11],p=t[12],f=t[13],h=t[14],_=t[15];return(e*i-n*o)*(d*_-m*h)-(e*s-r*o)*(c*_-m*f)+(e*u-a*o)*(c*h-d*f)+(n*s-r*i)*(l*_-m*p)-(n*u-a*i)*(l*h-d*p)+(r*u-a*s)*(l*f-c*p)},a.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,0,u);var l=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),i))));SIMD.Float32x4.store(t,4,c);var d=SIMD.Float32x4.load(n,8),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),i))));SIMD.Float32x4.store(t,8,m);var p=SIMD.Float32x4.load(n,12),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,f),t},a.scalar.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],m=e[9],p=e[10],f=e[11],h=e[12],_=e[13],E=e[14],v=e[15],C=n[0],T=n[1],b=n[2],g=n[3];return t[0]=C*r+T*s+b*d+g*h,t[1]=C*a+T*u+b*m+g*_,t[2]=C*o+T*l+b*p+g*E,t[3]=C*i+T*c+b*f+g*v,C=n[4],T=n[5],b=n[6],g=n[7],t[4]=C*r+T*s+b*d+g*h,t[5]=C*a+T*u+b*m+g*_,t[6]=C*o+T*l+b*p+g*E,t[7]=C*i+T*c+b*f+g*v,C=n[8],T=n[9],b=n[10],g=n[11],t[8]=C*r+T*s+b*d+g*h,t[9]=C*a+T*u+b*m+g*_,t[10]=C*o+T*l+b*p+g*E,t[11]=C*i+T*c+b*f+g*v,C=n[12],T=n[13],b=n[14],g=n[15],t[12]=C*r+T*s+b*d+g*h,t[13]=C*a+T*u+b*m+g*_,t[14]=C*o+T*l+b*p+g*E,t[15]=C*i+T*c+b*f+g*v,t},a.multiply=r.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(t,e,n){var r,a,o,i,s,u,l,c,d,m,p,f,h=n[0],_=n[1],E=n[2];return e===t?(t[12]=e[0]*h+e[4]*_+e[8]*E+e[12],t[13]=e[1]*h+e[5]*_+e[9]*E+e[13],t[14]=e[2]*h+e[6]*_+e[10]*E+e[14],t[15]=e[3]*h+e[7]*_+e[11]*E+e[15]):(r=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],m=e[9],p=e[10],f=e[11],t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=d,t[9]=m,t[10]=p,t[11]=f,t[12]=r*h+s*_+d*E+e[12],t[13]=a*h+u*_+m*E+e[13],t[14]=o*h+l*_+p*E+e[14],t[15]=i*h+c*_+f*E+e[15]),t},a.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(a,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,u),t},a.translate=r.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(t,e,n){var r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.SIMD.scale=function(t,e,n){var r,a,o,i=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0))),a=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.scale=r.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(t,e,n,a){var o,i,s,u,l,c,d,m,p,f,h,_,E,v,C,T,b,g,A,S,R,y,I,F,x=a[0],M=a[1],N=a[2],O=Math.sqrt(x*x+M*M+N*N);return Math.abs(O)<r.EPSILON?null:(O=1/O,x*=O,M*=O,N*=O,o=Math.sin(n),i=Math.cos(n),s=1-i,u=e[0],l=e[1],c=e[2],d=e[3],m=e[4],p=e[5],f=e[6],h=e[7],_=e[8],E=e[9],v=e[10],C=e[11],T=x*x*s+i,b=M*x*s+N*o,g=N*x*s-M*o,A=x*M*s-N*o,S=M*M*s+i,R=N*M*s+x*o,y=x*N*s+M*o,I=M*N*s-x*o,F=N*N*s+i,t[0]=u*T+m*b+_*g,t[1]=l*T+p*b+E*g,t[2]=c*T+f*b+v*g,t[3]=d*T+h*b+C*g,t[4]=u*A+m*S+_*R,t[5]=l*A+p*S+E*R,t[6]=c*A+f*S+v*R,t[7]=d*A+h*S+C*R,t[8]=u*y+m*I+_*F,t[9]=l*y+p*I+E*F,t[10]=c*y+f*I+v*F,t[11]=d*y+h*I+C*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},a.scalar.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],m=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+l*r,t[5]=i*a+c*r,t[6]=s*a+d*r,t[7]=u*a+m*r,t[8]=l*a-o*r,t[9]=c*a-i*r,t[10]=d*a-s*r,t[11]=m*a-u*r,t},a.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateX=r.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],s=e[2],u=e[3],l=e[8],c=e[9],d=e[10],m=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-l*r,t[1]=i*a-c*r,t[2]=s*a-d*r,t[3]=u*a-m*r,t[8]=o*r+l*a,t[9]=i*r+c*a,t[10]=s*r+d*a,t[11]=u*r+m*a,t},a.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,a))),t},a.rotateY=r.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],s=e[2],u=e[3],l=e[4],c=e[5],d=e[6],m=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+l*r,t[1]=i*a+c*r,t[2]=s*a+d*r,t[3]=u*a+m*r,t[4]=l*a-o*r,t[5]=c*a-i*r,t[6]=d*a-s*r,t[7]=m*a-u*r,t},a.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateZ=r.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e,n){var a,o,i,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,a=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=s*s*i+o,t[1]=u*s*i+l*a,t[2]=l*s*i-u*a,t[3]=0,t[4]=s*u*i-l*a,t[5]=u*u*i+o,t[6]=l*u*i+s*a,t[7]=0,t[8]=s*l*i+u*a,t[9]=u*l*i-s*a,t[10]=l*l*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},a.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=r+r,u=a+a,l=o+o,c=r*s,d=r*u,m=r*l,p=a*u,f=a*l,h=o*l,_=i*s,E=i*u,v=i*l;return t[0]=1-(p+h),t[1]=d+v,t[2]=m-E,t[3]=0,t[4]=d-v,t[5]=1-(c+h),t[6]=f+_,t[7]=0,t[8]=m+E,t[9]=f-_,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},a.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},a.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],s=e[3],u=a+a,l=o+o,c=i+i,d=a*u,m=a*l,p=a*c,f=o*l,h=o*c,_=i*c,E=s*u,v=s*l,C=s*c,T=r[0],b=r[1],g=r[2];return t[0]=(1-(f+_))*T,t[1]=(m+C)*T,t[2]=(p-v)*T,t[3]=0,t[4]=(m-C)*b,t[5]=(1-(d+_))*b,t[6]=(h+E)*b,t[7]=0,t[8]=(p+v)*g,t[9]=(h-E)*g,t[10]=(1-(d+f))*g,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var o=e[0],i=e[1],s=e[2],u=e[3],l=o+o,c=i+i,d=s+s,m=o*l,p=o*c,f=o*d,h=i*c,_=i*d,E=s*d,v=u*l,C=u*c,T=u*d,b=r[0],g=r[1],A=r[2],S=a[0],R=a[1],y=a[2];return t[0]=(1-(h+E))*b,t[1]=(p+T)*b,t[2]=(f-C)*b,t[3]=0,t[4]=(p-T)*g,t[5]=(1-(m+E))*g,t[6]=(_+v)*g,t[7]=0,t[8]=(f+C)*A,t[9]=(_-v)*A,t[10]=(1-(m+h))*A,t[11]=0,t[12]=n[0]+S-(t[0]*S+t[4]*R+t[8]*y),t[13]=n[1]+R-(t[1]*S+t[5]*R+t[9]*y),t[14]=n[2]+y-(t[2]*S+t[6]*R+t[10]*y),t[15]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,s=r+r,u=a+a,l=n*i,c=r*i,d=r*s,m=a*i,p=a*s,f=a*u,h=o*i,_=o*s,E=o*u;return t[0]=1-d-f,t[1]=c+E,t[2]=m-_,t[3]=0,t[4]=c-E,t[5]=1-l-f,t[6]=p+h,t[7]=0,t[8]=m+_,t[9]=p-h,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.frustum=function(t,e,n,r,a,o,i){var s=1/(n-e),u=1/(a-r),l=1/(o-i);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(a+r)*u,t[10]=(i+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*l,t[15]=0,t},a.perspective=function(t,e,n,r,a){var o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},a.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(i+s),l=2/(a+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(i-s)*u*.5,t[9]=(a-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},a.ortho=function(t,e,n,r,a,o,i){var s=1/(e-n),u=1/(r-a),l=1/(o-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*u,t[14]=(i+o)*l,t[15]=1,t},a.lookAt=function(t,e,n,o){var i,s,u,l,c,d,m,p,f,h,_=e[0],E=e[1],v=e[2],C=o[0],T=o[1],b=o[2],g=n[0],A=n[1],S=n[2];return Math.abs(_-g)<r.EPSILON&&Math.abs(E-A)<r.EPSILON&&Math.abs(v-S)<r.EPSILON?a.identity(t):(m=_-g,p=E-A,f=v-S,h=1/Math.sqrt(m*m+p*p+f*f),m*=h,p*=h,f*=h,i=T*f-b*p,s=b*m-C*f,u=C*p-T*m,h=Math.sqrt(i*i+s*s+u*u),h?(h=1/h,i*=h,s*=h,u*=h):(i=0,s=0,u=0),l=p*u-f*s,c=f*i-m*u,d=m*s-p*i,h=Math.sqrt(l*l+c*c+d*d),h?(h=1/h,l*=h,c*=h,d*=h):(l=0,c=0,d=0),t[0]=i,t[1]=l,t[2]=m,t[3]=0,t[4]=s,t[5]=c,t[6]=p,t[7]=0,t[8]=u,t[9]=d,t[10]=f,t[11]=0,t[12]=-(i*_+s*E+u*v),t[13]=-(l*_+c*E+d*v),t[14]=-(m*_+p*E+f*v),t[15]=1,t)},a.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],m=t[9],p=t[10],f=t[11],h=t[12],_=t[13],E=t[14],v=t[15],C=e[0],T=e[1],b=e[2],g=e[3],A=e[4],S=e[5],R=e[6],y=e[7],I=e[8],F=e[9],x=e[10],M=e[11],N=e[12],O=e[13],D=e[14],B=e[15];return Math.abs(n-C)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(a-T)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(o-b)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-g)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-A)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(u-S)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-R)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(d-I)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(m-F)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(p-x)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(x))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(h-N)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(_-O)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(O))&&Math.abs(E-D)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(D))&&Math.abs(v-B)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))},t.exports=a},function(t,e,n){var r=n(1),a=n(11),o=n(12),i=n(13),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,a,i){var u=o.dot(a,i);return u<-.999999?(o.cross(t,e,a),o.length(t)<1e-6&&o.cross(t,n,a),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=a.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=i.clone,s.fromValues=i.fromValues,s.copy=i.copy,s.set=i.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=i.add,s.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+i*s+a*l-o*u,t[1]=a*c+i*u+o*s-r*l,t[2]=o*c+i*l+r*u-a*s,t[3]=i*c-r*s-a*u-o*l,t},s.mul=s.multiply,s.scale=i.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=a*u+o*s,t[2]=o*u-a*s,t[3]=i*u-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=a*u+i*s,t[2]=o*u+r*s,t[3]=i*u-a*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=a*u-r*s,t[2]=o*u+i*s,t[3]=i*u-o*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},s.dot=i.dot,s.lerp=i.lerp,s.slerp=function(t,e,n,r){var a,o,i,s,u,l=e[0],c=e[1],d=e[2],m=e[3],p=n[0],f=n[1],h=n[2],_=n[3];return o=l*p+c*f+d*h+m*_,o<0&&(o=-o,p=-p,f=-f,h=-h,_=-_),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),s=Math.sin((1-r)*a)/i,u=Math.sin(r*a)/i):(s=1-r,u=r),t[0]=s*l+u*p,t[1]=s*c+u*f,t[2]=s*d+u*h,t[3]=s*m+u*_,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,a,o,i,u){return s.slerp(t,r,i,u),s.slerp(e,a,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,s=i?1/i:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-a*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=i.length,s.len=s.length,s.squaredLength=i.squaredLength,s.sqrLen=s.squaredLength,s.normalize=i.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+a]+e[3*a+o])*n,t[i]=(e[3*i+a]+e[3*a+i])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=i.exactEquals,s.equals=i.equals,t.exports=s},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,n){return t[0]=e,t[1]=n,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},a.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,i),e[s]=t[0],e[s+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a.equals=function(t,e){var n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))},t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(5),o=function(){function t(t,e){void 0===t&&(t=new ArrayBuffer(r.VERTEX_SIZE*r.VERTICES_QUAD)),void 0===e&&(e=0),this._data=t,this._offset=e,this._pos1=new Uint16Array(this._data,this._offset,2),this._pos2=new Uint16Array(this._data,this._offset+r.VERTEX_SIZE,2),this._pos3=new Uint16Array(this._data,this._offset+2*r.VERTEX_SIZE,2),this._pos4=new Uint16Array(this._data,this._offset+3*r.VERTEX_SIZE,2),this._z_shift1=new Uint8Array(this._data,this._offset+r.OFFSET_Z_INDEX,2),this._z_shift2=new Uint8Array(this._data,this._offset+r.VERTEX_SIZE+r.OFFSET_Z_INDEX,2),this._z_shift3=new Uint8Array(this._data,this._offset+2*r.VERTEX_SIZE+r.OFFSET_Z_INDEX,2),this._z_shift4=new Uint8Array(this._data,this._offset+3*r.VERTEX_SIZE+r.OFFSET_Z_INDEX,2),this._uv1=new Uint8Array(this._data,this._offset+r.OFFSET_UV,2),this._uv2=new Uint8Array(this._data,this._offset+r.VERTEX_SIZE+r.OFFSET_UV,2),this._uv3=new Uint8Array(this._data,this._offset+2*r.VERTEX_SIZE+r.OFFSET_UV,2),this._uv4=new Uint8Array(this._data,this._offset+3*r.VERTEX_SIZE+r.OFFSET_UV,2)}return t.prototype.applyTransform=function(t,e){return void 0===e&&(e=this),a.vec2.transformMat4(e._pos1,this._pos1,t),e},t.prototype.setPos=function(t,e,n,r){this._pos1[0]=t,this._pos1[1]=e,this._pos2[0]=t+n,this._pos2[1]=e,this._pos3[0]=t+n,this._pos3[1]=e+r,this._pos4[0]=t,this._pos4[1]=e+r},t.prototype.setUv=function(t,e,n,r){this._uv1[0]=t,this._uv1[1]=e,this._uv2[0]=t+n,this._uv2[1]=e,this._uv3[0]=t+n,this._uv3[1]=e+r,this._uv4[0]=t,this._uv4[1]=e+r},t.prototype.setZ=function(t){this._z_shift1[0]=t,this._z_shift2[0]=t,this._z_shift3[0]=t,this._z_shift4[0]=t},t.prototype.setPalShift=function(t){this._z_shift1[1]=t,this._z_shift2[1]=t,this._z_shift3[1]=t,this._z_shift4[1]=t},t.prototype.setAttributes=function(t,e,n,r,a,o,i,s,u,l){this.setPos(t,e,n,r),this.setZ(a),this.setPalShift(o),this.setUv(i,s,u,l)},t}();e.Quad=o},function(t,e,n){"use strict";function r(t){o=t.UNSIGNED_SHORT;for(var e=new Uint16Array(s.MAX_VERTICES*s.INDICES_QUAD),n=s.MAX_VERTICES*s.VERTICES_QUAD,r=0,u=0;u<n;u+=s.INDICES_QUAD)e[u]=r,e[u+1]=r+1,e[u+2]=r+3,e[u+3]=r+3,e[u+4]=r+1,e[u+5]=r+2,r+=s.VERTICES_QUAD;a=i.createBufferFromTypedArray(t,e,t.ELEMENT_ARRAY_BUFFER)}Object.defineProperty(e,"__esModule",{value:!0});var a,o,i=n(4),s=n(0),u=function(){function t(t){a||r(t)}return Object.defineProperty(t.prototype,"buffer",{get:function(){return a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementType",{get:function(){return o},enumerable:!0,configurable:!0}),t}();e.IndexBuffer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),a=function(){function t(t){this._options=t,t.transform=t.transform||new r.Transform2d,this.paletteId=t.paletteId}return Object.defineProperty(t.prototype,"paletteId",{get:function(){return this._options.paletteId},set:function(t){this._options.paletteId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._options.texture},set:function(t){this._options.texture=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this._options.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._options.palette},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shader",{get:function(){return this._options.shader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){return this._options.transform},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zSort",{get:function(){return this._options.zSort},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._options.blendMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode7",{get:function(){return this._options.mode7},enumerable:!0,configurable:!0}),t}();e.Renderable=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(5),o=n(4),i=function(){function t(t,e){this._gl=t,this.renderList=[],this._settings={},this.a=0,this._ortho=a.mat4.ortho(a.mat4.create(),0,t.canvas.width,t.canvas.height,0,-256,0),this._projection=a.mat4.perspective(a.mat4.create(),1,1,-255,0),this._view=a.mat4.lookAt(a.mat4.create(),a.vec3.fromValues(0,-1,1.5),a.vec3.fromValues(0,1,.7),a.vec3.fromValues(0,1,0)),this._matrix=a.mat4.create(),this._matrixTemp=a.mat4.create(),this.setDefaults(e)}return t.prototype.setDefaults=function(t){this._defaults=t},t.prototype.render=function(){var t=this;this.renderList.forEach(function(t){return t.buffer.update()}),this._gl.useProgram(this._defaults.shader.program),this.renderList.forEach(function(e){t._setOptions(e),t._buildMatrix(e);var n=t._getUniforms(e);n&&o.setUniforms(t._defaults.shader,n),o.setBuffersAndAttributes(t._gl,t._defaults.shader,e.buffer.bufferInfo),o.drawBufferInfo(t._gl,e.buffer.bufferInfo,t._gl.TRIANGLES,e.buffer.vertexSize)})},t.prototype._setOptions=function(t){var e=void 0!=t.zSort?t.zSort:this._defaults.zSort,n=t.blendMode||this._defaults.blendMode;if(e!=this._settings.zSort&&(e?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._settings.zSort=e),n!=this._settings.blendMode){switch(n){case"alpha":this._gl.enable(this._gl.BLEND),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA);break;default:this._gl.disable(this._gl.BLEND)}this._settings.blendMode=n}},t.prototype._buildMatrix=function(t){var e=t.transform?t.transform.matrix:r.MAT4_IDENT;t.mode7?(a.mat4.mul(this._matrixTemp,this._ortho,e),a.mat4.mul(this._matrix,this._projection,this._view),a.mat4.mul(this._matrix,this._matrix,this._matrixTemp)):a.mat4.mul(this._matrix,this._ortho,e)},t.prototype._getUniforms=function(t){this.a-=1e-4;var e=(this.a,{matrix:this._matrix}),n=t.texture||this._defaults.texture,a=t.palette||this._defaults.palette,o=t.paletteId||this._defaults.paletteId;return n!=this._settings.texture&&(this._settings.texture=e.texture=n),a!=this._settings.palette&&(this._settings.palette=e.palette=a),o!=this._settings.paletteId&&(this._settings.paletteId=o,e.pal_offset=o*r.PAL_OFFSET),e},t}();e.Renderer=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(6),o=n(0),i=function(t){function e(e,n,r){var a=t.call(this,e,r)||this;return a._fontInfo=n,a._fontLoookup=[],a._text="",a._ptr=0,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e.prototype.create=function(e,n,r,a,i){return void 0===n&&(n=o.HUGE),void 0===r&&(r=0),void 0===a&&(a=0),void 0===i&&(i=o.MIN_Z),this._createFont(),t.prototype.create.call(this),e&&this.write(e,n,r,a,i),this},e.prototype.seek=function(t){this._ptr=t},e.prototype.clear=function(t){for(var e=this._ptr;e<this._ptr+t;e++)this.clearQuad(e);this._ptr+=t},e.prototype.write=function(t,e,n,r,a,i){void 0===e&&(e=o.HUGE),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=o.MIN_Z),void 0===i&&(i=0);for(var s=n,u=r,l=0;l<t.length;l++){var c=this._fontLoookup[t.charCodeAt(l)],d=this._font[c],m=this._font[c+1],p=this._font[c+2],f=this._font[c+3];this.setAttributes(this.add(),s,u,s+p,u+f,d,m,d+p,m+f,a,i),s>e?(u+=f,s=0):s+=p}this._ptr+=t.length},e.prototype._createFont=function(){var t=this._fontInfo,e=t.chars;this._font=new Uint8Array(e.length*o.VERTICES_QUAD);for(var n=o.TEXTURE_SIZE/this._fontInfo.x,r=0;r<e.length;r++){var a=r%n*t.x,i=Math.floor(r/n)*t.y,s=t.widths?t.widths[r]:t.x,u=t.y,l=r*o.VERTICES_QUAD;this._fontLoookup[e.charCodeAt(r)]=l,this._font[l]=a,this._font[l+1]=i,this._font[l+2]=s,this._font[l+3]=u}},e}(a.QuadBuffer);e.TextBuffer=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(0),o=n(6),i=function(t){function e(e,n,r,a,o){void 0===a&&(a=16),void 0===o&&(o=16);var i=t.call(this,e,n*r)||this;return i._width=n,i._height=r,i._twidth=a,i._theight=o,i}return r.__extends(e,t),e.prototype.create=function(e,n){return void 0===n&&(n=a.MIN_Z),this._createTileset(),e&&this.setTiles(e,n),t.prototype.create.call(this),this.addMany(this._width*this._height),this},e.prototype.setTile=function(t,e,n,r){void 0===r&&(r=a.MIN_Z);var o=n*this._width+e;return this.setTileSeq(o,t),this},e.prototype.setTiles=function(t,e){void 0===e&&(e=a.MIN_Z);for(var n=0;n<t.length;n++)this.setTileSeq(n,t[n],e);return this},e.prototype.setTileSeq=function(t,e,n){if(void 0===n&&(n=a.MIN_Z),0==e)return void this.setAttributes(t,0,0,0,0,0,0,0,0,0,0);var r=this._tileset,o=e*a.VERTICES_QUAD,i=t%this._width*this._twidth,s=Math.floor(t/this._width)*this._theight,u=i+this._twidth,l=s+this._theight;this.setAttributes(t,i,s,u,l,r[o],r[o+1],r[o+2],r[o+3],n,0)},e.prototype._createTileset=function(){for(var t=0,e=new Uint8Array(a.TEXTURE_SIZE/this._twidth*(a.TEXTURE_SIZE/this._theight)*a.VERTICES_QUAD),n=0;n<a.TEXTURE_SIZE;n+=this._twidth)for(var r=0;r<a.TEXTURE_SIZE;r+=this._theight)e[t++]=r,e[t++]=n,e[t++]=r+this._twidth,e[t++]=n+this._theight;this._tileset=e},e.prototype._createGeometry=function(){},e}(o.QuadBuffer);e.TileBuffer=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(0),o=n(8),i=function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"_components",{get:function(){return a.COMP_INDEXED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_options",{get:function(){return{target:this._gl.TEXTURE_2D,width:a.TEXTURE_SIZE,height:a.TEXTURE_SIZE,min:this._gl.NEAREST,mag:this._gl.NEAREST,src:this._texdata,format:this._gl.LUMINANCE,type:this._gl.UNSIGNED_BYTE}},enumerable:!0,configurable:!0}),e}(o.PixelTexture);e.IndexedTexture=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(34),o=n(0),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.setPalFunc=function(t,e){for(var n=this._texdata,r=(Math.floor,this._components),a=t*o.TEXTURE_SIZE*r,i=a+o.TEXTURE_SIZE*r,s=a;s<i;s++){var u=s%o.COMP_RGBA,l=Math.floor((s-u)/r);n[s]=e(l%256,s%r)}this.setPalDirty(t)},e.prototype.setRawPalette=function(t,e){for(var n=this._components*o.TEXTURE_SIZE*t,r=0;r<e.length;r++)this._texdata[n+r]=e[r]},e.prototype.setPalDirty=function(t){this.setRowDirty(t)},e.prototype.setIndex=function(t,e,n){return this.setPixel(e,t,n)},e.prototype.getIndex=function(t,e){return this.getPixel(e,t)},e.prototype.shift=function(t,e,n){for(var r=n-e,a=0;a<r;a++)this.switchColors(t,e+a,n)},e.prototype.switchColors=function(t,e,n){var r=this.getIndex(t,e);this.setIndex(t,e,this.getIndex(t,n)),this.setIndex(t,n,r)},e}(a.RgbaTexture);e.PaletteTexture=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(0),o=n(8),i=function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"_components",{get:function(){return a.COMP_RGBA},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_options",{get:function(){return{target:this._gl.TEXTURE_2D,width:a.TEXTURE_SIZE,height:a.TEXTURE_SIZE,min:this._gl.NEAREST,mag:this._gl.NEAREST,src:this._texdata,format:this._gl.RGBA,type:this._gl.UNSIGNED_BYTE}},enumerable:!0,configurable:!0}),e}(o.PixelTexture);e.RgbaTexture=i},function(t,e,n){"use strict";function r(){var t=document.getElementById("canvas"),e=l.getContext(t,{premultipliedAlpha:!1,alpha:!1,antialias:!1});return e.viewport(0,0,e.canvas.width,e.canvas.height),e}function a(t,e){return l.createTexture(t,{src:e,min:t.NEAREST,mag:t.NEAREST})}function o(t,e){return l.createTexture(t,{src:e,min:t.NEAREST,mag:t.NEAREST,format:t.LUMINANCE,internalFormat:t.LUMINANCE})}function i(t,e,n,r){for(var a=[],o=0;o<1024;o++)a.push(1);c++;var i=new u.TileBuffer(t,32,32).create(a,1);return new u.Renderable({buffer:i,texture:e,palette:n,paletteId:r,zSort:!1})}function s(t,e,n,r,a,o,i,s,l,c){var d=new u.QuadBuffer(t,1);return d.setAttributes(0,a,o,a+l,o+c,i,s,i+l,s+l,u.MIN_Z,0),d.create(),new u.Renderable({buffer:d,texture:e,palette:n,paletteId:r,zSort:!1})}Object.defineProperty(e,"__esModule",{value:!0});var u=n(10),l=n(4);e.initWebGl=r,e.createTexture=a,e.createAlphaTexture=o;var c=5;e.createTileSprite=i,e.createSprite=s},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){var t=function(){function e(t){return a.appendChild(t.dom),t}function n(t){for(var e=0;e<a.children.length;e++)a.children[e].style.display=e===t?"block":"none";r=t}var r=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(t){t.preventDefault(),n(++r%a.children.length)},!1);var o=(performance||Date).now(),i=o,s=0,u=e(new t.Panel("FPS","#0ff","#002")),l=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:a,addPanel:e,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-o,200),t>i+1e3&&(u.update(1e3*s/(t-i),100),i=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:a,setMode:n}};return t.Panel=function(t,e,n){var r=1/0,a=0,o=Math.round,i=o(window.devicePixelRatio||1),s=80*i,u=48*i,l=3*i,c=2*i,d=3*i,m=15*i,p=74*i,f=30*i,h=document.createElement("canvas");h.width=s,h.height=u,h.style.cssText="width:80px;height:48px";var _=h.getContext("2d");return _.font="bold "+9*i+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=n,_.fillRect(0,0,s,u),_.fillStyle=e,_.fillText(t,l,c),_.fillRect(d,m,p,f),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(d,m,p,f),{dom:h,update:function(u,E){r=Math.min(r,u),a=Math.max(a,u),_.fillStyle=n,_.globalAlpha=1,_.fillRect(0,0,s,m),_.fillStyle=e,_.fillText(o(u)+" "+t+" ("+o(r)+"-"+o(a)+")",l,c),_.drawImage(h,d+i,m,p-i,f,d,m,p-i,f),_.fillRect(d+p-i,m,i,f),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(d+p-i,m,i,o((1-u/E)*f))}}},t})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=10)}([function(t,e){function n(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var o=r(a);return[n].concat(a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=f[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(c(r.parts[o],e))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(c(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:i}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],o=a[0],i=a[1],s=a[2],u=a[3],l={css:i,media:s,sourceMap:u};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(t,e){var n=_(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=C[C.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),C.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=C.indexOf(t);e>=0&&C.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,a;if(e.singleton){var o=v++;n=E||(E=s(e)),r=d.bind(null,n,o,!1),a=d.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n,e),a=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=m.bind(null,n),a=function(){i(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function d(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function m(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,a=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||o)&&(r=T(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var f={},h=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),_=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),E=null,v=0,C=[],T=n(8);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=h()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var n=a(t);return r(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=f[s.id];u.refs--,o.push(u)}t&&r(a(t),e);for(var i=0;i<o.length;i++){var u=o[i];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){(function(e){var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(){var t=/\blang(?:uage)?-(\w+)\b/i,e=0,r=n.Prism={manual:n.Prism&&n.Prism.manual,util:{encode:function(t){return t instanceof a?new a(t.type,r.util.encode(t.content),t.alias):"Array"===r.util.type(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++e}),t.__id},clone:function(t){switch(r.util.type(t)){case"Object":var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=r.util.clone(t[n]));return e;case"Array":return t.map&&t.map(function(t){return r.util.clone(t)})}return t}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var a in e)n[a]=e[a];return n},insertBefore:function(t,e,n,a){a=a||r.languages;var o=a[t];if(2==arguments.length){n=arguments[1];for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o}var s={};for(var u in o)if(o.hasOwnProperty(u)){if(u==e)for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);s[u]=o[u]}return r.languages.DFS(r.languages,function(e,n){n===a[t]&&e!=t&&(this[e]=s)}),a[t]=s},DFS:function(t,e,n,a){a=a||{};for(var o in t)t.hasOwnProperty(o)&&(e.call(t,o,t[o],n||o),"Object"!==r.util.type(t[o])||a[r.util.objId(t[o])]?"Array"!==r.util.type(t[o])||a[r.util.objId(t[o])]||(a[r.util.objId(t[o])]=!0,r.languages.DFS(t[o],e,o,a)):(a[r.util.objId(t[o])]=!0,r.languages.DFS(t[o],e,null,a)))}},plugins:{},highlightAll:function(t,e){var n={callback:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",n);for(var a,o=n.elements||document.querySelectorAll(n.selector),i=0;a=o[i++];)r.highlightElement(a,!0===t,n.callback)},highlightElement:function(e,a,o){for(var i,s,u=e;u&&!t.test(u.className);)u=u.parentNode;u&&(i=(u.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[i]),e.className=e.className.replace(t,"").replace(/\s+/g," ")+" language-"+i,u=e.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+i);var l=e.textContent,c={element:e,language:i,grammar:s,code:l};if(r.hooks.run("before-sanity-check",c),!c.code||!c.grammar)return c.code&&(c.element.textContent=c.code),void r.hooks.run("complete",c);if(r.hooks.run("before-highlight",c),a&&n.Worker){var d=new Worker(r.filename);d.onmessage=function(t){c.highlightedCode=t.data,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(c.element),r.hooks.run("after-highlight",c),r.hooks.run("complete",c)},d.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=r.highlight(c.code,c.grammar,c.language),r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(e),r.hooks.run("after-highlight",c),r.hooks.run("complete",c)},highlight:function(t,e,n){var o=r.tokenize(t,e);return a.stringify(r.util.encode(o),n)},tokenize:function(t,e){var n=r.Token,a=[t],o=e.rest;if(o){for(var i in o)e[i]=o[i];delete e.rest}t:for(var i in e)if(e.hasOwnProperty(i)&&e[i]){var s=e[i];s="Array"===r.util.type(s)?s:[s];for(var u=0;u<s.length;++u){var l=s[u],c=l.inside,d=!!l.lookbehind,m=!!l.greedy,p=0,f=l.alias;if(m&&!l.pattern.global){var h=l.pattern.toString().match(/[imuy]*$/)[0];l.pattern=RegExp(l.pattern.source,h+"g")}l=l.pattern||l;for(var _=0,E=0;_<a.length;E+=a[_].length,++_){var v=a[_];if(a.length>t.length)break t;if(!(v instanceof n)){l.lastIndex=0;var C=l.exec(v),T=1;if(!C&&m&&_!=a.length-1){if(l.lastIndex=E,!(C=l.exec(t)))break;for(var b=C.index+(d?C[1].length:0),g=C.index+C[0].length,A=_,S=E,R=a.length;R>A&&g>S;++A)S+=a[A].length,b>=S&&(++_,E=S);if(a[_]instanceof n||a[A-1].greedy)continue;T=A-_,v=t.slice(E,S),C.index-=E}if(C){d&&(p=C[1].length);var b=C.index+p,C=C[0].slice(p),g=b+C.length,y=v.slice(0,b),I=v.slice(g),F=[_,T];y&&F.push(y);var x=new n(i,c?r.tokenize(C,c):C,f,C,m);F.push(x),I&&F.push(I),Array.prototype.splice.apply(a,F)}}}}}return a},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var a,o=0;a=n[o++];)a(e)}}},a=r.Token=function(t,e,n,r,a){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!a};if(a.stringify=function(t,e,n){if("string"==typeof t)return t;if("Array"===r.util.type(t))return t.map(function(n){return a.stringify(n,e,t)}).join("");var o={type:t.type,content:a.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n};if("comment"==o.type&&(o.attributes.spellcheck="true"),t.alias){var i="Array"===r.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,i)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map(function(t){return t+'="'+(o.attributes[t]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",function(t){var e=JSON.parse(t.data),a=e.language,o=e.code,i=e.immediateClose;n.postMessage(r.highlight(o,r.languages[a],a)),i&&n.close()},!1),n.Prism):n.Prism;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,!document.addEventListener||r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),n.Prism}();void 0!==t&&t.exports&&(t.exports=r),void 0!==e&&(e.Prism=r),r.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/i,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},r.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),r.languages.xml=r.languages.markup,r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},r.languages.css.atrule.inside.rest=r.util.clone(r.languages.css),r.languages.markup&&(r.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:r.languages.css,alias:"language-css"}}),r.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:r.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:r.languages.css}},alias:"language-css"}},r.languages.markup.tag)),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/}),r.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),r.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}}}),r.languages.markup&&r.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:r.languages.javascript,alias:"language-javascript"}}),r.languages.js=r.languages.javascript,r.languages.glsl=r.languages.extend("clike",{comment:[/\/\*[\w\W]*?\*\//,/\/\/(?:\\(?:\r\n|[\s\S])|.)*/],number:/\b(?:0x[\da-f]+|(?:\.\d+|\d+\.?\d*)(?:e[+-]?\d+)?)[ulf]*\b/i,keyword:/\b(?:attribute|const|uniform|varying|buffer|shared|coherent|volatile|restrict|readonly|writeonly|atomic_uint|layout|centroid|flat|smooth|noperspective|patch|sample|break|continue|do|for|while|switch|case|default|if|else|subroutine|in|out|inout|float|double|int|void|bool|true|false|invariant|precise|discard|return|d?mat[234](?:x[234])?|[ibdu]?vec[234]|uint|lowp|mediump|highp|precision|[iu]?sampler[123]D|[iu]?samplerCube|sampler[12]DShadow|samplerCubeShadow|[iu]?sampler[12]DArray|sampler[12]DArrayShadow|[iu]?sampler2DRect|sampler2DRectShadow|[iu]?samplerBuffer|[iu]?sampler2DMS(?:Array)?|[iu]?samplerCubeArray|samplerCubeArrayShadow|[iu]?image[123]D|[iu]?image2DRect|[iu]?imageCube|[iu]?imageBuffer|[iu]?image[12]DArray|[iu]?imageCubeArray|[iu]?image2DMS(?:Array)?|struct|common|partition|active|asm|class|union|enum|typedef|template|this|resource|goto|inline|noinline|public|static|extern|external|interface|long|short|half|fixed|unsigned|superp|input|output|hvec[234]|fvec[234]|sampler3DRect|filter|sizeof|cast|namespace|using)\b/}),r.languages.insertBefore("glsl","comment",{preprocessor:{pattern:/(^[ \t]*)#(?:(?:define|undef|if|ifdef|ifndef|else|elif|endif|error|pragma|extension|version|line)\b)?/m,lookbehind:!0,alias:"builtin"}}),t.exports=r}).call(e,n(9))},function(t,e){var n;!function(t){!function(t){var e=function(){function t(){this.callbacks=[],this.counter=-1}return t.prototype.add=function(t,e){return this.counter++,e&&(t=t.bind(e)),this.callbacks[this.counter]=t,this.counter},t.prototype.remove=function(t){delete this.callbacks[t]},t.prototype.clear=function(){this.callbacks={}},t.prototype.trigger=function(t){for(var e in this.callbacks)this.callbacks.hasOwnProperty(e)&&this.callbacks[e](t)},t}();t.Event=e}(t.Utils||(t.Utils={}))}(n||(n={}));var n;!function(t){!function(t){t[t.noLog=0]="noLog",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info"}(t.LogLevel||(t.LogLevel={}))}(n||(n={})),function(t){!function(e){var n=function(){function e(e){void 0===e&&(e=t.LogLevel.warning),this.level=e}return e.prototype.setLevel=function(t){this.level=t},e.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.level>0&&console.error(t,e)},e.prototype.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.level>1&&console.warn(t,e)},e.prototype.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.level>2&&console.log(t,e)},e}();e.ConsoleLogger=n}(t.Utils||(t.Utils={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(){}return t.prototype.getStackTrace=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=[];try{throw new Error}catch(t){if(t.stack)for(var r=t.stack.split("\n"),a=0,o=r.length;a<o;a++)r[a].match(/^\s*[A-Za-z0-9\-_\$]+\(/)?n.push(r[a]):0===r[a].indexOf("    at ")&&(r[a]=r[a].replace("    at ",""),n.push(r[a]));else if(t.message)for(var r=t.message.split("\n"),a=0,o=r.length;a<o;a++)if(r[a].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var i=r[a];r[a+1]&&(i+=" at "+r[a+1],a++),n.push(i)}}if(!n)for(var s=arguments.callee.caller;s;){var u=s.toString(),l=u.substring(u.indexOf("function")+8,u.indexOf(""))||"anonymous";n.push(l),s=s.caller}if(n){n.shift();for(var a=0;a<t&&n.length>0;a++)n.shift();for(var a=0;a<e&&n.length>0;a++)n.pop()}return n},t}();t.StackTrace=e}(t.Utils||(t.Utils={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(){if(window.performance&&window.performance.now)this.nowFunction=this.dateBasedPerformanceNow.bind(this);else{var t=new Date;this.nowFunction=t.getTime.bind(t)}}return t.prototype.dateBasedPerformanceNow=function(){return performance.timing.navigationStart+performance.now()},Object.defineProperty(t.prototype,"now",{get:function(){return this.nowFunction()},enumerable:!0,configurable:!0}),t}();t.Time=e}(t.Utils||(t.Utils={}))}(n||(n={}));var n;!function(t){function e(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r]);return n}t.merge=e}(n||(n={}));var n;!function(t){var e=function(){function e(){}return e.isWebGlConstant=function(e){return null!==t.WebGlConstantsByValue[e]&&void 0!==t.WebGlConstantsByValue[e]},e.stringifyWebGlConstant=function(e,n){if(0===e){var r=this.zeroMeaningByCommand[n];return r||"0"}if(1===e){var r=this.oneMeaningByCommand[n];return r||"1"}var a=t.WebGlConstantsByValue[e];return a?a.name:e+""},e}();e.DEPTH_BUFFER_BIT={name:"DEPTH_BUFFER_BIT",value:256,description:"Passed to clear to clear the current depth buffer."},e.STENCIL_BUFFER_BIT={name:"STENCIL_BUFFER_BIT",value:1024,description:"Passed to clear to clear the current stencil buffer."},e.COLOR_BUFFER_BIT={name:"COLOR_BUFFER_BIT",value:16384,description:"Passed to clear to clear the current color buffer."},e.POINTS={name:"POINTS",value:0,description:"Passed to drawElements or drawArrays to draw single points."},e.LINES={name:"LINES",value:1,description:"Passed to drawElements or drawArrays to draw lines. Each vertex connects to the one after it."},e.LINE_LOOP={name:"LINE_LOOP",value:2,description:"Passed to drawElements or drawArrays to draw lines. Each set of two vertices is treated as a separate line segment."},e.LINE_STRIP={name:"LINE_STRIP",value:3,description:"Passed to drawElements or drawArrays to draw a connected group of line segments from the first vertex to the last."},e.TRIANGLES={name:"TRIANGLES",value:4,description:"Passed to drawElements or drawArrays to draw triangles. Each set of three vertices creates a separate triangle."},e.TRIANGLE_STRIP={name:"TRIANGLE_STRIP",value:5,description:"Passed to drawElements or drawArrays to draw a connected group of triangles."},e.TRIANGLE_FAN={name:"TRIANGLE_FAN",value:6,description:"Passed to drawElements or drawArrays to draw a connected group of triangles. Each vertex connects to the previous and the first vertex in the fan."},e.ZERO={name:"ZERO",value:0,description:"Passed to blendFunc or blendFuncSeparate to turn off a component."},e.ONE={name:"ONE",value:1,description:"Passed to blendFunc or blendFuncSeparate to turn on a component."},e.SRC_COLOR={name:"SRC_COLOR",value:768,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source elements color."},e.ONE_MINUS_SRC_COLOR={name:"ONE_MINUS_SRC_COLOR",value:769,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source elements color."},e.SRC_ALPHA={name:"SRC_ALPHA",value:770,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source's alpha."},e.ONE_MINUS_SRC_ALPHA={name:"ONE_MINUS_SRC_ALPHA",value:771,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source's alpha."},e.DST_ALPHA={name:"DST_ALPHA",value:772,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's alpha."},e.ONE_MINUS_DST_ALPHA={name:"ONE_MINUS_DST_ALPHA",value:773,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's alpha."},e.DST_COLOR={name:"DST_COLOR",value:774,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's color."},e.ONE_MINUS_DST_COLOR={name:"ONE_MINUS_DST_COLOR",value:775,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's color."},e.SRC_ALPHA_SATURATE={name:"SRC_ALPHA_SATURATE",value:776,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the minimum of source's alpha or one minus the destination's alpha."},e.CONSTANT_COLOR={name:"CONSTANT_COLOR",value:32769,description:"Passed to blendFunc or blendFuncSeparate to specify a constant color blend function."},e.ONE_MINUS_CONSTANT_COLOR={name:"ONE_MINUS_CONSTANT_COLOR",value:32770,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant color blend function."},e.CONSTANT_ALPHA={name:"CONSTANT_ALPHA",value:32771,description:"Passed to blendFunc or blendFuncSeparate to specify a constant alpha blend function."},e.ONE_MINUS_CONSTANT_ALPHA={name:"ONE_MINUS_CONSTANT_ALPHA",value:32772,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant alpha blend function."},e.FUNC_ADD={name:"FUNC_ADD",value:32774,description:"Passed to blendEquation or blendEquationSeparate to set an addition blend function."},e.FUNC_SUBSTRACT={name:"FUNC_SUBSTRACT",value:32778,description:"Passed to blendEquation or blendEquationSeparate to specify a subtraction blend function (source - destination)."},e.FUNC_REVERSE_SUBTRACT={name:"FUNC_REVERSE_SUBTRACT",value:32779,description:"Passed to blendEquation or blendEquationSeparate to specify a reverse subtraction blend function (destination - source)."},e.BLEND_EQUATION={name:"BLEND_EQUATION",value:32777,description:"Passed to getParameter to get the current RGB blend function."},e.BLEND_EQUATION_RGB={name:"BLEND_EQUATION_RGB",value:32777,description:"Passed to getParameter to get the current RGB blend function. Same as BLEND_EQUATION"},e.BLEND_EQUATION_ALPHA={name:"BLEND_EQUATION_ALPHA",value:34877,description:"Passed to getParameter to get the current alpha blend function. Same as BLEND_EQUATION"},e.BLEND_DST_RGB={name:"BLEND_DST_RGB",value:32968,description:"Passed to getParameter to get the current destination RGB blend function."},e.BLEND_SRC_RGB={name:"BLEND_SRC_RGB",value:32969,description:"Passed to getParameter to get the current destination RGB blend function."},e.BLEND_DST_ALPHA={name:"BLEND_DST_ALPHA",value:32970,description:"Passed to getParameter to get the current destination alpha blend function."},e.BLEND_SRC_ALPHA={name:"BLEND_SRC_ALPHA",value:32971,description:"Passed to getParameter to get the current source alpha blend function."},e.BLEND_COLOR={name:"BLEND_COLOR",value:32773,description:"Passed to getParameter to return a the current blend color."},e.ARRAY_BUFFER_BINDING={name:"ARRAY_BUFFER_BINDING",value:34964,description:"Passed to getParameter to get the array buffer binding."},e.ELEMENT_ARRAY_BUFFER_BINDING={name:"ELEMENT_ARRAY_BUFFER_BINDING",value:34965,description:"Passed to getParameter to get the current element array buffer."},e.LINE_WIDTH={name:"LINE_WIDTH",value:2849,description:"Passed to getParameter to get the current lineWidth (set by the lineWidth method)."},e.ALIASED_POINT_SIZE_RANGE={name:"ALIASED_POINT_SIZE_RANGE",value:33901,description:"Passed to getParameter to get the current size of a point drawn with gl.POINTS"},e.ALIASED_LINE_WIDTH_RANGE={name:"ALIASED_LINE_WIDTH_RANGE",value:33902,description:"Passed to getParameter to get the range of available widths for a line. Returns a length-2 array with the lo value at 0, and hight at 1."},e.CULL_FACE_MODE={name:"CULL_FACE_MODE",value:2885,description:"Passed to getParameter to get the current value of cullFace. Should return FRONT, BACK, or FRONT_AND_BACK"},e.FRONT_FACE={name:"FRONT_FACE",value:2886,description:"Passed to getParameter to determine the current value of frontFace. Should return CW or CCW."},e.DEPTH_RANGE={name:"DEPTH_RANGE",value:2928,description:"Passed to getParameter to return a length-2 array of floats giving the current depth range."},e.DEPTH_WRITEMASK={name:"DEPTH_WRITEMASK",value:2930,description:"Passed to getParameter to determine if the depth write mask is enabled."},e.DEPTH_CLEAR_VALUE={name:"DEPTH_CLEAR_VALUE",value:2931,description:"Passed to getParameter to determine the current depth clear value."},e.DEPTH_FUNC={name:"DEPTH_FUNC",value:2932,description:"Passed to getParameter to get the current depth function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},e.STENCIL_CLEAR_VALUE={name:"STENCIL_CLEAR_VALUE",value:2961,description:"Passed to getParameter to get the value the stencil will be cleared to."},e.STENCIL_FUNC={name:"STENCIL_FUNC",value:2962,description:"Passed to getParameter to get the current stencil function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},e.STENCIL_FAIL={name:"STENCIL_FAIL",value:2964,description:"Passed to getParameter to get the current stencil fail function. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},e.STENCIL_PASS_DEPTH_FAIL={name:"STENCIL_PASS_DEPTH_FAIL",value:2965,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test fail. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},e.STENCIL_PASS_DEPTH_PASS={name:"STENCIL_PASS_DEPTH_PASS",value:2966,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test pass. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},e.STENCIL_REF={name:"STENCIL_REF",value:2967,description:"Passed to getParameter to get the reference value used for stencil tests."},e.STENCIL_VALUE_MASK={name:"STENCIL_VALUE_MASK",value:2963,description:" "},e.STENCIL_WRITEMASK={name:"STENCIL_WRITEMASK",value:2968,description:" "},e.STENCIL_BACK_FUNC={name:"STENCIL_BACK_FUNC",value:34816,description:" "},e.STENCIL_BACK_FAIL={name:"STENCIL_BACK_FAIL",value:34817,description:" "},e.STENCIL_BACK_PASS_DEPTH_FAIL={name:"STENCIL_BACK_PASS_DEPTH_FAIL",value:34818,description:" "},e.STENCIL_BACK_PASS_DEPTH_PASS={name:"STENCIL_BACK_PASS_DEPTH_PASS",value:34819,description:" "},e.STENCIL_BACK_REF={name:"STENCIL_BACK_REF",value:36003,description:" "},e.STENCIL_BACK_VALUE_MASK={name:"STENCIL_BACK_VALUE_MASK",value:36004,description:" "},e.STENCIL_BACK_WRITEMASK={name:"STENCIL_BACK_WRITEMASK",value:36005,description:" "},e.VIEWPORT={name:"VIEWPORT",value:2978,description:"Returns an Int32Array with four elements for the current viewport dimensions."},e.SCISSOR_BOX={name:"SCISSOR_BOX",value:3088,description:"Returns an Int32Array with four elements for the current scissor box dimensions."},e.COLOR_CLEAR_VALUE={name:"COLOR_CLEAR_VALUE",value:3106,description:" "},e.COLOR_WRITEMASK={name:"COLOR_WRITEMASK",value:3107,description:" "},e.UNPACK_ALIGNMENT={name:"UNPACK_ALIGNMENT",value:3317,description:" "},e.PACK_ALIGNMENT={name:"PACK_ALIGNMENT",value:3333,description:" "},e.MAX_TEXTURE_SIZE={name:"MAX_TEXTURE_SIZE",value:3379,description:" "},e.MAX_VIEWPORT_DIMS={name:"MAX_VIEWPORT_DIMS",value:3386,description:" "},e.SUBPIXEL_BITS={name:"SUBPIXEL_BITS",value:3408,description:" "},e.RED_BITS={name:"RED_BITS",value:3410,description:" "},e.GREEN_BITS={name:"GREEN_BITS",value:3411,description:" "},e.BLUE_BITS={name:"BLUE_BITS",value:3412,description:" "},e.ALPHA_BITS={name:"ALPHA_BITS",value:3413,description:" "},e.DEPTH_BITS={name:"DEPTH_BITS",value:3414,description:" "},e.STENCIL_BITS={name:"STENCIL_BITS",value:3415,description:" "},e.POLYGON_OFFSET_UNITS={name:"POLYGON_OFFSET_UNITS",value:10752,description:" "},e.POLYGON_OFFSET_FACTOR={name:"POLYGON_OFFSET_FACTOR",value:32824,description:" "},e.TEXTURE_BINDING_2D={name:"TEXTURE_BINDING_2D",value:32873,description:" "},e.SAMPLE_BUFFERS={name:"SAMPLE_BUFFERS",value:32936,description:" "},e.SAMPLES={name:"SAMPLES",value:32937,description:" "},e.SAMPLE_COVERAGE_VALUE={name:"SAMPLE_COVERAGE_VALUE",value:32938,description:" "},e.SAMPLE_COVERAGE_INVERT={name:"SAMPLE_COVERAGE_INVERT",value:32939,description:" "},e.COMPRESSED_TEXTURE_FORMATS={name:"COMPRESSED_TEXTURE_FORMATS",value:34467,description:" "},e.VENDOR={name:"VENDOR",value:7936,description:" "},e.RENDERER={name:"RENDERER",value:7937,description:" "},e.VERSION={name:"VERSION",value:7938,description:" "},e.IMPLEMENTATION_COLOR_READ_TYPE={name:"IMPLEMENTATION_COLOR_READ_TYPE",value:35738,description:" "},e.IMPLEMENTATION_COLOR_READ_FORMAT={name:"IMPLEMENTATION_COLOR_READ_FORMAT",value:35739,description:" "},e.BROWSER_DEFAULT_WEBGL={name:"BROWSER_DEFAULT_WEBGL",value:37444,description:" "},e.STATIC_DRAW={name:"STATIC_DRAW",value:35044,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and not change often."},e.STREAM_DRAW={name:"STREAM_DRAW",value:35040,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to not be used often."},e.DYNAMIC_DRAW={name:"DYNAMIC_DRAW",value:35048,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and change often."},e.ARRAY_BUFFER={name:"ARRAY_BUFFER",value:34962,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},e.ELEMENT_ARRAY_BUFFER={name:"ELEMENT_ARRAY_BUFFER",value:34963,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},e.BUFFER_SIZE={name:"BUFFER_SIZE",value:34660,description:"Passed to getBufferParameter to get a buffer's size."},e.BUFFER_USAGE={name:"BUFFER_USAGE",value:34661,description:"Passed to getBufferParameter to get the hint for the buffer passed in when it was created."},e.CURRENT_VERTEX_ATTRIB={name:"CURRENT_VERTEX_ATTRIB",value:34342,description:"Passed to getVertexAttrib to read back the current vertex attribute."},e.VERTEX_ATTRIB_ARRAY_ENABLED={name:"VERTEX_ATTRIB_ARRAY_ENABLED",value:34338,description:" "},e.VERTEX_ATTRIB_ARRAY_SIZE={name:"VERTEX_ATTRIB_ARRAY_SIZE",value:34339,description:" "},e.VERTEX_ATTRIB_ARRAY_STRIDE={name:"VERTEX_ATTRIB_ARRAY_STRIDE",value:34340,description:" "},e.VERTEX_ATTRIB_ARRAY_TYPE={name:"VERTEX_ATTRIB_ARRAY_TYPE",value:34341,description:" "},e.VERTEX_ATTRIB_ARRAY_NORMALIZED={name:"VERTEX_ATTRIB_ARRAY_NORMALIZED",value:34922,description:" "},e.VERTEX_ATTRIB_ARRAY_POINTER={name:"VERTEX_ATTRIB_ARRAY_POINTER",value:34373,description:" "},e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING={name:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",value:34975,description:" "},e.CULL_FACE={name:"CULL_FACE",value:2884,description:"Passed to enable/disable to turn on/off culling. Can also be used with getParameter to find the current culling method."},e.FRONT={name:"FRONT",value:1028,description:"Passed to cullFace to specify that only front faces should be drawn."},e.BACK={name:"BACK",value:1029,description:"Passed to cullFace to specify that only back faces should be drawn."},e.FRONT_AND_BACK={name:"FRONT_AND_BACK",value:1032,description:"Passed to cullFace to specify that front and back faces should be drawn."},e.BLEND={name:"BLEND",value:3042,description:"Passed to enable/disable to turn on/off blending. Can also be used with getParameter to find the current blending method."},e.DEPTH_TEST={name:"DEPTH_TEST",value:2929,description:"Passed to enable/disable to turn on/off the depth test. Can also be used with getParameter to query the depth test."},e.DITHER={name:"DITHER",value:3024,description:"Passed to enable/disable to turn on/off dithering. Can also be used with getParameter to find the current dithering method."},e.POLYGON_OFFSET_FILL={name:"POLYGON_OFFSET_FILL",value:32823,description:"Passed to enable/disable to turn on/off the polygon offset. Useful for rendering hidden-line images, decals, and or solids with highlighted edges. Can also be used with getParameter to query the scissor test."},e.SAMPLE_ALPHA_TO_COVERAGE={name:"SAMPLE_ALPHA_TO_COVERAGE",value:32926,description:"Passed to enable/disable to turn on/off the alpha to coverage. Used in multi-sampling alpha channels."},e.SAMPLE_COVERAGE={name:"SAMPLE_COVERAGE",value:32928,description:"Passed to enable/disable to turn on/off the sample coverage. Used in multi-sampling."},e.SCISSOR_TEST={name:"SCISSOR_TEST",value:3089,description:"Passed to enable/disable to turn on/off the scissor test. Can also be used with getParameter to query the scissor test."},e.STENCIL_TEST={name:"STENCIL_TEST",value:2960,description:"Passed to enable/disable to turn on/off the stencil test. Can also be used with getParameter to query the stencil test."},e.NO_ERROR={name:"NO_ERROR",value:0,description:"Returned from getError."},e.INVALID_ENUM={name:"INVALID_ENUM",value:1280,description:"Returned from getError."},e.INVALID_VALUE={name:"INVALID_VALUE",value:1281,description:"Returned from getError."},e.INVALID_OPERATION={name:"INVALID_OPERATION",value:1282,description:"Returned from getError."},e.OUT_OF_MEMORY={name:"OUT_OF_MEMORY",value:1285,description:"Returned from getError."},e.CONTEXT_LOST_WEBGL={name:"CONTEXT_LOST_WEBGL",value:37442,description:"Returned from getError."},e.CW={name:"CW",value:2304,description:"Passed to frontFace to specify the front face of a polygon is drawn in the clockwise direction"},e.CCW={name:"CCW",value:2305,description:"Passed to frontFace to specify the front face of a polygon is drawn in the counter clockwise direction"},e.DONT_CARE={name:"DONT_CARE",value:4352,description:"There is no preference for this behavior."},e.FASTEST={name:"FASTEST",value:4353,description:"The most efficient behavior should be used."},e.NICEST={name:"NICEST",value:4354,description:"The most correct or the highest quality option should be used."},e.GENERATE_MIPMAP_HINT={name:"GENERATE_MIPMAP_HINT",value:33170,description:"Hint for the quality of filtering when generating mipmap images with WebGLRenderingContext.generateMipmap()."},e.BYTE={name:"BYTE",value:5120,description:" "},e.UNSIGNED_BYTE={name:"UNSIGNED_BYTE",value:5121,description:" "},e.SHORT={name:"SHORT",value:5122,description:" "},e.UNSIGNED_SHORT={name:"UNSIGNED_SHORT",value:5123,description:" "},e.INT={name:"INT",value:5124,description:" "},e.UNSIGNED_INT={name:"UNSIGNED_INT",value:5125,description:" "},e.FLOAT={name:"FLOAT",value:5126,description:" "},e.DEPTH_COMPONENT={name:"DEPTH_COMPONENT",value:6402,description:" "},e.ALPHA={name:"ALPHA",value:6406,description:" "},e.RGB={name:"RGB",value:6407,description:" "},e.RGBA={name:"RGBA",value:6408,description:" "},e.LUMINANCE={name:"LUMINANCE",value:6409,description:" "},e.LUMINANCE_ALPHA={name:"LUMINANCE_ALPHA",value:6410,description:" "},e.UNSIGNED_SHORT_4_4_4_4={name:"UNSIGNED_SHORT_4_4_4_4",value:32819,description:" "},e.UNSIGNED_SHORT_5_5_5_1={name:"UNSIGNED_SHORT_5_5_5_1",value:32820,description:" "},e.UNSIGNED_SHORT_5_6_5={name:"UNSIGNED_SHORT_5_6_5",value:33635,description:" "},e.FRAGMENT_SHADER={name:"FRAGMENT_SHADER",value:35632,description:"Passed to createShader to define a fragment shader."},e.VERTEX_SHADER={name:"VERTEX_SHADER",value:35633,description:"Passed to createShader to define a vertex shader"},e.COMPILE_STATUS={name:"COMPILE_STATUS",value:35713,description:"Passed to getShaderParamter to get the status of the compilation. Returns false if the shader was not compiled. You can then query getShaderInfoLog to find the exact error"},e.DELETE_STATUS={name:"DELETE_STATUS",value:35712,description:"Passed to getShaderParamter to determine if a shader was deleted via deleteShader. Returns true if it was, false otherwise."},e.LINK_STATUS={name:"LINK_STATUS",value:35714,description:"Passed to getProgramParameter after calling linkProgram to determine if a program was linked correctly. Returns false if there were errors. Use getProgramInfoLog to find the exact error."},e.VALIDATE_STATUS={name:"VALIDATE_STATUS",value:35715,description:"Passed to getProgramParameter after calling validateProgram to determine if it is valid. Returns false if errors were found."},e.ATTACHED_SHADERS={name:"ATTACHED_SHADERS",value:35717,description:"Passed to getProgramParameter after calling attachShader to determine if the shader was attached correctly. Returns false if errors occurred."},e.ACTIVE_ATTRIBUTES={name:"ACTIVE_ATTRIBUTES",value:35721,description:"Passed to getProgramParameter to get the number of attributes active in a program."},e.ACTIVE_UNIFORMS={name:"ACTIVE_UNIFORMS",value:35718,description:"Passed to getProgramParamter to get the number of uniforms active in a program."},e.MAX_VERTEX_ATTRIBS={name:"MAX_VERTEX_ATTRIBS",value:34921,description:" "},e.MAX_VERTEX_UNIFORM_VECTORS={name:"MAX_VERTEX_UNIFORM_VECTORS",value:36347,description:" "},e.MAX_VARYING_VECTORS={name:"MAX_VARYING_VECTORS",value:36348,description:" "},e.MAX_COMBINED_TEXTURE_IMAGE_UNITS={name:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",value:35661,description:" "},e.MAX_VERTEX_TEXTURE_IMAGE_UNITS={name:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",value:35660,description:" "},e.MAX_TEXTURE_IMAGE_UNITS={name:"MAX_TEXTURE_IMAGE_UNITS",value:34930,description:"Implementation dependent number of maximum texture units. At least 8."},e.MAX_FRAGMENT_UNIFORM_VECTORS={name:"MAX_FRAGMENT_UNIFORM_VECTORS",value:36349,description:" "},e.SHADER_TYPE={name:"SHADER_TYPE",value:35663,description:" "},e.SHADING_LANGUAGE_VERSION={name:"SHADING_LANGUAGE_VERSION",value:35724,description:" "},e.CURRENT_PROGRAM={name:"CURRENT_PROGRAM",value:35725,description:" "},e.NEVER={name:"NEVER",value:512,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will never pass. i.e. Nothing will be drawn."},e.ALWAYS={name:"ALWAYS",value:519,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will always pass. i.e. Pixels will be drawn in the order they are drawn."},e.LESS={name:"LESS",value:513,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than the stored value."},e.EQUAL={name:"EQUAL",value:514,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is equals to the stored value."},e.LEQUAL={name:"LEQUAL",value:515,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than or equal to the stored value."},e.GREATER={name:"GREATER",value:516,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than the stored value."},e.GEQUAL={name:"GEQUAL",value:518,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than or equal to the stored value."},e.NOTEQUAL={name:"NOTEQUAL",value:517,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is not equal to the stored value."},e.KEEP={name:"KEEP",value:7680,description:" "},e.REPLACE={name:"REPLACE",value:7681,description:" "},e.INCR={name:"INCR",value:7682,description:" "},e.DECR={name:"DECR",value:7683,description:" "},e.INVERT={name:"INVERT",value:5386,description:" "},e.INCR_WRAP={name:"INCR_WRAP",value:34055,description:" "},e.DECR_WRAP={name:"DECR_WRAP",value:34056,description:" "},e.NEAREST={name:"NEAREST",value:9728,description:" "},e.LINEAR={name:"LINEAR",value:9729,description:" "},e.NEAREST_MIPMAP_NEAREST={name:"NEAREST_MIPMAP_NEAREST",value:9984,description:" "},e.LINEAR_MIPMAP_NEAREST={name:"LINEAR_MIPMAP_NEAREST",value:9985,description:" "},e.NEAREST_MIPMAP_LINEAR={name:"NEAREST_MIPMAP_LINEAR",value:9986,description:" "},e.LINEAR_MIPMAP_LINEAR={name:"LINEAR_MIPMAP_LINEAR",value:9987,description:" "},e.TEXTURE_MAG_FILTER={name:"TEXTURE_MAG_FILTER",value:10240,description:" "},e.TEXTURE_MIN_FILTER={name:"TEXTURE_MIN_FILTER",value:10241,description:" "},e.TEXTURE_WRAP_S={name:"TEXTURE_WRAP_S",value:10242,description:" "},e.TEXTURE_WRAP_T={name:"TEXTURE_WRAP_T",value:10243,description:" "},e.TEXTURE_2D={name:"TEXTURE_2D",value:3553,description:" "},e.TEXTURE={name:"TEXTURE",value:5890,description:" "},e.TEXTURE_CUBE_MAP={name:"TEXTURE_CUBE_MAP",value:34067,description:" "},e.TEXTURE_BINDING_CUBE_MAP={name:"TEXTURE_BINDING_CUBE_MAP",value:34068,description:" "},e.TEXTURE_CUBE_MAP_POSITIVE_X={name:"TEXTURE_CUBE_MAP_POSITIVE_X",value:34069,description:" "},e.TEXTURE_CUBE_MAP_NEGATIVE_X={name:"TEXTURE_CUBE_MAP_NEGATIVE_X",value:34070,description:" "},e.TEXTURE_CUBE_MAP_POSITIVE_Y={name:"TEXTURE_CUBE_MAP_POSITIVE_Y",value:34071,description:" "},e.TEXTURE_CUBE_MAP_NEGATIVE_Y={name:"TEXTURE_CUBE_MAP_NEGATIVE_Y",value:34072,description:" "},e.TEXTURE_CUBE_MAP_POSITIVE_Z={name:"TEXTURE_CUBE_MAP_POSITIVE_Z",value:34073,description:" "},e.TEXTURE_CUBE_MAP_NEGATIVE_Z={name:"TEXTURE_CUBE_MAP_NEGATIVE_Z",value:34074,description:" "};e.MAX_CUBE_MAP_TEXTURE_SIZE={name:"MAX_CUBE_MAP_TEXTURE_SIZE",value:34076,description:" "},e.TEXTURE0={name:"TEXTURE0",value:33984,description:"A texture unit."},e.TEXTURE1={name:"TEXTURE1",value:33985,description:"A texture unit."},e.TEXTURE2={name:"TEXTURE2",value:33986,description:"A texture unit."},e.TEXTURE3={name:"TEXTURE3",value:33987,description:"A texture unit."},e.TEXTURE4={name:"TEXTURE4",value:33988,description:"A texture unit."},e.TEXTURE5={name:"TEXTURE5",value:33989,description:"A texture unit."},e.TEXTURE6={name:"TEXTURE6",value:33990,description:"A texture unit."},e.TEXTURE7={name:"TEXTURE7",value:33991,description:"A texture unit."},e.TEXTURE8={name:"TEXTURE8",value:33992,description:"A texture unit."},e.TEXTURE9={name:"TEXTURE9",value:33993,description:"A texture unit."},e.TEXTURE10={name:"TEXTURE10",value:33994,description:"A texture unit."},e.TEXTURE11={name:"TEXTURE11",value:33995,description:"A texture unit."},e.TEXTURE12={name:"TEXTURE12",value:33996,description:"A texture unit."},e.TEXTURE13={name:"TEXTURE13",value:33997,description:"A texture unit."},e.TEXTURE14={name:"TEXTURE14",value:33998,description:"A texture unit."},e.TEXTURE15={name:"TEXTURE15",value:33999,description:"A texture unit."},e.TEXTURE16={name:"TEXTURE16",value:34e3,description:"A texture unit."},e.TEXTURE17={name:"TEXTURE17",value:34001,description:"A texture unit."},e.TEXTURE18={name:"TEXTURE18",value:34002,description:"A texture unit."},e.TEXTURE19={name:"TEXTURE19",value:34003,description:"A texture unit."},e.TEXTURE20={name:"TEXTURE20",value:34004,description:"A texture unit."},e.TEXTURE21={name:"TEXTURE21",value:34005,description:"A texture unit."},e.TEXTURE22={name:"TEXTURE22",value:34006,description:"A texture unit."},e.TEXTURE23={name:"TEXTURE23",value:34007,description:"A texture unit."},e.TEXTURE24={name:"TEXTURE24",value:34008,description:"A texture unit."},e.TEXTURE25={name:"TEXTURE25",value:34009,description:"A texture unit."},e.TEXTURE26={name:"TEXTURE26",value:34010,description:"A texture unit."},e.TEXTURE27={name:"TEXTURE27",value:34011,description:"A texture unit."},e.TEXTURE28={name:"TEXTURE28",value:34012,description:"A texture unit."},e.TEXTURE29={name:"TEXTURE29",value:34013,description:"A texture unit."},e.TEXTURE30={name:"TEXTURE30",value:34014,description:"A texture unit."},e.TEXTURE31={name:"TEXTURE31",value:34015,description:"A texture unit."},e.ACTIVE_TEXTURE={name:"ACTIVE_TEXTURE",value:34016,description:"The current active texture unit."},e.REPEAT={name:"REPEAT",value:10497,description:" "},e.CLAMP_TO_EDGE={name:"CLAMP_TO_EDGE",value:33071,description:" "},e.MIRRORED_REPEAT={name:"MIRRORED_REPEAT",value:33648,description:" "},e.FLOAT_VEC2={name:"FLOAT_VEC2",value:35664,description:" "},e.FLOAT_VEC3={name:"FLOAT_VEC3",value:35665,description:" "},e.FLOAT_VEC4={name:"FLOAT_VEC4",value:35666,description:" "},e.INT_VEC2={name:"INT_VEC2",value:35667,description:" "},e.INT_VEC3={name:"INT_VEC3",value:35668,description:" "},e.INT_VEC4={name:"INT_VEC4",value:35669,description:" "},e.BOOL={name:"BOOL",value:35670,description:" "},e.BOOL_VEC2={name:"BOOL_VEC2",value:35671,description:" "},e.BOOL_VEC3={name:"BOOL_VEC3",value:35672,description:" "},e.BOOL_VEC4={name:"BOOL_VEC4",value:35673,description:" "},e.FLOAT_MAT2={name:"FLOAT_MAT2",value:35674,description:" "},e.FLOAT_MAT3={name:"FLOAT_MAT3",value:35675,description:" "},e.FLOAT_MAT4={name:"FLOAT_MAT4",value:35676,description:" "},e.SAMPLER_2D={name:"SAMPLER_2D",value:35678,description:" "},e.SAMPLER_CUBE={name:"SAMPLER_CUBE",value:35680,description:" "},e.LOW_FLOAT={name:"LOW_FLOAT",value:36336,description:" "},e.MEDIUM_FLOAT={name:"MEDIUM_FLOAT",value:36337,description:" "},e.HIGH_FLOAT={name:"HIGH_FLOAT",value:36338,description:" "},e.LOW_INT={name:"LOW_INT",value:36339,description:" "},e.MEDIUM_INT={name:"MEDIUM_INT",value:36340,description:" "},e.HIGH_INT={name:"HIGH_INT",value:36341,description:" "},e.FRAMEBUFFER={name:"FRAMEBUFFER",value:36160,description:" "},e.RENDERBUFFER={name:"RENDERBUFFER",value:36161,description:" "},e.RGBA4={name:"RGBA4",value:32854,description:" "},e.RGB5_A1={name:"RGB5_A1",value:32855,description:" "},e.RGB565={name:"RGB565",value:36194,description:" "},e.DEPTH_COMPONENT16={name:"DEPTH_COMPONENT16",value:33189,description:" "},e.STENCIL_INDEX={name:"STENCIL_INDEX",value:6401,description:" "},e.STENCIL_INDEX8={name:"STENCIL_INDEX8",value:36168,description:" "},e.DEPTH_STENCIL={name:"DEPTH_STENCIL",value:34041,description:" "},e.RENDERBUFFER_WIDTH={name:"RENDERBUFFER_WIDTH",value:36162,description:" "},e.RENDERBUFFER_HEIGHT={name:"RENDERBUFFER_HEIGHT",value:36163,description:" "},e.RENDERBUFFER_INTERNAL_FORMAT={name:"RENDERBUFFER_INTERNAL_FORMAT",value:36164,description:" "},e.RENDERBUFFER_RED_SIZE={name:"RENDERBUFFER_RED_SIZE",value:36176,description:" "},e.RENDERBUFFER_GREEN_SIZE={name:"RENDERBUFFER_GREEN_SIZE",value:36177,description:" "},e.RENDERBUFFER_BLUE_SIZE={name:"RENDERBUFFER_BLUE_SIZE",value:36178,description:" "},e.RENDERBUFFER_ALPHA_SIZE={name:"RENDERBUFFER_ALPHA_SIZE",value:36179,description:" "},e.RENDERBUFFER_DEPTH_SIZE={name:"RENDERBUFFER_DEPTH_SIZE",value:36180,description:" "},e.RENDERBUFFER_STENCIL_SIZE={name:"RENDERBUFFER_STENCIL_SIZE",value:36181,description:" "},e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",value:36048,description:" "},e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",value:36049,description:" "},e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",value:36050,description:" "},e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",value:36051,description:" "},e.COLOR_ATTACHMENT0={name:"COLOR_ATTACHMENT0",value:36064,description:" "},e.DEPTH_ATTACHMENT={name:"DEPTH_ATTACHMENT",value:36096,description:" "},e.STENCIL_ATTACHMENT={name:"STENCIL_ATTACHMENT",value:36128,description:" "},e.DEPTH_STENCIL_ATTACHMENT={name:"DEPTH_STENCIL_ATTACHMENT",value:33306,description:" "},e.NONE={name:"NONE",value:0,description:" "},e.FRAMEBUFFER_COMPLETE={name:"FRAMEBUFFER_COMPLETE",value:36053,description:" "},e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",value:36054,description:" "},e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",value:36055,description:" "},e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS={name:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",value:36057,description:" "},e.FRAMEBUFFER_UNSUPPORTED={name:"FRAMEBUFFER_UNSUPPORTED",value:36061,description:" "},e.FRAMEBUFFER_BINDING={name:"FRAMEBUFFER_BINDING",value:36006,description:" "},e.RENDERBUFFER_BINDING={name:"RENDERBUFFER_BINDING",value:36007,description:" "},e.MAX_RENDERBUFFER_SIZE={name:"MAX_RENDERBUFFER_SIZE",value:34024,description:" "},e.INVALID_FRAMEBUFFER_OPERATION={name:"INVALID_FRAMEBUFFER_OPERATION",value:1286,description:" "},e.UNPACK_FLIP_Y_WEBGL={name:"UNPACK_FLIP_Y_WEBGL",value:37440,description:" "},e.UNPACK_PREMULTIPLY_ALPHA_WEBGL={name:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",value:37441,description:" "},e.UNPACK_COLORSPACE_CONVERSION_WEBGL={name:"UNPACK_COLORSPACE_CONVERSION_WEBGL",value:37443,description:" "},e.READ_BUFFER={name:"READ_BUFFER",value:3074,description:" "},e.UNPACK_ROW_LENGTH={name:"UNPACK_ROW_LENGTH",value:3314,description:" "},e.UNPACK_SKIP_ROWS={name:"UNPACK_SKIP_ROWS",value:3315,description:" "},e.UNPACK_SKIP_PIXELS={name:"UNPACK_SKIP_PIXELS",value:3316,description:" "},e.PACK_ROW_LENGTH={name:"PACK_ROW_LENGTH",value:3330,description:" "},e.PACK_SKIP_ROWS={name:"PACK_SKIP_ROWS",value:3331,description:" "},e.PACK_SKIP_PIXELS={name:"PACK_SKIP_PIXELS",value:3332,description:" "},e.TEXTURE_BINDING_3D={name:"TEXTURE_BINDING_3D",value:32874,description:" "},e.UNPACK_SKIP_IMAGES={name:"UNPACK_SKIP_IMAGES",value:32877,description:" "},e.UNPACK_IMAGE_HEIGHT={name:"UNPACK_IMAGE_HEIGHT",value:32878,description:" "},e.MAX_3D_TEXTURE_SIZE={name:"MAX_3D_TEXTURE_SIZE",value:32883,description:" "},e.MAX_ELEMENTS_VERTICES={name:"MAX_ELEMENTS_VERTICES",value:33e3,description:" "},e.MAX_ELEMENTS_INDICES={name:"MAX_ELEMENTS_INDICES",value:33001,description:" "},e.MAX_TEXTURE_LOD_BIAS={name:"MAX_TEXTURE_LOD_BIAS",value:34045,description:" "},e.MAX_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_FRAGMENT_UNIFORM_COMPONENTS",value:35657,description:" "},e.MAX_VERTEX_UNIFORM_COMPONENTS={name:"MAX_VERTEX_UNIFORM_COMPONENTS",value:35658,description:" "},e.MAX_ARRAY_TEXTURE_LAYERS={name:"MAX_ARRAY_TEXTURE_LAYERS",value:35071,description:" "},e.MIN_PROGRAM_TEXEL_OFFSET={name:"MIN_PROGRAM_TEXEL_OFFSET",value:35076,description:" "},e.MAX_PROGRAM_TEXEL_OFFSET={name:"MAX_PROGRAM_TEXEL_OFFSET",value:35077,description:" "},e.MAX_VARYING_COMPONENTS={name:"MAX_VARYING_COMPONENTS",value:35659,description:" "},e.FRAGMENT_SHADER_DERIVATIVE_HINT={name:"FRAGMENT_SHADER_DERIVATIVE_HINT",value:35723,description:" "},e.RASTERIZER_DISCARD={name:"RASTERIZER_DISCARD",value:35977,description:" "},e.VERTEX_ARRAY_BINDING={name:"VERTEX_ARRAY_BINDING",value:34229,description:" "},e.MAX_VERTEX_OUTPUT_COMPONENTS={name:"MAX_VERTEX_OUTPUT_COMPONENTS",value:37154,description:" "},e.MAX_FRAGMENT_INPUT_COMPONENTS={name:"MAX_FRAGMENT_INPUT_COMPONENTS",value:37157,description:" "},e.MAX_SERVER_WAIT_TIMEOUT={name:"MAX_SERVER_WAIT_TIMEOUT",value:37137,description:" "},e.MAX_ELEMENT_INDEX={name:"MAX_ELEMENT_INDEX",value:36203,description:" "},e.RED={name:"RED",value:6403,description:" "},e.RGB8={name:"RGB8",value:32849,description:" "},e.RGBA8={name:"RGBA8",value:32856,description:" "},e.RGB10_A2={name:"RGB10_A2",value:32857,description:" "},e.TEXTURE_3D={name:"TEXTURE_3D",value:32879,description:" "},e.TEXTURE_WRAP_R={name:"TEXTURE_WRAP_R",value:32882,description:" "},e.TEXTURE_MIN_LOD={name:"TEXTURE_MIN_LOD",value:33082,description:" "},e.TEXTURE_MAX_LOD={name:"TEXTURE_MAX_LOD",value:33083,description:" "},e.TEXTURE_BASE_LEVEL={name:"TEXTURE_BASE_LEVEL",value:33084,description:" "},e.TEXTURE_MAX_LEVEL={name:"TEXTURE_MAX_LEVEL",value:33085,description:" "},e.TEXTURE_COMPARE_MODE={name:"TEXTURE_COMPARE_MODE",value:34892,description:" "},e.TEXTURE_COMPARE_FUNC={name:"TEXTURE_COMPARE_FUNC",value:34893,description:" "},e.SRGB={name:"SRGB",value:35904,description:" "},e.SRGB8={name:"SRGB8",value:35905,description:" "},e.SRGB8_ALPHA8={name:"SRGB8_ALPHA8",value:35907,description:" "},e.COMPARE_REF_TO_TEXTURE={name:"COMPARE_REF_TO_TEXTURE",value:34894,description:" "},e.RGBA32F={name:"RGBA32F",value:34836,description:" "},e.RGB32F={name:"RGB32F",value:34837,description:" "},e.RGBA16F={name:"RGBA16F",value:34842,description:" "},e.RGB16F={name:"RGB16F",value:34843,description:" "},e.TEXTURE_2D_ARRAY={name:"TEXTURE_2D_ARRAY",value:35866,description:" "},e.TEXTURE_BINDING_2D_ARRAY={name:"TEXTURE_BINDING_2D_ARRAY",value:35869,description:" "},e.R11F_G11F_B10F={name:"R11F_G11F_B10F",value:35898,description:" "},e.RGB9_E5={name:"RGB9_E5",value:35901,description:" "},e.RGBA32UI={name:"RGBA32UI",value:36208,description:" "},e.RGB32UI={name:"RGB32UI",value:36209,description:" "},e.RGBA16UI={name:"RGBA16UI",value:36214,description:" "},e.RGB16UI={name:"RGB16UI",value:36215,description:" "},e.RGBA8UI={name:"RGBA8UI",value:36220,description:" "},e.RGB8UI={name:"RGB8UI",value:36221,description:" "},e.RGBA32I={name:"RGBA32I",value:36226,description:" "},e.RGB32I={name:"RGB32I",value:36227,description:" "},e.RGBA16I={name:"RGBA16I",value:36232,description:" "},e.RGB16I={name:"RGB16I",value:36233,description:" "},e.RGBA8I={name:"RGBA8I",value:36238,description:" "},e.RGB8I={name:"RGB8I",value:36239,description:" "},e.RED_INTEGER={name:"RED_INTEGER",value:36244,description:" "},e.RGB_INTEGER={name:"RGB_INTEGER",value:36248,description:" "},e.RGBA_INTEGER={name:"RGBA_INTEGER",value:36249,description:" "},e.R8={name:"R8",value:33321,description:" "},e.RG8={name:"RG8",value:33323,description:" "},e.R16F={name:"R16F",value:33325,description:" "},e.R32F={name:"R32F",value:33326,description:" "},e.RG16F={name:"RG16F",value:33327,description:" "},e.RG32F={name:"RG32F",value:33328,description:" "},e.R8I={name:"R8I",value:33329,description:" "},e.R8UI={name:"R8UI",value:33330,description:" "},e.R16I={name:"R16I",value:33331,description:" "},e.R16UI={name:"R16UI",value:33332,description:" "},e.R32I={name:"R32I",value:33333,description:" "},e.R32UI={name:"R32UI",value:33334,description:" "},e.RG8I={name:"RG8I",value:33335,description:" "},e.RG8UI={name:"RG8UI",value:33336,description:" "},e.RG16I={name:"RG16I",value:33337,description:" "},e.RG16UI={name:"RG16UI",value:33338,description:" "},e.RG32I={name:"RG32I",value:33339,description:" "},e.RG32UI={name:"RG32UI",value:33340,description:" "},e.R8_SNORM={name:"R8_SNORM",value:36756,description:" "},e.RG8_SNORM={name:"RG8_SNORM",value:36757,description:" "},e.RGB8_SNORM={name:"RGB8_SNORM",value:36758,description:" "},e.RGBA8_SNORM={name:"RGBA8_SNORM",value:36759,description:" "},e.RGB10_A2UI={name:"RGB10_A2UI",value:36975,description:" "},e.TEXTURE_IMMUTABLE_FORMAT={name:"TEXTURE_IMMUTABLE_FORMAT",value:37167,description:" "},e.TEXTURE_IMMUTABLE_LEVELS={name:"TEXTURE_IMMUTABLE_LEVELS",value:33503,description:" "},e.UNSIGNED_INT_2_10_10_10_REV={name:"UNSIGNED_INT_2_10_10_10_REV",value:33640,description:" "},e.UNSIGNED_INT_10F_11F_11F_REV={name:"UNSIGNED_INT_10F_11F_11F_REV",value:35899,description:" "},e.UNSIGNED_INT_5_9_9_9_REV={name:"UNSIGNED_INT_5_9_9_9_REV",value:35902,description:" "},e.FLOAT_32_UNSIGNED_INT_24_8_REV={name:"FLOAT_32_UNSIGNED_INT_24_8_REV",value:36269,description:" "},e.UNSIGNED_INT_24_8={name:"UNSIGNED_INT_24_8",value:34042,description:" "},e.HALF_FLOAT={name:"HALF_FLOAT",value:5131,description:" "},e.RG={name:"RG",value:33319,description:" "},e.RG_INTEGER={name:"RG_INTEGER",value:33320,description:" "},e.INT_2_10_10_10_REV={name:"INT_2_10_10_10_REV",value:36255,description:" "},e.CURRENT_QUERY={name:"CURRENT_QUERY",value:34917,description:" "},e.QUERY_RESULT={name:"QUERY_RESULT",value:34918,description:" "},e.QUERY_RESULT_AVAILABLE={name:"QUERY_RESULT_AVAILABLE",value:34919,description:" "};e.ANY_SAMPLES_PASSED={name:"ANY_SAMPLES_PASSED",value:35887,description:" "},e.ANY_SAMPLES_PASSED_CONSERVATIVE={name:"ANY_SAMPLES_PASSED_CONSERVATIVE",value:36202,description:" "},e.MAX_DRAW_BUFFERS={name:"MAX_DRAW_BUFFERS",value:34852,description:" "},e.DRAW_BUFFER0={name:"DRAW_BUFFER0",value:34853,description:" "},e.DRAW_BUFFER1={name:"DRAW_BUFFER1",value:34854,description:" "},e.DRAW_BUFFER2={name:"DRAW_BUFFER2",value:34855,description:" "},e.DRAW_BUFFER3={name:"DRAW_BUFFER3",value:34856,description:" "},e.DRAW_BUFFER4={name:"DRAW_BUFFER4",value:34857,description:" "},e.DRAW_BUFFER5={name:"DRAW_BUFFER5",value:34858,description:" "},e.DRAW_BUFFER6={name:"DRAW_BUFFER6",value:34859,description:" "},e.DRAW_BUFFER7={name:"DRAW_BUFFER7",value:34860,description:" "},e.DRAW_BUFFER8={name:"DRAW_BUFFER8",value:34861,description:" "},e.DRAW_BUFFER9={name:"DRAW_BUFFER9",value:34862,description:" "},e.DRAW_BUFFER10={name:"DRAW_BUFFER10",value:34863,description:" "},e.DRAW_BUFFER11={name:"DRAW_BUFFER11",value:34864,description:" "},e.DRAW_BUFFER12={name:"DRAW_BUFFER12",value:34865,description:" "},e.DRAW_BUFFER13={name:"DRAW_BUFFER13",value:34866,description:" "},e.DRAW_BUFFER14={name:"DRAW_BUFFER14",value:34867,description:" "},e.DRAW_BUFFER15={name:"DRAW_BUFFER15",value:34868,description:" "},e.MAX_COLOR_ATTACHMENTS={name:"MAX_COLOR_ATTACHMENTS",value:36063,description:" "},e.COLOR_ATTACHMENT1={name:"COLOR_ATTACHMENT1",value:36065,description:" "},e.COLOR_ATTACHMENT2={name:"COLOR_ATTACHMENT2",value:36066,description:" "},e.COLOR_ATTACHMENT3={name:"COLOR_ATTACHMENT3",value:36067,description:" "},e.COLOR_ATTACHMENT4={name:"COLOR_ATTACHMENT4",value:36068,description:" "},e.COLOR_ATTACHMENT5={name:"COLOR_ATTACHMENT5",value:36069,description:" "},e.COLOR_ATTACHMENT6={name:"COLOR_ATTACHMENT6",value:36070,description:" "},e.COLOR_ATTACHMENT7={name:"COLOR_ATTACHMENT7",value:36071,description:" "},e.COLOR_ATTACHMENT8={name:"COLOR_ATTACHMENT8",value:36072,description:" "},e.COLOR_ATTACHMENT9={name:"COLOR_ATTACHMENT9",value:36073,description:" "},e.COLOR_ATTACHMENT10={name:"COLOR_ATTACHMENT10",value:36074,description:" "},e.COLOR_ATTACHMENT11={name:"COLOR_ATTACHMENT11",value:36075,description:" "},e.COLOR_ATTACHMENT12={name:"COLOR_ATTACHMENT12",value:36076,description:" "},e.COLOR_ATTACHMENT13={name:"COLOR_ATTACHMENT13",value:36077,description:" "},e.COLOR_ATTACHMENT14={name:"COLOR_ATTACHMENT14",value:36078,description:" "},e.COLOR_ATTACHMENT15={name:"COLOR_ATTACHMENT15",value:36079,description:" "},e.SAMPLER_3D={name:"SAMPLER_3D",value:35679,description:" "},e.SAMPLER_2D_SHADOW={name:"SAMPLER_2D_SHADOW",value:35682,description:" "},e.SAMPLER_2D_ARRAY={name:"SAMPLER_2D_ARRAY",value:36289,description:" "},e.SAMPLER_2D_ARRAY_SHADOW={name:"SAMPLER_2D_ARRAY_SHADOW",value:36292,description:" "},e.SAMPLER_CUBE_SHADOW={name:"SAMPLER_CUBE_SHADOW",value:36293,description:" "},e.INT_SAMPLER_2D={name:"INT_SAMPLER_2D",value:36298,description:" "},e.INT_SAMPLER_3D={name:"INT_SAMPLER_3D",value:36299,description:" "},e.INT_SAMPLER_CUBE={name:"INT_SAMPLER_CUBE",value:36300,description:" "},e.INT_SAMPLER_2D_ARRAY={name:"INT_SAMPLER_2D_ARRAY",value:36303,description:" "},e.UNSIGNED_INT_SAMPLER_2D={name:"UNSIGNED_INT_SAMPLER_2D",value:36306,description:" "},e.UNSIGNED_INT_SAMPLER_3D={name:"UNSIGNED_INT_SAMPLER_3D",value:36307,description:" "},e.UNSIGNED_INT_SAMPLER_CUBE={name:"UNSIGNED_INT_SAMPLER_CUBE",value:36308,description:" "},e.UNSIGNED_INT_SAMPLER_2D_ARRAY={name:"UNSIGNED_INT_SAMPLER_2D_ARRAY",value:36311,description:" "},e.MAX_SAMPLES={name:"MAX_SAMPLES",value:36183,description:" "},e.SAMPLER_BINDING={name:"SAMPLER_BINDING",value:35097,description:" "},e.PIXEL_PACK_BUFFER={name:"PIXEL_PACK_BUFFER",value:35051,description:" "},e.PIXEL_UNPACK_BUFFER={name:"PIXEL_UNPACK_BUFFER",value:35052,description:" "},e.PIXEL_PACK_BUFFER_BINDING={name:"PIXEL_PACK_BUFFER_BINDING",value:35053,description:" "},e.PIXEL_UNPACK_BUFFER_BINDING={name:"PIXEL_UNPACK_BUFFER_BINDING",value:35055,description:" "},e.COPY_READ_BUFFER={name:"COPY_READ_BUFFER",value:36662,description:" "},e.COPY_WRITE_BUFFER={name:"COPY_WRITE_BUFFER",value:36663,description:" "},e.COPY_READ_BUFFER_BINDING={name:"COPY_READ_BUFFER_BINDING",value:36662,description:" "},e.COPY_WRITE_BUFFER_BINDING={name:"COPY_WRITE_BUFFER_BINDING",value:36663,description:" "},e.FLOAT_MAT2x3={name:"FLOAT_MAT2x3",value:35685,description:" "},e.FLOAT_MAT2x4={name:"FLOAT_MAT2x4",value:35686,description:" "},e.FLOAT_MAT3x2={name:"FLOAT_MAT3x2",value:35687,description:" "},e.FLOAT_MAT3x4={name:"FLOAT_MAT3x4",value:35688,description:" "},e.FLOAT_MAT4x2={name:"FLOAT_MAT4x2",value:35689,description:" "},e.FLOAT_MAT4x3={name:"FLOAT_MAT4x3",value:35690,description:" "},e.UNSIGNED_INT_VEC2={name:"UNSIGNED_INT_VEC2",value:36294,description:" "},e.UNSIGNED_INT_VEC3={name:"UNSIGNED_INT_VEC3",value:36295,description:" "},e.UNSIGNED_INT_VEC4={name:"UNSIGNED_INT_VEC4",value:36296,description:" "},e.UNSIGNED_NORMALIZED={name:"UNSIGNED_NORMALIZED",value:35863,description:" "},e.SIGNED_NORMALIZED={name:"SIGNED_NORMALIZED",value:36764,description:" "},e.VERTEX_ATTRIB_ARRAY_INTEGER={name:"VERTEX_ATTRIB_ARRAY_INTEGER",value:35069,description:" "},e.VERTEX_ATTRIB_ARRAY_DIVISOR={name:"VERTEX_ATTRIB_ARRAY_DIVISOR",value:35070,description:" "},e.TRANSFORM_FEEDBACK_BUFFER_MODE={name:"TRANSFORM_FEEDBACK_BUFFER_MODE",value:35967,description:" "},e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",value:35968,description:" "},e.TRANSFORM_FEEDBACK_VARYINGS={name:"TRANSFORM_FEEDBACK_VARYINGS",value:35971,description:" "},e.TRANSFORM_FEEDBACK_BUFFER_START={name:"TRANSFORM_FEEDBACK_BUFFER_START",value:35972,description:" "},e.TRANSFORM_FEEDBACK_BUFFER_SIZE={name:"TRANSFORM_FEEDBACK_BUFFER_SIZE",value:35973,description:" "},e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN={name:"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",value:35976,description:" "},e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",value:35978,description:" "},e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",value:35979,description:" "},e.INTERLEAVED_ATTRIBS={name:"INTERLEAVED_ATTRIBS",value:35980,description:" "},e.SEPARATE_ATTRIBS={name:"SEPARATE_ATTRIBS",value:35981,description:" "},e.TRANSFORM_FEEDBACK_BUFFER={name:"TRANSFORM_FEEDBACK_BUFFER",value:35982,description:" "},e.TRANSFORM_FEEDBACK_BUFFER_BINDING={name:"TRANSFORM_FEEDBACK_BUFFER_BINDING",value:35983,description:" "},e.TRANSFORM_FEEDBACK={name:"TRANSFORM_FEEDBACK",value:36386,description:" "},e.TRANSFORM_FEEDBACK_PAUSED={name:"TRANSFORM_FEEDBACK_PAUSED",value:36387,description:" "},e.TRANSFORM_FEEDBACK_ACTIVE={name:"TRANSFORM_FEEDBACK_ACTIVE",value:36388,description:" "},e.TRANSFORM_FEEDBACK_BINDING={name:"TRANSFORM_FEEDBACK_BINDING",value:36389,description:" "},e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",value:33296,description:" "},e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",value:33297,description:" "},e.FRAMEBUFFER_ATTACHMENT_RED_SIZE={name:"FRAMEBUFFER_ATTACHMENT_RED_SIZE",value:33298,description:" "},e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE={name:"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",value:33299,description:" "},e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE={name:"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",value:33300,description:" "},e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE={name:"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",value:33301,description:" "},e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE={name:"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",value:33302,description:" "},e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE={name:"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",value:33303,description:" "},e.FRAMEBUFFER_DEFAULT={name:"FRAMEBUFFER_DEFAULT",value:33304,description:" "},e.DEPTH24_STENCIL8={name:"DEPTH24_STENCIL8",value:35056,description:" "},e.DRAW_FRAMEBUFFER_BINDING={name:"DRAW_FRAMEBUFFER_BINDING",value:36006,description:" "},e.READ_FRAMEBUFFER={name:"READ_FRAMEBUFFER",value:36008,description:" "},e.DRAW_FRAMEBUFFER={name:"DRAW_FRAMEBUFFER",value:36009,description:" "},e.READ_FRAMEBUFFER_BINDING={name:"READ_FRAMEBUFFER_BINDING",value:36010,description:" "},e.RENDERBUFFER_SAMPLES={name:"RENDERBUFFER_SAMPLES",value:36011,description:" "},e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",value:36052,description:" "},e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE={name:"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",value:36182,description:" "},e.UNIFORM_BUFFER={name:"UNIFORM_BUFFER",value:35345,description:" "},e.UNIFORM_BUFFER_BINDING={name:"UNIFORM_BUFFER_BINDING",value:35368,description:" "},e.UNIFORM_BUFFER_START={name:"UNIFORM_BUFFER_START",value:35369,description:" "},e.UNIFORM_BUFFER_SIZE={name:"UNIFORM_BUFFER_SIZE",value:35370,description:" "},e.MAX_VERTEX_UNIFORM_BLOCKS={name:"MAX_VERTEX_UNIFORM_BLOCKS",value:35371,description:" "},e.MAX_FRAGMENT_UNIFORM_BLOCKS={name:"MAX_FRAGMENT_UNIFORM_BLOCKS",value:35373,description:" "},e.MAX_COMBINED_UNIFORM_BLOCKS={name:"MAX_COMBINED_UNIFORM_BLOCKS",value:35374,description:" "},e.MAX_UNIFORM_BUFFER_BINDINGS={name:"MAX_UNIFORM_BUFFER_BINDINGS",value:35375,description:" "},e.MAX_UNIFORM_BLOCK_SIZE={name:"MAX_UNIFORM_BLOCK_SIZE",value:35376,description:" "},e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS={name:"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",value:35377,description:" "},e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",value:35379,description:" "},e.UNIFORM_BUFFER_OFFSET_ALIGNMENT={name:"UNIFORM_BUFFER_OFFSET_ALIGNMENT",value:35380,description:" "},e.ACTIVE_UNIFORM_BLOCKS={name:"ACTIVE_UNIFORM_BLOCKS",value:35382,description:" "},e.UNIFORM_TYPE={name:"UNIFORM_TYPE",value:35383,description:" "},e.UNIFORM_SIZE={name:"UNIFORM_SIZE",value:35384,description:" "},e.UNIFORM_BLOCK_INDEX={name:"UNIFORM_BLOCK_INDEX",value:35386,description:" "},e.UNIFORM_OFFSET={name:"UNIFORM_OFFSET",value:35387,description:" "},e.UNIFORM_ARRAY_STRIDE={name:"UNIFORM_ARRAY_STRIDE",value:35388,description:" "},e.UNIFORM_MATRIX_STRIDE={name:"UNIFORM_MATRIX_STRIDE",value:35389,description:" "},e.UNIFORM_IS_ROW_MAJOR={name:"UNIFORM_IS_ROW_MAJOR",value:35390,description:" "},e.UNIFORM_BLOCK_BINDING={name:"UNIFORM_BLOCK_BINDING",value:35391,description:" "},e.UNIFORM_BLOCK_DATA_SIZE={name:"UNIFORM_BLOCK_DATA_SIZE",value:35392,description:" "},e.UNIFORM_BLOCK_ACTIVE_UNIFORMS={name:"UNIFORM_BLOCK_ACTIVE_UNIFORMS",value:35394,description:" "},e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES={name:"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",value:35395,description:" "},e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",value:35396,description:" "},e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",value:35398,description:" "},e.OBJECT_TYPE={name:"OBJECT_TYPE",value:37138,description:" "},e.SYNC_CONDITION={name:"SYNC_CONDITION",value:37139,description:" "},e.SYNC_STATUS={name:"SYNC_STATUS",value:37140,description:" "},e.SYNC_FLAGS={name:"SYNC_FLAGS",value:37141,description:" "},e.SYNC_FENCE={name:"SYNC_FENCE",value:37142,description:" "},e.SYNC_GPU_COMMANDS_COMPLETE={name:"SYNC_GPU_COMMANDS_COMPLETE",value:37143,description:" "},e.UNSIGNALED={name:"UNSIGNALED",value:37144,description:" "},e.SIGNALED={name:"SIGNALED",value:37145,description:" "},e.ALREADY_SIGNALED={name:"ALREADY_SIGNALED",value:37146,description:" "},e.TIMEOUT_EXPIRED={name:"TIMEOUT_EXPIRED",value:37147,description:" "},e.CONDITION_SATISFIED={name:"CONDITION_SATISFIED",value:37148,description:" "},e.WAIT_FAILED={name:"WAIT_FAILED",value:37149,description:" "},e.SYNC_FLUSH_COMMANDS_BIT={name:"SYNC_FLUSH_COMMANDS_BIT",value:1,description:" "},e.COLOR={name:"COLOR",value:6144,description:" "},e.DEPTH={name:"DEPTH",value:6145,description:" "},e.STENCIL={name:"STENCIL",value:6146,description:" "},e.MIN={name:"MIN",value:32775,description:" "},e.MAX={name:"MAX",value:32776,description:" "},e.DEPTH_COMPONENT24={name:"DEPTH_COMPONENT24",value:33190,description:" "},e.STREAM_READ={name:"STREAM_READ",value:35041,description:" "},e.STREAM_COPY={name:"STREAM_COPY",value:35042,description:" "},e.STATIC_READ={name:"STATIC_READ",value:35045,description:" "},e.STATIC_COPY={name:"STATIC_COPY",value:35046,description:" "},e.DYNAMIC_READ={name:"DYNAMIC_READ",value:35049,description:" "},e.DYNAMIC_COPY={name:"DYNAMIC_COPY",value:35050,description:" "},e.DEPTH_COMPONENT32F={name:"DEPTH_COMPONENT32F",value:36012,description:" "},e.DEPTH32F_STENCIL8={name:"DEPTH32F_STENCIL8",value:36013,description:" "},e.INVALID_INDEX={name:"INVALID_INDEX",value:4294967295,description:" "},e.TIMEOUT_IGNORED={name:"TIMEOUT_IGNORED",value:-1,description:" "},e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL={name:"MAX_CLIENT_WAIT_TIMEOUT_WEBGL",value:37447,description:" "},e.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE={name:"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",value:35070,description:"Describes the frequency divisor used for instanced rendering.",extensionName:"ANGLE_instanced_arrays"},e.UNMASKED_VENDOR_WEBGL={name:"UNMASKED_VENDOR_WEBGL",value:37445,description:"Passed to getParameter to get the vendor string of the graphics driver.",extensionName:"ANGLE_instanced_arrays"},e.UNMASKED_RENDERER_WEBGL={name:"UNMASKED_RENDERER_WEBGL",value:37446,description:"Passed to getParameter to get the renderer string of the graphics driver.",extensionName:"WEBGL_debug_renderer_info"},e.MAX_TEXTURE_MAX_ANISOTROPY_EXT={name:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",value:34047,description:"Returns the maximum available anisotropy.",extensionName:"EXT_texture_filter_anisotropic"},e.TEXTURE_MAX_ANISOTROPY_EXT={name:"TEXTURE_MAX_ANISOTROPY_EXT",value:34046,description:"Passed to texParameter to set the desired maximum anisotropy for a texture.",extensionName:"EXT_texture_filter_anisotropic"},e.COMPRESSED_RGB_S3TC_DXT1_EXT={name:"COMPRESSED_RGB_S3TC_DXT1_EXT",value:33776,description:"A DXT1-compressed image in an RGB image format.",extensionName:"WEBGL_compressed_texture_s3tc"},e.COMPRESSED_RGBA_S3TC_DXT1_EXT={name:"COMPRESSED_RGBA_S3TC_DXT1_EXT",value:33777,description:"A DXT1-compressed image in an RGB image format with a simple on/off alpha value.",extensionName:"WEBGL_compressed_texture_s3tc"},e.COMPRESSED_RGBA_S3TC_DXT3_EXT={name:"COMPRESSED_RGBA_S3TC_DXT3_EXT",value:33778,description:"A DXT3-compressed image in an RGBA image format. Compared to a 32-bit RGBA texture, it offers 4:1 compression.",extensionName:"WEBGL_compressed_texture_s3tc"},e.COMPRESSED_RGBA_S3TC_DXT5_EXT={name:"COMPRESSED_RGBA_S3TC_DXT5_EXT",value:33779,description:"A DXT5-compressed image in an RGBA image format. It also provides a 4:1 compression, but differs to the DXT3 compression in how the alpha compression is done.",extensionName:"WEBGL_compressed_texture_s3tc"},e.COMPRESSED_R11_EAC={name:"COMPRESSED_R11_EAC",value:37488,description:"One-channel (red) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_SIGNED_R11_EAC={name:"COMPRESSED_SIGNED_R11_EAC",value:37489,description:"One-channel (red) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_RG11_EAC={name:"COMPRESSED_RG11_EAC",value:37490,description:"Two-channel (red and green) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_SIGNED_RG11_EAC={name:"COMPRESSED_SIGNED_RG11_EAC",value:37491,description:"Two-channel (red and green) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_RGB8_ETC2={name:"COMPRESSED_RGB8_ETC2",value:37492,description:"Compresses RBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_RGBA8_ETC2_EAC={name:"COMPRESSED_RGBA8_ETC2_EAC",value:37493,description:"Compresses RGBA8 data. The RGB part is encoded the same as RGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_SRGB8_ETC2={name:"COMPRESSED_SRGB8_ETC2",value:37494,description:"Compresses sRBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC={name:"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",value:37495,description:"Compresses sRGBA8 data. The sRGB part is encoded the same as SRGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37496,description:"Similar to RGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37497,description:"Similar to SRGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_4BPPV1_IMG",value:35840,description:"RGB compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",value:35842,description:"RGBA compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_2BPPV1_IMG",value:35841,description:"RGB compression in 2-bit mode. One block for each 8×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",value:35843,description:"RGBA compression in 2-bit mode. One block for each 8×4 pixe",extensionName:"WEBGL_compressed_texture_pvrtc"},e.COMPRESSED_RGB_ETC1_WEBGL={name:"COMPRESSED_RGB_ETC1_WEBGL",value:36196,description:"Compresses 24-bit RGB data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc1"},e.COMPRESSED_RGB_ATC_WEBGL={name:"COMPRESSED_RGB_ATC_WEBGL",value:35986,description:"Compresses RGB textures with no alpha channel.",extensionName:"WEBGL_compressed_texture_atc"},e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",value:35986,description:"Compresses RGBA textures using explicit alpha encoding (useful when alpha transitions are sharp).",extensionName:"WEBGL_compressed_texture_atc"},e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",value:34798,description:"Compresses RGBA textures using interpolated alpha encoding (useful when alpha transitions are gradient).",extensionName:"WEBGL_compressed_texture_atc"},e.UNSIGNED_INT_24_8_WEBGL={name:"UNSIGNED_INT_24_8_WEBGL",value:34042,description:"Unsigned integer type for 24-bit depth texture data.",extensionName:"WEBGL_depth_texture"},e.HALF_FLOAT_OES={name:"HALF_FLOAT_OES",value:36193,description:"Half floating-point type (16-bit).",extensionName:"OES_texture_half_float"},e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",value:33297,description:" ",extensionName:"WEBGL_color_buffer_float"},e.UNSIGNED_NORMALIZED_EXT={name:"UNSIGNED_NORMALIZED_EXT",value:35863,description:" ",extensionName:"WEBGL_color_buffer_float"},e.MIN_EXT={name:"MIN_EXT",value:32775,description:"Produces the minimum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},e.MAX_EXT={name:"MAX_EXT",value:32776,description:"Produces the maximum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},e.SRGB_EXT={name:"SRGB_EXT",value:35904,description:"Unsized sRGB format that leaves the precision up to the driver.",extensionName:"EXT_sRGB"},e.SRGB_ALPHA_EXT={name:"SRGB_ALPHA_EXT",value:35906,description:"Unsized sRGB format with unsized alpha component.",extensionName:"EXT_sRGB"},e.SRGB8_ALPHA8_EXT={name:"SRGB8_ALPHA8_EXT",value:35907,description:"Sized (8-bit) sRGB and alpha formats.",extensionName:"EXT_sRGB"},e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",value:33296,description:"Returns the framebuffer color encoding.",extensionName:"EXT_sRGB"},e.FRAGMENT_SHADER_DERIVATIVE_HINT_OES={name:"FRAGMENT_SHADER_DERIVATIVE_HINT_OES",value:35723,description:"Indicates the accuracy of the derivative calculation for the GLSL built-in functions: dFdx, dFdy, and fwidth.",extensionName:"OES_standard_derivatives"},e.COLOR_ATTACHMENT0_WEBGL={name:"COLOR_ATTACHMENT0_WEBGL",value:36064,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT1_WEBGL={name:"COLOR_ATTACHMENT1_WEBGL",value:36065,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"};e.COLOR_ATTACHMENT2_WEBGL={name:"COLOR_ATTACHMENT2_WEBGL",value:36066,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT3_WEBGL={name:"COLOR_ATTACHMENT3_WEBGL",value:36067,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT4_WEBGL={name:"COLOR_ATTACHMENT4_WEBGL",value:36068,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT5_WEBGL={name:"COLOR_ATTACHMENT5_WEBGL",value:36069,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT6_WEBGL={name:"COLOR_ATTACHMENT6_WEBGL",value:36070,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT7_WEBGL={name:"COLOR_ATTACHMENT7_WEBGL",value:36071,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT8_WEBGL={name:"COLOR_ATTACHMENT8_WEBGL",value:36072,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT9_WEBGL={name:"COLOR_ATTACHMENT9_WEBGL",value:36073,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT10_WEBGL={name:"COLOR_ATTACHMENT10_WEBGL",value:36074,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT11_WEBGL={name:"COLOR_ATTACHMENT11_WEBGL",value:36075,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT12_WEBGL={name:"COLOR_ATTACHMENT12_WEBGL",value:36076,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT13_WEBGL={name:"COLOR_ATTACHMENT13_WEBGL",value:36077,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT14_WEBGL={name:"COLOR_ATTACHMENT14_WEBGL",value:36078,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.COLOR_ATTACHMENT15_WEBGL={name:"COLOR_ATTACHMENT15_WEBGL",value:36079,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER0_WEBGL={name:"DRAW_BUFFER0_WEBGL",value:34853,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER1_WEBGL={name:"DRAW_BUFFER1_WEBGL",value:34854,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER2_WEBGL={name:"DRAW_BUFFER2_WEBGL",value:34855,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER3_WEBGL={name:"DRAW_BUFFER3_WEBGL",value:34856,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER4_WEBGL={name:"DRAW_BUFFER4_WEBGL",value:34857,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER5_WEBGL={name:"DRAW_BUFFER5_WEBGL",value:34858,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER6_WEBGL={name:"DRAW_BUFFER6_WEBGL",value:34859,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER7_WEBGL={name:"DRAW_BUFFER7_WEBGL",value:34860,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER8_WEBGL={name:"DRAW_BUFFER8_WEBGL",value:34861,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER9_WEBGL={name:"DRAW_BUFFER9_WEBGL",value:34862,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER10_WEBGL={name:"DRAW_BUFFER10_WEBGL",value:34863,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER11_WEBGL={name:"DRAW_BUFFER11_WEBGL",value:34864,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER12_WEBGL={name:"DRAW_BUFFER12_WEBGL",value:34865,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER13_WEBGL={name:"DRAW_BUFFER13_WEBGL",value:34866,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER14_WEBGL={name:"DRAW_BUFFER14_WEBGL",value:34867,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.DRAW_BUFFER15_WEBGL={name:"DRAW_BUFFER15_WEBGL",value:34868,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},e.MAX_COLOR_ATTACHMENTS_WEBGL={name:"MAX_COLOR_ATTACHMENTS_WEBGL",value:36063,description:"Maximum number of framebuffer color attachment points",extensionName:"WEBGL_draw_buffers"},e.MAX_DRAW_BUFFERS_WEBGL={name:"MAX_DRAW_BUFFERS_WEBGL",value:34852,description:"Maximum number of draw buffers",extensionName:"WEBGL_draw_buffers"},e.VERTEX_ARRAY_BINDING_OES={name:"VERTEX_ARRAY_BINDING_OES",value:34229,description:"The bound vertex array object (VAO).",extensionName:"VERTEX_ARRAY_BINDING_OES"},e.QUERY_COUNTER_BITS_EXT={name:"QUERY_COUNTER_BITS_EXT",value:34916,description:"The number of bits used to hold the query result for the given target.",extensionName:"EXT_disjoint_timer_query"},e.CURRENT_QUERY_EXT={name:"CURRENT_QUERY_EXT",value:34917,description:"The currently active query.",extensionName:"EXT_disjoint_timer_query"},e.QUERY_RESULT_EXT={name:"QUERY_RESULT_EXT",value:34918,description:"The query result.",extensionName:"EXT_disjoint_timer_query"},e.QUERY_RESULT_AVAILABLE_EXT={name:"QUERY_RESULT_AVAILABLE_EXT",value:34919,description:"A Boolean indicating whether or not a query result is available.",extensionName:"EXT_disjoint_timer_query"},e.TIME_ELAPSED_EXT={name:"TIME_ELAPSED_EXT",value:35007,description:"Elapsed time (in nanoseconds).",extensionName:"EXT_disjoint_timer_query"},e.TIMESTAMP_EXT={name:"TIMESTAMP_EXT",value:36392,description:"The current time.",extensionName:"EXT_disjoint_timer_query"},e.GPU_DISJOINT_EXT={name:"GPU_DISJOINT_EXT",value:36795,description:"A Boolean indicating whether or not the GPU performed any disjoint operation.",extensionName:"EXT_disjoint_timer_query"},e.zeroMeaningByCommand={getError:"NO_ERROR",blendFunc:"ZERO",blendFuncSeparate:"ZERO",readBuffer:"NONE",getFramebufferAttachmentParameter:"NONE",texParameterf:"NONE",texParameteri:"NONE",drawArrays:"POINTS",drawElements:"POINTS",drawArraysInstanced:"POINTS",drawBuffers:"POINTS",drawElementsInstanced:"POINTS",drawRangeElements:"POINTS"},e.oneMeaningByCommand={blendFunc:"ONE",blendFuncSeparate:"ONE",drawArrays:"LINES",drawElements:"LINES",drawArraysInstanced:"LINES",drawBuffers:"LINES",drawElementsInstanced:"LINES",drawRangeElements:"LINES"},t.WebGlConstants=e}(n||(n={}));var n;!function(t){t.WebGlConstantsByName={},function(){for(var e in t.WebGlConstants)if(t.WebGlConstants.hasOwnProperty(e)){var n=t.WebGlConstants[e];t.WebGlConstantsByName[n.name]=n}}()}(n||(n={}));var n;!function(t){t.WebGlConstantsByValue={},function(){for(var e in t.WebGlConstants)if(t.WebGlConstants.hasOwnProperty(e)){var n=t.WebGlConstants[e];t.WebGlConstantsByValue[n.value]=n}}()}(n||(n={}));var n;!function(t){!function(t){function e(t){return function(e){e[m]=t}}function n(t){return t[m]}function r(t){return function(e){e[p]=t}}function a(t){return t[p]}function o(t){return function(e){e[f]=t}}function i(t){return t[f]}function s(e){return function(n){n[t.OBJECTNAMEKEY]=e,n[t.OBJECTTYPEKEY]=window[e]||null}}function u(e){return e[t.OBJECTNAMEKEY]}function l(e){return e[t.OBJECTTYPEKEY]}function c(t){return function(e){e[h]=t}}function d(t){return t[h]}var m="__CommandName";t.command=e,t.getCommandName=n;var p="__StateName";t.state=r,t.getStateName=a;var f="___RecorderObjectName";t.recorder=o,t.getRecorderName=i,t.OBJECTNAMEKEY="___ObjectName",t.OBJECTTYPEKEY="___ObjectType",t.webGlObject=s,t.getWebGlObjectName=u,t.getWebGlObjectType=l;var h="___AnalyserObjectName";t.analyser=c,t.getAnalyserName=d}(t.Decorators||(t.Decorators={}))}(n||(n={}));var n;!function(t){var e=function(){function e(){}return e.isSupportedCombination=function(e,n,r){return e=e||t.WebGlConstants.UNSIGNED_BYTE.value,!((n=n||t.WebGlConstants.RGBA.value)!==t.WebGlConstants.RGB.value&&n!==t.WebGlConstants.RGBA.value||r!==t.WebGlConstants.RGB.value&&r!==t.WebGlConstants.RGBA.value&&r!==t.WebGlConstants.RGBA16F.value&&r!==t.WebGlConstants.RGBA32F.value&&r!==t.WebGlConstants.RGB16F.value&&r!==t.WebGlConstants.RGB32F.value&&r!==t.WebGlConstants.R11F_G11F_B10F.value||e!==t.WebGlConstants.UNSIGNED_BYTE.value&&e!==t.WebGlConstants.UNSIGNED_SHORT_4_4_4_4.value&&e!==t.WebGlConstants.UNSIGNED_SHORT_5_5_5_1.value&&e!==t.WebGlConstants.UNSIGNED_SHORT_5_6_5.value&&e!==t.WebGlConstants.HALF_FLOAT.value&&e!==t.WebGlConstants.HALF_FLOAT_OES.value&&e!==t.WebGlConstants.FLOAT.value)},e.readPixels=function(e,n,r,a,o,i){e.getError();var s,u=a*o*4;if(i===t.WebGlConstants.UNSIGNED_BYTE.value?s=new Uint8Array(u):(i=t.WebGlConstants.FLOAT.value,s=new Float32Array(u)),e.readPixels(n,r,a,o,e.RGBA,i,s),!e.getError()){if(i===t.WebGlConstants.UNSIGNED_BYTE.value)return s;for(var l=new Uint8Array(a*o*4),c=0;c<o;c++)for(var d=0;d<a;d++)l[c*a*4+4*d+0]=255*Math.min(Math.max(s[c*a*4+4*d+0],0),1),l[c*a*4+4*d+1]=255*Math.min(Math.max(s[c*a*4+4*d+1],0),1),l[c*a*4+4*d+2]=255*Math.min(Math.max(s[c*a*4+4*d+2],0),1),l[c*a*4+4*d+3]=255*Math.min(Math.max(s[c*a*4+4*d+3],0),1);return l}},e}();t.ReadPixelsHelper=e}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(e,n){this.options=e,this.logger=n,this.spiedWindow=e.spiedWindow||window,this.lastFrame=0,this.speedRatio=1,this.willPlayNextFrame=!1,this.onFrameStart=new e.eventConstructor,this.onFrameEnd=new e.eventConstructor,this.onError=new e.eventConstructor,this.time=new this.options.timeConstructor,this.lastSixtyFramesDuration=[],this.lastSixtyFramesCurrentIndex=0,this.lastSixtyFramesPreviousStart=0;for(var r=0;r<t.fpsWindowSize;r++)this.lastSixtyFramesDuration[r]=0;this.init()}return t.prototype.playNextFrame=function(){this.willPlayNextFrame=!0},t.prototype.changeSpeedRatio=function(t){this.speedRatio=t},t.prototype.getFps=function(){for(var e=0,n=0;n<t.fpsWindowSize;n++)e+=this.lastSixtyFramesDuration[n];return 0===e?0:6e4/e},t.prototype.init=function(){for(var e=0,n=t.requestAnimationFrameFunctions;e<n.length;e++){var r=n[e];this.spyRequestAnimationFrame(r)}for(var a=0,o=t.setTimerFunctions;a<o.length;a++){var r=o[a];this.spySetTimer(r)}},t.prototype.spyRequestAnimationFrame=function(t){var e=this,n=this.spiedWindow[t],r=this.spiedWindow;r[t]=function(){var a=arguments[0],o=e.getCallback(e,a,function(){r[t](a)});return n.apply(e.spiedWindow,[o])}},t.prototype.spySetTimer=function(e){var n=this,r=this.spiedWindow[e],a="setTimeout"===e,o=this.spiedWindow;o[e]=function(){var i=arguments[0],s=arguments[1];return t.setTimerCommonValues.indexOf(s)>-1&&(i=n.getCallback(n,i,a?function(){o[e](i)}:null)),r.apply(n.spiedWindow,[i,s])}},t.prototype.getCallback=function(e,n,r){return void 0===r&&(r=null),function(){var a=e.time.now;if(e.lastFrame=++e.lastFrame%e.speedRatio,e.willPlayNextFrame||e.speedRatio&&!e.lastFrame){e.onFrameStart.trigger(e);try{n.apply(e.spiedWindow,arguments)}catch(t){e.onError.trigger(t)}e.lastSixtyFramesCurrentIndex=(e.lastSixtyFramesCurrentIndex+1)%t.fpsWindowSize,e.lastSixtyFramesDuration[e.lastSixtyFramesCurrentIndex]=a-e.lastSixtyFramesPreviousStart,e.onFrameEnd.trigger(e),e.willPlayNextFrame=!1}else r&&r();e.lastSixtyFramesPreviousStart=a}},t}();e.requestAnimationFrameFunctions=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],e.setTimerFunctions=["setTimeout","setInterval"],e.setTimerCommonValues=[0,15,16,33,32,40],e.fpsWindowSize=60,t.TimeSpy=e}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e){this.options=t,this.logger=e,this.onContextRequested=new t.eventConstructor,this.canvas=t.canvas,this.init()}return t.prototype.init=function(){var t=this,e=function(){var e=t.spiedGetContext.apply(this,arguments);if(arguments.length>0&&"2d"===arguments[0])return e;if(e){var n=Array.prototype.slice.call(arguments),r="webgl2"===n[0]||"experimental-webgl2"===n[0],a=r?2:1;t.onContextRequested.trigger({context:e,contextVersion:a})}return e};this.canvas?(this.spiedGetContext=this.canvas.getContext,this.canvas.getContext=e):(this.spiedGetContext=HTMLCanvasElement.prototype.getContext,HTMLCanvasElement.prototype.getContext=e)},t}();t.CanvasSpy=e}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e,n){this.options=t,this.time=e,this.logger=n,this.commandId=0,this.context=t.context,this.version=t.version,this.capturing=!1,this.globalCapturing=!0,this.injection=t.injection,this.contextInformation={context:this.context,contextVersion:this.version,toggleCapture:this.toggleGlobalCapturing.bind(this),tagWebGlObject:this.tagWebGlObject.bind(this),extensions:{}},this.commandSpies={},this.stateSpy=new this.injection.StateSpyCtor({contextInformation:this.contextInformation,stateNamespace:this.injection.StateNamespace},n),this.recorderSpy=new this.injection.RecorderSpyCtor({contextInformation:this.contextInformation,recorderNamespace:this.injection.RecorderNamespace,timeConstructor:this.injection.TimeCtor},n),this.webGlObjectSpy=new this.injection.WebGlObjectSpyCtor({contextInformation:this.contextInformation,webGlObjectNamespace:this.injection.WebGlObjectNamespace},n),this.analyser=new this.injection.CaptureAnalyserCtor({contextInformation:this.contextInformation,analyserNamespace:this.injection.AnalyserNamespace},n),this.initStaticCapture(),t.recordAlways&&this.spy()}return e.prototype.spy=function(){this.spyContext(this.context);var t=this.contextInformation.extensions;for(var e in t)t.hasOwnProperty(e)&&this.spyContext(t[e])},e.prototype.unSpy=function(){for(var t in this.commandSpies)this.commandSpies.hasOwnProperty(t)&&this.commandSpies[t].unSpy()},e.prototype.startCapture=function(){var t=this.time.now;this.options.recordAlways||this.spy(),this.capturing=!0,this.commandId=0,this.currentCapture={canvas:this.canvasCapture,context:this.contextCapture,commands:[],initState:{},endState:{},startTime:t,listenCommandsStartTime:0,listenCommandsEndTime:0,endTime:0,analyses:[],frameMemory:{},memory:{}},this.stateSpy.startCapture(this.currentCapture),this.recorderSpy.startCapture(),this.currentCapture.listenCommandsStartTime=this.time.now},e.prototype.stopCapture=function(){var t=this.time.now;return this.options.recordAlways||this.unSpy(),this.capturing=!1,this.stateSpy.stopCapture(this.currentCapture),this.recorderSpy.stopCapture(),this.currentCapture.listenCommandsEndTime=t,this.currentCapture.endTime=this.time.now,this.recorderSpy.appendRecordedInformation(this.currentCapture),this.analyser.appendAnalyses(this.currentCapture),this.currentCapture},e.prototype.isCapturing=function(){return this.globalCapturing&&this.capturing},e.prototype.getNextCommandCaptureId=function(){return this.commandId++},e.prototype.onCommand=function(t,e){if(this.globalCapturing&&(this.webGlObjectSpy.tagWebGlObjects(e),this.recorderSpy.recordCommand(e),this.isCapturing())){var n=t.createCapture(e,this.getNextCommandCaptureId());this.stateSpy.captureState(n),this.currentCapture.commands.push(n),n.endTime=this.time.now}},e.prototype.spyContext=function(t){for(var n in t)if(!~e.unSpyableMembers.indexOf(n))try{var r="number"!=typeof t[n];r&&this.spyFunction(n,t)}catch(t){this.logger.error("Cant Spy member: "+n),this.logger.error(t)}},e.prototype.initStaticCapture=function(){var t=new this.injection.ExtensionsCtor(this.contextInformation,this.logger),e=t.getExtensions();for(var n in e)e.hasOwnProperty(n)&&(this.contextInformation.extensions[n]=e[n]);var r=new this.injection.CapabilitiesCtor(this.contextInformation,this.logger),a=new this.injection.CompressedTexturesCtor(this.contextInformation,this.logger);this.contextCapture={version:this.version,contextAttributes:this.context.getContextAttributes(),capabilities:r.getStateData(),extensions:t.getStateData(),compressedTextures:a.getStateData()},this.canvasCapture={width:this.context.canvas.width,height:this.context.canvas.height,clientWidth:this.context.canvas.clientWidth,clientHeight:this.context.canvas.clientHeight,browserAgent:navigator?navigator.userAgent:""}},e.prototype.spyFunction=function(e,n){if(!this.commandSpies[e]){var r=t.merge(this.contextInformation,{spiedCommandName:e,spiedCommandRunningContext:n,callback:this.onCommand.bind(this),commandNamespace:this.injection.CommandNamespace,stackTraceCtor:this.injection.StackTraceCtor,defaultCommandCtor:this.injection.DefaultCommandCtor});this.commandSpies[e]=new this.injection.CommandSpyCtor(r,this.time,this.logger)}this.commandSpies[e].spy()},e.prototype.toggleGlobalCapturing=function(t){this.globalCapturing=t},e.prototype.tagWebGlObject=function(t){return this.webGlObjectSpy.tagWebGlObject(t)},e}();n.unSpyableMembers=["canvas","drawingBufferWidth","drawingBufferHeight"],e.ContextSpy=n}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e,n){this.time=e,this.logger=n,this.stackTrace=new t.stackTraceCtor,this.spiedCommandName=t.spiedCommandName,this.spiedCommandRunningContext=t.spiedCommandRunningContext,this.spiedCommand=this.spiedCommandRunningContext[this.spiedCommandName],this.callback=t.callback,this.commandOptions={context:t.context,contextVersion:t.contextVersion,extensions:t.extensions,toggleCapture:t.toggleCapture,spiedCommandName:t.spiedCommandName},this.initCustomCommands(t.commandNamespace),this.initCommand(t.defaultCommandCtor)}return e.prototype.spy=function(){this.spiedCommandRunningContext[this.spiedCommandName]=this.overloadedCommand},e.prototype.unSpy=function(){this.spiedCommandRunningContext[this.spiedCommandName]=this.spiedCommand},e.prototype.createCapture=function(t,e){return this.command.createCapture(t,e)},e.prototype.initCustomCommands=function(n){if(!e.customCommandsConstructors){e.customCommandsConstructors={};for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],o=t.Decorators.getCommandName(a);o&&(e.customCommandsConstructors[o]=a)}}},e.prototype.initCommand=function(t){e.customCommandsConstructors[this.spiedCommandName]?this.command=new e.customCommandsConstructors[this.spiedCommandName](this.commandOptions,this.stackTrace,this.logger):this.command=new t(this.commandOptions,this.stackTrace,this.logger),this.overloadedCommand=this.getSpy()},e.prototype.getSpy=function(){var t=this;return function(){var e=t.time.now,n=t.spiedCommand.apply(t.spiedCommandRunningContext,arguments),r=t.time.now,a={name:t.spiedCommandName,arguments:arguments,result:n,startTime:e,endTime:r};return t.callback(t,a),n}},e}();e.CommandSpy=n}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e,n){this.options=t,this.stackTrace=e,this.logger=n,this.spiedCommandName=t.spiedCommandName}return e.prototype.createCapture=function(t,e){var n=this.stackTrace.getStackTrace(4,1),r=this.stringify(t.arguments,t.result),a={id:e,startTime:t.startTime,commandEndTime:t.endTime,endTime:0,name:t.name,commandArguments:t.arguments,result:t.result,stackTrace:n,status:0,text:r};this.transformCapture(a);for(var o=0;o<a.commandArguments.length;o++){var i=a.commandArguments[o];i&&i.length&&i.length>50&&(a.commandArguments[o]="Array Legnth: "+i.length)}if(a.commandArguments){for(var s=[],o=0;o<a.commandArguments.length;o++){var u=a.commandArguments[o];void 0===u?s.push(void 0):null===u?s.push(null):s.push(JSON.parse(JSON.stringify(u)))}a.commandArguments=s}return a.result&&(a.result=JSON.parse(JSON.stringify(a.result))),a},e.prototype.transformCapture=function(t){},e.prototype.stringify=function(t,e){var n=this.options.spiedCommandName;return t&&t.length>0&&(n+=": "+this.stringifyArgs(t).join(", ")),e&&(n+=" -> "+this.stringifyResult(e)),n},e.prototype.stringifyArgs=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],a=this.stringifyValue(r);e.push(a)}return e},e.prototype.stringifyResult=function(t){if(t)return this.stringifyValue(t)},e.prototype.stringifyValue=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var n=t.WebGlObjects.getWebGlObjectTag(e);return n?n.displayText:"number"==typeof e&&t.WebGlConstants.isWebGlConstant(e)?t.WebGlConstants.stringifyWebGlConstant(e,this.spiedCommandName):"string"==typeof e?e:e instanceof HTMLImageElement?e.src:e instanceof ArrayBuffer?"[--("+e.byteLength+")--]":e.length?"[..("+e.length+")..]":e},e}();e.BaseCommand=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n,r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){!function(t){var e=["lineWidth"],n=function(t){function n(n,r,a){var o=t.call(this,n,r,a)||this;return o.isDeprecated=e.indexOf(o.spiedCommandName)>-1,o}return r(n,t),n.prototype.transformCapture=function(t){this.isDeprecated&&(t.status=50)},n}(t.BaseCommand);t.DefaultCommand=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n,a=this&&this.__decorate||function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return(e[0]&t.WebGlConstants.DEPTH_BUFFER_BIT.value)===t.WebGlConstants.DEPTH_BUFFER_BIT.value&&n.push(t.WebGlConstants.DEPTH_BUFFER_BIT.name),(e[0]&t.WebGlConstants.STENCIL_BUFFER_BIT.value)===t.WebGlConstants.STENCIL_BUFFER_BIT.value&&n.push(t.WebGlConstants.STENCIL_BUFFER_BIT.name),(e[0]&t.WebGlConstants.COLOR_BUFFER_BIT.value)===t.WebGlConstants.COLOR_BUFFER_BIT.value&&n.push(t.WebGlConstants.COLOR_BUFFER_BIT.name),n},n}(e.BaseCommand);n=a([t.Decorators.command("clear")],n),e.Clear=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[],r=this.options.context.getParameter(t.WebGlConstants.READ_FRAMEBUFFER_BINDING.value),a=this.options.tagWebGlObject(r);n.push("READ FROM: "+this.stringifyValue(a));var o=this.options.context.getParameter(t.WebGlConstants.DRAW_FRAMEBUFFER_BINDING.value),i=this.options.tagWebGlObject(o);n.push("WRITE TO: "+this.stringifyValue(i));for(var s=0;s<8;s++)n.push(e[s]);return(e[8]&t.WebGlConstants.DEPTH_BUFFER_BIT.value)===t.WebGlConstants.DEPTH_BUFFER_BIT.value&&n.push(t.WebGlConstants.DEPTH_BUFFER_BIT.name),(e[8]&t.WebGlConstants.STENCIL_BUFFER_BIT.value)===t.WebGlConstants.STENCIL_BUFFER_BIT.value&&n.push(t.WebGlConstants.STENCIL_BUFFER_BIT.name),(e[8]&t.WebGlConstants.COLOR_BUFFER_BIT.value)===t.WebGlConstants.COLOR_BUFFER_BIT.value&&n.push(t.WebGlConstants.COLOR_BUFFER_BIT.name),n.push(t.WebGlConstants.stringifyWebGlConstant(e[9],"blitFrameBuffer")),n},n}(e.BaseCommand);n=a([t.Decorators.command("blitFrameBuffer")],n),e.BlitFrameBuffer=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(e[0]),n.push(e[1]),n.push(t.WebGlConstants.stringifyWebGlConstant(e[2],"vertexAttribPointer")),n.push(e[3]),n.push(e[4]),n.push(e[5]),n},n}(e.BaseCommand);n=a([t.Decorators.command("vertexAttribPointer")],n),e.VertexAttribPointer=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e}(e.BaseCommand);n=a([t.Decorators.command("getActiveAttrib")],n),e.GetActiveAttrib=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e}(e.BaseCommand);n=a([t.Decorators.command("getActiveUniform")],n),e.GetActiveUniform=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e}(e.BaseCommand);n=a([t.Decorators.command("getTransformFeedbackVarying")],n),e.GetTransformFeedbackVarying=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyResult=function(t){return t?"true":"false"},e}(e.BaseCommand);n=a([t.Decorators.command("getExtension")],n),e.GetExtension=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyResult=function(t){if(t)return"min: "+t.rangeMin+", max: "+t.rangeMax+", precision: "+t.precision},e}(e.BaseCommand);n=a([t.Decorators.command("getShaderPrecisionFormat")],n),e.GetShaderPrecisionFormat=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyResult=function(e){if(!e)return"null";var n=t.WebGlObjects.getWebGlObjectTag(e);return n?n.displayText:e},n}(e.BaseCommand);n=a([t.Decorators.command("getParameter")],n),e.GetParameter=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawArrays")),n.push(e[1]),n.push(e[2]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawArrays")],n),e.DrawArrays=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawArraysInstanced")),n.push(e[1]),n.push(e[2]),n.push(e[3]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawArraysInstanced")],n),e.DrawArraysInstanced=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.WebGlConstants.stringifyWebGlConstant(e[r],"drawBuffers"));return n},n}(e.BaseCommand);n=a([t.Decorators.command("drawBuffers")],n),e.DrawBuffers=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawElements")),n.push(e[1]),n.push(t.WebGlConstants.stringifyWebGlConstant(e[2],"drawElements")),n.push(e[3]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawElements")],n),e.DrawElements=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawElementsInstanced")),n.push(e[1]),n.push(t.WebGlConstants.stringifyWebGlConstant(e[2],"drawElementsInstanced")),n.push(e[3]),n.push(e[4]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawElementsInstanced")],n),e.DrawElementsInstanced=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawElementsInstancedANGLE")),n.push(e[1]),n.push(t.WebGlConstants.stringifyWebGlConstant(e[2],"drawElementsInstancedANGLE")),n.push(e[3]),n.push(e[4]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawElementsInstancedANGLE")],n),e.DrawElementsInstancedAngle=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.stringifyArgs=function(e){var n=[];return n.push(t.WebGlConstants.stringifyWebGlConstant(e[0],"drawRangeElements")),n.push(e[1]),n.push(e[2]),n.push(e[3]),n.push(t.WebGlConstants.stringifyWebGlConstant(e[4],"drawRangeElements")),n.push(e[5]),n},n}(e.BaseCommand);n=a([t.Decorators.command("drawRangeElements")],n),e.DrawRangeElements=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyArgs=function(t){for(var e=[],n=0;n<4;n++)e.push(t[n].toFixed(0));return e},e}(e.BaseCommand);n=a([t.Decorators.command("scissor")],n),e.Scissor=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.stringifyArgs=function(t){for(var e=[],n=0;n<4;n++)e.push(t[n].toFixed(0));return e},e}(e.BaseCommand);n=a([t.Decorators.command("viewport")],n),e.Viewport=n}(t.Commands||(t.Commands={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,n){this.options=t,this.logger=n,this.objectName=t.objectName,this.createCommandNames=this.getCreateCommandNames(),this.updateCommandNames=this.getUpdateCommandNames(),this.deleteCommandNames=this.getDeleteCommandNames(),this.startTime=this.options.time.now,this.memoryPerSecond={},this.totalMemory=0,this.frameMemory=0,this.capturing=!1,e.byteSizePerInternalFormat={}}return e.initializeByteSizeFormat=function(){if(!this.byteSizePerInternalFormat){this.byteSizePerInternalFormat=(e={},e[t.WebGlConstants.R8.value]=1,e[t.WebGlConstants.R16F.value]=2,e[t.WebGlConstants.R32F.value]=4,e[t.WebGlConstants.R8UI.value]=1,e[t.WebGlConstants.RG8.value]=2,e[t.WebGlConstants.RG16F.value]=4,e[t.WebGlConstants.RG32F.value]=8,e[t.WebGlConstants.ALPHA.value]=1,e[t.WebGlConstants.RGB.value]=3,e[t.WebGlConstants.RGBA.value]=4,e[t.WebGlConstants.LUMINANCE.value]=1,e[t.WebGlConstants.LUMINANCE_ALPHA.value]=2,e[t.WebGlConstants.DEPTH_COMPONENT.value]=1,e[t.WebGlConstants.DEPTH_STENCIL.value]=2,e[t.WebGlConstants.SRGB_EXT.value]=3,e[t.WebGlConstants.SRGB_ALPHA_EXT.value]=4,e[t.WebGlConstants.RGB8.value]=3,e[t.WebGlConstants.SRGB8.value]=3,e[t.WebGlConstants.RGB565.value]=2,e[t.WebGlConstants.R11F_G11F_B10F.value]=4,e[t.WebGlConstants.RGB9_E5.value]=2,e[t.WebGlConstants.RGB16F.value]=6,e[t.WebGlConstants.RGB32F.value]=12,e[t.WebGlConstants.RGB8UI.value]=3,e[t.WebGlConstants.RGBA8.value]=4,e[t.WebGlConstants.RGB5_A1.value]=2,e[t.WebGlConstants.RGBA16F.value]=8,e[t.WebGlConstants.RGBA32F.value]=16,e[t.WebGlConstants.RGBA8UI.value]=4,e[t.WebGlConstants.COMPRESSED_R11_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_SIGNED_R11_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_RG11_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_SIGNED_RG11_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_RGB8_ETC2.value]=4,e[t.WebGlConstants.COMPRESSED_RGBA8_ETC2_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_SRGB8_ETC2.value]=4,e[t.WebGlConstants.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC.value]=4,e[t.WebGlConstants.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]=4,e[t.WebGlConstants.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]=4,e);var e}},e.prototype.registerCallbacks=function(t){for(var e=0,n=this.createCommandNames;e<n.length;e++){var r=n[e];t[r]=t[r]||[],t[r].push(this.createWithoutSideEffects.bind(this))}for(var a=0,o=this.updateCommandNames;a<o.length;a++){var r=o[a];t[r]=t[r]||[],t[r].push(this.updateWithoutSideEffects.bind(this))}for(var i=0,s=this.deleteCommandNames;i<s.length;i++){var r=s[i];t[r]=t[r]||[],t[r].push(this.deleteWithoutSideEffects.bind(this))}},e.prototype.startCapture=function(){this.frameMemory=0,this.capturing=!0},e.prototype.stopCapture=function(){this.frameMemory=0,this.capturing=!1},e.prototype.appendRecordedInformation=function(t){t.frameMemory[this.objectName]=this.frameMemory,t.memory[this.objectName]=this.memoryPerSecond},e.prototype.create=function(t){},e.prototype.createWithoutSideEffects=function(t){this.options.toggleCapture(!1),this.create(t),this.options.toggleCapture(!0)},e.prototype.updateWithoutSideEffects=function(e){if(e&&0!==e.arguments.length){this.options.toggleCapture(!1);var n=e.arguments[0],r=this.getBoundInstance(n);if(!r)return void this.options.toggleCapture(!0);if(!t.WebGlObjects.getWebGlObjectTag(r))return void this.options.toggleCapture(!0);var a=this.getWebGlConstant(n),o=this.update(e,a,r);this.changeMemorySize(o),this.options.toggleCapture(!0)}},e.prototype.deleteWithoutSideEffects=function(t){if(t&&t.arguments&&!(t.arguments.length<1)){var e=t.arguments[0];if(e){this.options.toggleCapture(!1);var n=this.delete(e);this.changeMemorySize(-n),this.options.toggleCapture(!0)}}},e.prototype.changeMemorySize=function(t){this.totalMemory+=t,this.capturing&&(this.frameMemory+=t);var e=this.options.time.now-this.startTime,n=Math.round(e/1e3);this.memoryPerSecond[n]=this.totalMemory},e.prototype.getWebGlConstant=function(e){var n=t.WebGlConstantsByValue[e];return n?n.name:e+""},e.prototype.getByteSizeForInternalFormat=function(t){return e.byteSizePerInternalFormat[t]||4},e}();e.BaseRecorder=n}(t.Recorders||(t.Recorders={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getCreateCommandNames=function(){return["createTexture"]},n.prototype.getUpdateCommandNames=function(){return["texImage2D","compressedTexImage2D","texStorage2D"]},n.prototype.getDeleteCommandNames=function(){return["deleteTexture"]},n.prototype.getBoundInstance=function(e){var n=this.options.context;return e===t.WebGlConstants.TEXTURE_2D.value?n.getParameter(t.WebGlConstants.TEXTURE_BINDING_2D.value):e===t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_X.value||e===t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_Y.value||e===t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_Z.value||e===t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_X.value||e===t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_Y.value||e===t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_Z.value?n.getParameter(t.WebGlConstants.TEXTURE_BINDING_CUBE_MAP.value):void 0},n.prototype.delete=function(e){var n=e.__SPECTOR_Object_CustomData;return n?n.target===t.WebGlConstants.TEXTURE_2D_ARRAY.name||n.target===t.WebGlConstants.TEXTURE_3D.name?0:n.length:0},n.prototype.update=function(t,e,n){if(t.arguments.length>=2&&0!==t.arguments[1])return 0;var r=this.getCustomData(t,e,n);if(!r)return 0;var a=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0,o="TEXTURE_2D"===e?1:6;return r.length=r.width*r.height*o*this.getByteSizeForInternalFormat(r.internalFormat),n.__SPECTOR_Object_CustomData=r,r.length-a},n.prototype.getCustomData=function(t,e,n){return"texImage2D"===t.name?this.getTexImage2DCustomData(t,e,n):"compressedTexImage2D"===t.name?this.getCompressedTexImage2DCustomData(t,e,n):"texStorage2D"===t.name?this.getTexStorage2DCustomData(t,e,n):void 0},n.prototype.getTexStorage2DCustomData=function(t,e,n){var r;return 5===t.arguments.length&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],length:0}),r},n.prototype.getCompressedTexImage2DCustomData=function(t,e,n){if(0===t.arguments[1]){var r;return t.arguments.length>=7&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],length:0}),r}},n.prototype.getTexImage2DCustomData=function(t,e,n){if(0===t.arguments[1]){var r;return t.arguments.length>=8?r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],format:t.arguments[6],type:t.arguments[7],length:0}:6===t.arguments.length&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[5].width,height:t.arguments[5].height,format:t.arguments[3],type:t.arguments[4],length:0}),r}},n}(e.BaseRecorder);n=a([t.Decorators.recorder("Texture2d")],n),e.Texture2DRecorder=n}(t.Recorders||(t.Recorders={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getCreateCommandNames=function(){return["createTexture"]},n.prototype.getUpdateCommandNames=function(){return["texImage3D","compressedTexImage3D","texStorage3D"]},n.prototype.getDeleteCommandNames=function(){return["deleteTexture"]},n.prototype.getBoundInstance=function(e){var n=this.options.context;return e===t.WebGlConstants.TEXTURE_2D_ARRAY.value?n.getParameter(t.WebGlConstants.TEXTURE_BINDING_2D_ARRAY.value):e===t.WebGlConstants.TEXTURE_3D.value?n.getParameter(t.WebGlConstants.TEXTURE_BINDING_3D.value):void 0},n.prototype.delete=function(e){var n=e.__SPECTOR_Object_CustomData;return n?n.target!==t.WebGlConstants.TEXTURE_2D_ARRAY.name&&n.target!==t.WebGlConstants.TEXTURE_3D.name?0:n.length:0},n.prototype.update=function(t,e,n){if(t.arguments.length>=2&&0!==t.arguments[1])return 0;var r=this.getCustomData(t,e,n);if(!r)return 0;var a=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return r.length=r.width*r.height*r.depth*this.getByteSizeForInternalFormat(r.internalFormat),r&&(n.__SPECTOR_Object_CustomData=r),r.length-a},n.prototype.getCustomData=function(t,e,n){return"texImage3D"===t.name?this.getTexImage3DCustomData(t,e,n):"compressedTexImage3D"===t.name?this.getCompressedTexImage3DCustomData(t,e,n):"texStorage3D"===t.name?this.getTexStorage3DCustomData(t,e,n):void 0},n.prototype.getTexStorage3DCustomData=function(t,e,n){var r;return 6===t.arguments.length&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],length:0}),r},n.prototype.getCompressedTexImage3DCustomData=function(t,e,n){if(0===t.arguments[1]){var r;return t.arguments.length>=8&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],length:0}),r}},n.prototype.getTexImage3DCustomData=function(t,e,n){if(0===t.arguments[1]){var r;return t.arguments.length>=9&&(r={target:e,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],format:t.arguments[7],type:t.arguments[8],length:0}),r}},n}(e.BaseRecorder);n=a([t.Decorators.recorder("Texture3d")],n),e.Texture3DRecorder=n}(t.Recorders||(t.Recorders={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getCreateCommandNames=function(){return["createBuffer"]},n.prototype.getUpdateCommandNames=function(){return["bufferData"]},n.prototype.getDeleteCommandNames=function(){return["deleteBuffer"]},n.prototype.getBoundInstance=function(e){var n=this.options.context;return e===t.WebGlConstants.ARRAY_BUFFER.value?n.getParameter(t.WebGlConstants.ARRAY_BUFFER_BINDING.value):e===t.WebGlConstants.ELEMENT_ARRAY_BUFFER.value?n.getParameter(t.WebGlConstants.ELEMENT_ARRAY_BUFFER_BINDING.value):e===t.WebGlConstants.COPY_READ_BUFFER.value?n.getParameter(t.WebGlConstants.COPY_READ_BUFFER_BINDING.value):e===t.WebGlConstants.COPY_WRITE_BUFFER.value?n.getParameter(t.WebGlConstants.COPY_WRITE_BUFFER_BINDING.value):e===t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER.value?n.getParameter(t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER_BINDING.value):e===t.WebGlConstants.UNIFORM_BUFFER.value?n.getParameter(t.WebGlConstants.UNIFORM_BUFFER_BINDING.value):e===t.WebGlConstants.PIXEL_PACK_BUFFER.value?n.getParameter(t.WebGlConstants.PIXEL_PACK_BUFFER_BINDING.value):e===t.WebGlConstants.PIXEL_UNPACK_BUFFER.value?n.getParameter(t.WebGlConstants.PIXEL_UNPACK_BUFFER_BINDING.value):void 0},n.prototype.delete=function(t){var e=t.__SPECTOR_Object_CustomData;return e?e.length:0},n.prototype.update=function(t,e,n){var r=this.getCustomData(e,t);if(!r)return 0;var a=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return n.__SPECTOR_Object_CustomData=r,r.length-a},n.prototype.getCustomData=function(t,e){var n=this.getLength(e);return e.arguments.length>=4?{target:t,length:n,usage:e.arguments[2],offset:e.arguments[3],sourceLength:e.arguments[1]?e.arguments[1].length:-1}:3===e.arguments.length?{target:t,length:n,usage:e.arguments[2]}:void 0},n.prototype.getLength=function(t){var e=-1;return 5===t.arguments.length&&(e=t.arguments[4]),e<=0&&(e="number"==typeof t.arguments[1]?t.arguments[1]:t.arguments[1]?t.arguments[1].buffer?t.arguments[1].buffer.byteLength:t.arguments[1].byteLength||t.arguments[1].length||0:0),e},n}(e.BaseRecorder);n=a([t.Decorators.recorder("Buffer")],n),e.BufferRecorder=n}(t.Recorders||(t.Recorders={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getCreateCommandNames=function(){return["createRenderbuffer"]},n.prototype.getUpdateCommandNames=function(){return["renderbufferStorage"]},n.prototype.getDeleteCommandNames=function(){return["deleteRenderbuffer"]},n.prototype.getBoundInstance=function(e){var n=this.options.context;if(e===t.WebGlConstants.RENDERBUFFER.value)return n.getParameter(t.WebGlConstants.RENDERBUFFER_BINDING.value)},n.prototype.delete=function(t){var e=t.__SPECTOR_Object_CustomData;return e?e.length:0},n.prototype.update=function(t,e,n){var r=this.getCustomData(t,e);if(!r)return 0;var a=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return r.length=r.width*r.height*this.getByteSizeForInternalFormat(r.internalFormat),n.__SPECTOR_Object_CustomData=r,r.length-a},n.prototype.getCustomData=function(t,e){return{target:e,internalFormat:t.arguments[1],width:t.arguments[2],height:t.arguments[3],length:0}},n}(e.BaseRecorder);n=a([t.Decorators.recorder("Renderbuffer")],n),e.RenderBufferRecorder=n}(t.Recorders||(t.Recorders={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e){this.options=t,this.logger=e,this.recorders={},this.recorderConstructors={},this.onCommandCallbacks={},this.contextInformation=t.contextInformation,this.time=new t.timeConstructor,this.initAvailableRecorders(),this.initRecorders()}return e.prototype.recordCommand=function(t){var e=this.onCommandCallbacks[t.name];if(e)for(var n=0,r=e;n<r.length;n++){var a=r[n];a(t)}},e.prototype.startCapture=function(){for(var t in this.recorders)if(this.recorders.hasOwnProperty(t)){var e=this.recorders[t];e.startCapture()}},e.prototype.stopCapture=function(){for(var t in this.recorders)if(this.recorders.hasOwnProperty(t)){var e=this.recorders[t];e.stopCapture()}},e.prototype.appendRecordedInformation=function(t){for(var e in this.recorders)if(this.recorders.hasOwnProperty(e)){var n=this.recorders[e];n.appendRecordedInformation(t)}},e.prototype.initAvailableRecorders=function(){for(var e in this.options.recorderNamespace)if(this.options.recorderNamespace.hasOwnProperty(e)){var n=this.options.recorderNamespace[e],r=t.Decorators.getRecorderName(n);r&&(this.recorderConstructors[r]=n)}},e.prototype.initRecorders=function(){for(var e in this.recorderConstructors)if(this.recorderConstructors.hasOwnProperty(e)){var n=t.merge({objectName:e,time:this.time},this.contextInformation),r=new this.recorderConstructors[e](n,this.logger);this.recorders[e]=r,r.registerCallbacks(this.onCommandCallbacks)}},e}();e.RecorderSpy=n}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e){this.options=t,this.logger=e,this.stateTrackers={},this.onCommandCapturedCallbacks={},this.stateConstructors={},this.contextInformation=t.contextInformation,this.initAvailableStateTrackers(),this.initStateTrackers()}return e.prototype.startCapture=function(t){for(var e in this.stateTrackers)if(this.stateTrackers.hasOwnProperty(e)){var n=this.stateTrackers[e],r=n.startCapture();n.requireStartAndStopStates&&(t.initState[e]=r)}},e.prototype.stopCapture=function(t){for(var e in this.stateTrackers)if(this.stateTrackers.hasOwnProperty(e)){var n=this.stateTrackers[e],r=n.stopCapture();n.requireStartAndStopStates&&(t.endState[e]=r)}},e.prototype.captureState=function(t){var e=this.onCommandCapturedCallbacks[t.name];if(e)for(var n=0,r=e;n<r.length;n++){var a=r[n];a(t)}},e.prototype.initAvailableStateTrackers=function(){for(var e in this.options.stateNamespace)if(this.options.stateNamespace.hasOwnProperty(e)){var n=this.options.stateNamespace[e],r=t.Decorators.getStateName(n);r&&(this.stateConstructors[r]=n)}},e.prototype.initStateTrackers=function(){for(var e in this.stateConstructors)if(this.stateConstructors.hasOwnProperty(e)){var n=t.merge({stateName:e},this.contextInformation),r=new this.stateConstructors[e](n,this.logger);this.stateTrackers[e]=r,r.registerCallbacks(this.onCommandCapturedCallbacks)}},e}();e.StateSpy=n}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e){this.options=t,this.logger=e,this.webGlObjectConstructors={},this.webGlObjects={},this.contextInformation=t.contextInformation,this.initAvailableWebglObjects(),this.initWebglObjects()}return e.prototype.tagWebGlObjects=function(t){for(var e in this.webGlObjects)if(this.webGlObjects.hasOwnProperty(e)){for(var n=this.webGlObjects[e],r=0;r<t.arguments.length;r++){var a=t.arguments[r];if(n.tagWebGlObject(a))break}if(n.tagWebGlObject(t.result))break}},e.prototype.tagWebGlObject=function(t){for(var e in this.webGlObjects)if(this.webGlObjects.hasOwnProperty(e)){var n=this.webGlObjects[e],r=n.tagWebGlObject(t);if(r)return r}},e.prototype.initAvailableWebglObjects=function(){for(var e in this.options.webGlObjectNamespace)if(this.options.webGlObjectNamespace.hasOwnProperty(e)){var n=this.options.webGlObjectNamespace[e],r=t.Decorators.getWebGlObjectName(n),a=t.Decorators.getWebGlObjectType(n);r&&a&&(this.webGlObjectConstructors[r]={ctor:n,type:a})}},e.prototype.initWebglObjects=function(){for(var e in this.webGlObjectConstructors)if(this.webGlObjectConstructors.hasOwnProperty(e)){var n=t.merge({typeName:e,type:this.webGlObjectConstructors[e].type},this.contextInformation),r=new this.webGlObjectConstructors[e].ctor(n,this.logger);this.webGlObjects[e]=r}},e}();e.WebGlObjectSpy=n}(t.Spies||(t.Spies={}))}(n||(n={}));var n;!function(t){!function(e){e.drawCommands=["drawArrays","drawElements","drawArraysInstanced","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements"];var n=function(){function e(t,e){this.options=t,this.logger=e,this.context=t.context,this.contextVersion=t.contextVersion,this.extensions=t.extensions,this.toggleCapture=t.toggleCapture,this.stateName=t.stateName,this.consumeCommands=this.getConsumeCommands(),this.changeCommandsByState=this.getChangeCommandsByState(),this.commandNameToStates=this.getCommandNameToStates()}return Object.defineProperty(e.prototype,"requireStartAndStopStates",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.startCapture=function(t){return void 0===t&&(t=!0),this.capturedCommandsByState={},t&&this.requireStartAndStopStates&&(this.currentState={},this.readFromContextNoSideEffects()),this.copyCurrentStateToPrevious(),this.currentState={},this.previousState},e.prototype.stopCapture=function(){return this.requireStartAndStopStates&&this.readFromContextNoSideEffects(),this.analyse(void 0),this.currentState},e.prototype.registerCallbacks=function(t){for(var e in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(e))for(var n=0,r=this.changeCommandsByState[e];n<r.length;n++){var a=r[n];t[a]=t[a]||[],t[a].push(this.onChangeCommand.bind(this))}for(var o=0,i=this.consumeCommands;o<i.length;o++){var s=i[o];t[s]=t[s]||[],t[s].push(this.onConsumeCommand.bind(this))}},e.prototype.getStateData=function(){return this.currentState},e.prototype.getConsumeCommands=function(){return[]},e.prototype.getChangeCommandsByState=function(){return{}},e.prototype.copyCurrentStateToPrevious=function(){this.currentState&&(this.previousState=this.currentState)},e.prototype.onChangeCommand=function(t){for(var e=this.commandNameToStates[t.name],n=0,r=e;n<r.length;n++){var a=r[n];if(!this.isValidChangeCommand(t,a))return;this.capturedCommandsByState[a]=this.capturedCommandsByState[a]||[],this.capturedCommandsByState[a].push(t)}},e.prototype.isValidChangeCommand=function(t,e){return!0},e.prototype.onConsumeCommand=function(t){this.isValidConsumeCommand(t)&&(this.readFromContextNoSideEffects(),this.analyse(t),this.storeCommandIds(),t[this.stateName]=this.currentState,this.startCapture(!1))},e.prototype.isValidConsumeCommand=function(t){return!0},e.prototype.analyse=function(t){for(var e in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(e)){var n=this.capturedCommandsByState[e],r=n.length-1;if(r>=0)if(t){for(var a=0;a<r;a++){var o=n[a];o.consumeCommandId=t.id,this.changeCommandCaptureStatus(o,30)}var i=this.isStateEnableNoSideEffects(e,t.commandArguments),s=n[r];s.consumeCommandId=t.id,this.areStatesEquals(this.currentState[e],this.previousState[e])?this.changeCommandCaptureStatus(s,30):i?this.changeCommandCaptureStatus(s,40):this.changeCommandCaptureStatus(s,20)}else for(var a=0;a<n.length;a++){var s=n[a];this.changeCommandCaptureStatus(s,10)}}},e.prototype.storeCommandIds=function(){for(var t=["unusedCommandIds","disabledCommandIds","redundantCommandIds","validCommandIds"],e=0,n=t;e<n.length;e++){var r=n[e];this.currentState[r]=[]}for(var a in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(a))for(var o=this.capturedCommandsByState[a],i=0,s=o;i<s.length;i++){var u=s[i];switch(u.status){case 10:this.currentState.unusedCommandIds.push(u.id);break;case 20:this.currentState.disabledCommandIds.push(u.id);break;case 30:this.currentState.redundantCommandIds.push(u.id);break;case 40:this.currentState.validCommandIds.push(u.id)}}for(var l=0,c=t;l<c.length;l++){var r=c[l];this.currentState[r].length||delete this.currentState[r]}},e.prototype.changeCommandCaptureStatus=function(t,e){return t.status<e&&(t.status=e,!0)},e.prototype.areStatesEquals=function(t,e){if(typeof t!=typeof e)return!1;if(t&&!e)return!1;if(e&&!t)return!1;if(void 0===t||null===t)return!0;if(t.length&&e.length&&"string"!=typeof t){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e},e.prototype.isStateEnable=function(t,e){return!0},e.prototype.getSpectorData=function(e){if(e)return{__SPECTOR_Object_TAG:t.WebGlObjects.getWebGlObjectTag(e)||this.options.tagWebGlObject(e),__SPECTOR_Object_CustomData:e.__SPECTOR_Object_CustomData,__SPECTOR_Metadata:e.__SPECTOR_Metadata}},e.prototype.readFromContextNoSideEffects=function(){this.toggleCapture(!1),this.readFromContext(),this.toggleCapture(!0)},e.prototype.isStateEnableNoSideEffects=function(t,e){this.toggleCapture(!1);var n=this.isStateEnable(t,e);return this.toggleCapture(!0),n},e.prototype.getCommandNameToStates=function(){var t={};for(var e in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(e))for(var n=0,r=this.changeCommandsByState[e];n<r.length;n++){var a=r[n];t[a]=t[a]||[],t[a].push(e)}return t},e}();e.BaseState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[]},n.prototype.getWebgl2Parameters=function(){return[]},n.prototype.getChangeCommandsByState=function(){this.parameters=[],this.parameters.push(this.getWebgl1Parameters()),this.contextVersion>1&&this.parameters.push(this.getWebgl2Parameters());for(var t={},e=1;e<=this.contextVersion&&!(e>this.parameters.length);e++)if(this.parameters[e-1])for(var n=0,r=this.parameters[e-1];n<r.length;n++){var a=r[n];if(a.changeCommands)for(var o=0,i=a.changeCommands;o<i.length;o++){var s=i[o];t[a.constant.name]=t[a.constant.name]||[],t[a.constant.name].push(s)}}return t},n.prototype.readFromContext=function(){for(var e=1;e<=this.contextVersion&&!(e>this.parameters.length);e++)for(var n=0,r=this.parameters[e-1];n<r.length;n++){var a=r[n],o=this.readParameterFromContext(a),i=t.WebGlObjects.getWebGlObjectTag(o);if(i)this.currentState[a.constant.name]=i;else{var s=this.stringifyParameterValue(o,a);this.currentState[a.constant.name]=s}}},n.prototype.readParameterFromContext=function(t){return t.constant.extensionName&&!this.extensions[t.constant.extensionName]?"Extension "+t.constant.extensionName+" is unavailble.":this.context.getParameter(t.constant.value)},n.prototype.stringifyParameterValue=function(e,n){if(null===e)return"null";if(void 0===e)return"undefined";if(30===n.returnType)return e=e.toString(2),e="00000000000000000000000000000000".substr(e.length)+e;if("number"==typeof e&&t.WebGlConstants.isWebGlConstant(e)){if(20===n.returnType){var r=n.changeCommands?n.changeCommands[0]||"":"";return e=t.WebGlConstants.stringifyWebGlConstant(e,r)}return e}if(e.length&&"string"!=typeof e){for(var a=[],o=0;o<e.length;o++)a.push(e[o]);return a}return e},n}(e.BaseState);e.ParameterState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){!function(n){var a=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.currentState=r.startCapture(),r}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.RENDERER},{constant:t.WebGlConstants.VENDOR},{constant:t.WebGlConstants.VERSION},{constant:t.WebGlConstants.SHADING_LANGUAGE_VERSION},{constant:t.WebGlConstants.SAMPLES},{constant:t.WebGlConstants.SAMPLE_BUFFERS},{constant:t.WebGlConstants.RED_BITS},{constant:t.WebGlConstants.GREEN_BITS},{constant:t.WebGlConstants.BLUE_BITS},{constant:t.WebGlConstants.ALPHA_BITS},{constant:t.WebGlConstants.DEPTH_BITS},{constant:t.WebGlConstants.STENCIL_BITS},{constant:t.WebGlConstants.SUBPIXEL_BITS},{constant:t.WebGlConstants.LINE_WIDTH},{constant:t.WebGlConstants.ALIASED_LINE_WIDTH_RANGE},{constant:t.WebGlConstants.ALIASED_POINT_SIZE_RANGE},{constant:t.WebGlConstants.IMPLEMENTATION_COLOR_READ_FORMAT,returnType:20},{constant:t.WebGlConstants.IMPLEMENTATION_COLOR_READ_TYPE,returnType:20},{constant:t.WebGlConstants.MAX_COMBINED_TEXTURE_IMAGE_UNITS},{constant:t.WebGlConstants.MAX_CUBE_MAP_TEXTURE_SIZE},{constant:t.WebGlConstants.MAX_FRAGMENT_UNIFORM_VECTORS},{constant:t.WebGlConstants.MAX_RENDERBUFFER_SIZE},{constant:t.WebGlConstants.MAX_TEXTURE_IMAGE_UNITS},{constant:t.WebGlConstants.MAX_TEXTURE_SIZE},{constant:t.WebGlConstants.MAX_VARYING_VECTORS},{constant:t.WebGlConstants.MAX_VERTEX_ATTRIBS},{constant:t.WebGlConstants.MAX_VERTEX_TEXTURE_IMAGE_UNITS},{constant:t.WebGlConstants.MAX_VERTEX_UNIFORM_VECTORS},{constant:t.WebGlConstants.MAX_VIEWPORT_DIMS},{constant:t.WebGlConstants.MAX_TEXTURE_MAX_ANISOTROPY_EXT},{constant:t.WebGlConstants.MAX_COLOR_ATTACHMENTS_WEBGL},{constant:t.WebGlConstants.MAX_DRAW_BUFFERS_WEBGL}]},n.prototype.getWebgl2Parameters=function(){return[{constant:t.WebGlConstants.MAX_3D_TEXTURE_SIZE},{constant:t.WebGlConstants.MAX_ARRAY_TEXTURE_LAYERS},{constant:t.WebGlConstants.MAX_CLIENT_WAIT_TIMEOUT_WEBGL},{constant:t.WebGlConstants.MAX_COLOR_ATTACHMENTS},{constant:t.WebGlConstants.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS},{constant:t.WebGlConstants.MAX_COMBINED_UNIFORM_BLOCKS},{constant:t.WebGlConstants.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS},{constant:t.WebGlConstants.MAX_DRAW_BUFFERS},{constant:t.WebGlConstants.MAX_ELEMENT_INDEX},{constant:t.WebGlConstants.MAX_ELEMENTS_INDICES},{constant:t.WebGlConstants.MAX_ELEMENTS_VERTICES},{constant:t.WebGlConstants.MAX_FRAGMENT_INPUT_COMPONENTS},{constant:t.WebGlConstants.MAX_FRAGMENT_UNIFORM_BLOCKS},{constant:t.WebGlConstants.MAX_FRAGMENT_UNIFORM_COMPONENTS},{constant:t.WebGlConstants.MAX_PROGRAM_TEXEL_OFFSET},{constant:t.WebGlConstants.MAX_SAMPLES},{constant:t.WebGlConstants.MAX_SERVER_WAIT_TIMEOUT},{constant:t.WebGlConstants.MAX_TEXTURE_LOD_BIAS},{constant:t.WebGlConstants.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS},{constant:t.WebGlConstants.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS},{constant:t.WebGlConstants.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS},{constant:t.WebGlConstants.MAX_UNIFORM_BLOCK_SIZE},{constant:t.WebGlConstants.MAX_UNIFORM_BUFFER_BINDINGS},{constant:t.WebGlConstants.MAX_VARYING_COMPONENTS},{constant:t.WebGlConstants.MAX_VERTEX_OUTPUT_COMPONENTS},{constant:t.WebGlConstants.MAX_VERTEX_UNIFORM_BLOCKS},{constant:t.WebGlConstants.MAX_VERTEX_UNIFORM_COMPONENTS},{constant:t.WebGlConstants.MIN_PROGRAM_TEXEL_OFFSET}]},n}(e.ParameterState);n.Capabilities=a}(e.Information||(e.Information={}))}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){!function(n){var a=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.currentState=r.startCapture(),r}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.COMPRESSED_TEXTURE_FORMATS}]},n.prototype.stringifyParameterValue=function(e,n){for(var r=[],a=0,o=e;a<o.length;a++){var i=o[a];r.push(t.WebGlConstants.stringifyWebGlConstant(i,"getParameter"))}return r},n}(e.ParameterState);n.CompressedTextures=a}(e.Information||(e.Information={}))}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(t){!function(e){var n=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.extensionDefinition=[[{name:"ANGLE_instanced_arrays",description:""},{name:"EXT_blend_minmax",description:""},{name:"EXT_color_buffer_float",description:""},{name:"EXT_color_buffer_half_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_frag_depth",description:""},{name:"EXT_sRGB",description:""},{name:"EXT_shader_texture_lod",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_element_index_uint",description:""},{name:"OES_standard_derivatives",description:""},{name:"OES_texture_float",description:""},{name:"OES_texture_float_linear",description:""},{name:"OES_texture_half_float",description:""},{name:"OES_texture_half_float_linear",description:""},{name:"OES_vertex_array_object",description:""},{name:"WEBGL_color_buffer_float",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_depth_texture",description:""},{name:"WEBGL_draw_buffers",description:""}]],r.currentState=r.startCapture(),r}return r(e,t),e.prototype.getExtensions=function(){return this.extensions},e.prototype.readFromContext=function(){for(var t=1;t<=this.contextVersion&&!(t>this.extensionDefinition.length);t++)for(var e=0,n=this.extensionDefinition[t-1];e<n.length;e++){var r=n[e],a=this.context.getExtension(r.name);a?(this.currentState[r.name]=!0,this.extensions[r.name]=a):this.currentState[r.name]=!1}},e}(t.BaseState);e.Extensions=n}(t.Information||(t.Information={}))}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.PACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_COLORSPACE_CONVERSION_WEBGL,returnType:20,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_FLIP_Y_WEBGL,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_PREMULTIPLY_ALPHA_WEBGL,changeCommands:["pixelStorei"]}]},n.prototype.getWebgl2Parameters=function(){return[{constant:t.WebGlConstants.PACK_ROW_LENGTH,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.PACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.PACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_IMAGE_HEIGHT,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:t.WebGlConstants.UNPACK_SKIP_IMAGES,changeCommands:["pixelStorei"]}]},n.prototype.getConsumeCommands=function(){return["readPixels","texImage2D","texSubImage2D"]},n.prototype.isValidChangeCommand=function(e,n){return t.WebGlConstantsByName[n].value===e.commandArguments[0]},n}(e.ParameterState);n=a([t.Decorators.state("AlignmentState")],n),e.AlignmentState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.BLEND,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.BLEND_COLOR,changeCommands:["blendColor"]},{constant:t.WebGlConstants.BLEND_DST_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:t.WebGlConstants.BLEND_DST_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:t.WebGlConstants.BLEND_EQUATION_ALPHA,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:t.WebGlConstants.BLEND_EQUATION_RGB,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:t.WebGlConstants.BLEND_SRC_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:t.WebGlConstants.BLEND_SRC_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===t.WebGlConstants.BLEND.value},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.BLEND.value)},a}(e.ParameterState);n=a([t.Decorators.state("BlendState")],n),e.BlendState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.COLOR_CLEAR_VALUE,changeCommands:["clearColor"]},{constant:t.WebGlConstants.DEPTH_CLEAR_VALUE,changeCommands:["clearDepth"]},{constant:t.WebGlConstants.STENCIL_CLEAR_VALUE,changeCommands:["clearStencil"]}]},n.prototype.getConsumeCommands=function(){return["clear"]},n.prototype.isStateEnable=function(e,n){switch(e){case t.WebGlConstants.COLOR_CLEAR_VALUE.name:return t.WebGlConstants.COLOR_BUFFER_BIT.value===(n[0]&t.WebGlConstants.COLOR_BUFFER_BIT.value);case t.WebGlConstants.DEPTH_CLEAR_VALUE.name:return t.WebGlConstants.DEPTH_BUFFER_BIT.value===(n[0]&t.WebGlConstants.DEPTH_BUFFER_BIT.value);case t.WebGlConstants.STENCIL_CLEAR_VALUE.name:return t.WebGlConstants.STENCIL_BUFFER_BIT.value===(n[0]&t.WebGlConstants.STENCIL_BUFFER_BIT.value)}return!1},n}(e.ParameterState);n=a([t.Decorators.state("ClearState")],n),e.ClearState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.COLOR_WRITEMASK,changeCommands:["colorMask"]}]},a.prototype.getConsumeCommands=function(){return e.drawCommands},a}(e.ParameterState);n=a([t.Decorators.state("ColorState")],n),e.ColorState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.SAMPLE_COVERAGE_VALUE,changeCommands:["sampleCoverage"]},{constant:t.WebGlConstants.SAMPLE_COVERAGE_INVERT,changeCommands:["sampleCoverage"]}]},a.prototype.getWebgl2Parameters=function(){return[{constant:t.WebGlConstants.SAMPLE_COVERAGE,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.SAMPLE_ALPHA_TO_COVERAGE,changeCommands:["enable","disable"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||(e.commandArguments[0]===t.WebGlConstants.SAMPLE_COVERAGE.value?n===t.WebGlConstants.SAMPLE_COVERAGE.name:e.commandArguments[0]===t.WebGlConstants.SAMPLE_ALPHA_TO_COVERAGE.value&&n===t.WebGlConstants.SAMPLE_ALPHA_TO_COVERAGE.name)},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){return 2===this.contextVersion&&this.context.isEnabled(t.WebGlConstants.SAMPLE_COVERAGE.value)},a}(e.ParameterState);n=a([t.Decorators.state("CoverageState")],n),e.CoverageState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.CULL_FACE,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.CULL_FACE_MODE,returnType:20,changeCommands:["cullFace"]}]},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===t.WebGlConstants.CULL_FACE.value},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.CULL_FACE.value)},a}(e.ParameterState);n=a([t.Decorators.state("CullState")],n),e.CullState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.DEPTH_TEST,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.DEPTH_FUNC,returnType:20,changeCommands:["depthFunc"]},{constant:t.WebGlConstants.DEPTH_RANGE,changeCommands:["depthMask"]},{constant:t.WebGlConstants.DEPTH_WRITEMASK,changeCommands:["depthRange"]}]},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===t.WebGlConstants.DEPTH_TEST.value},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.DEPTH_TEST.value)},a}(e.ParameterState);n=a([t.Decorators.state("DepthState")],n),e.DepthState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.DITHER,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.VIEWPORT,changeCommands:["viewPort"]},{constant:t.WebGlConstants.FRONT_FACE,returnType:20,changeCommands:["frontFace"]},{constant:t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,changeCommands:["hint"]}]},a.prototype.getWebgl2Parameters=function(){return[{constant:t.WebGlConstants.RASTERIZER_DISCARD,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT,changeCommands:["hint"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"===e.name||"disable"===e.name?e.commandArguments[0]===t.WebGlConstants.DITHER.value?n===t.WebGlConstants.DITHER.name:e.commandArguments[0]===t.WebGlConstants.RASTERIZER_DISCARD.value&&n===t.WebGlConstants.RASTERIZER_DISCARD.name:"hint"!==e.name||(e.commandArguments[0]===t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.value?n===t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.name:e.commandArguments[0]===t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT.value&&n===t.WebGlConstants.FRAGMENT_SHADER_DERIVATIVE_HINT.name)},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){switch(e){case t.WebGlConstants.DITHER.name:return this.context.isEnabled(t.WebGlConstants.DITHER.value);case t.WebGlConstants.RASTERIZER_DISCARD.name:return this.context.isEnabled(t.WebGlConstants.RASTERIZER_DISCARD.value)}return!0},a}(e.ParameterState);n=a([t.Decorators.state("DrawState")],n),e.DrawState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.GENERATE_MIPMAP_HINT,changeCommands:["hint"]}]},n.prototype.getConsumeCommands=function(){return["generateMipmap"]},n}(e.ParameterState);n=a([t.Decorators.state("MipmapHintState")],n),e.MipmapHintState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.POLYGON_OFFSET_FILL,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.POLYGON_OFFSET_FACTOR,changeCommands:["polygonOffset"]},{constant:t.WebGlConstants.POLYGON_OFFSET_UNITS,changeCommands:["polygonOffset"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===t.WebGlConstants.POLYGON_OFFSET_FILL.value},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.POLYGON_OFFSET_FILL.value)},a}(e.ParameterState);n=a([t.Decorators.state("PolygonOffsetState")],n),e.PolygonOffsetState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.SCISSOR_TEST,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.SCISSOR_BOX,changeCommands:["scissor"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===t.WebGlConstants.SCISSOR_TEST.value},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.SCISSOR_TEST.value)},a}(e.ParameterState);n=a([t.Decorators.state("ScissorState")],n),e.ScissorState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=o=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.getWebgl1Parameters=function(){return[{constant:t.WebGlConstants.STENCIL_TEST,changeCommands:["enable","disable"]},{constant:t.WebGlConstants.STENCIL_BACK_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_BACK_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]},{constant:t.WebGlConstants.STENCIL_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:t.WebGlConstants.STENCIL_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:t.WebGlConstants.STENCIL_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]}]},a.prototype.isValidChangeCommand=function(e,n){return"enable"===e.name||"disable"===e.name?e.commandArguments[0]===t.WebGlConstants.STENCIL_TEST.value:"stencilOp"===e.name||"stencilOpSeparate"===e.name?o.stencilOpStates.indexOf(e.commandArguments[0])>0:"stencilFunc"===e.name||"stencilFuncSeparate"===e.name?o.stencilFuncStates.indexOf(e.commandArguments[0])>0:"stencilMask"!==e.name&&"stencilMaskSeparate"!==e.name||o.stencilMaskStates.indexOf(e.commandArguments[0])>0},a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.isStateEnable=function(e,n){return this.context.isEnabled(t.WebGlConstants.STENCIL_TEST.value)},a}(e.ParameterState);n.stencilOpStates=[t.WebGlConstants.STENCIL_BACK_FAIL.value,t.WebGlConstants.STENCIL_BACK_PASS_DEPTH_FAIL.value,t.WebGlConstants.STENCIL_BACK_PASS_DEPTH_PASS.value,t.WebGlConstants.STENCIL_FAIL.value,t.WebGlConstants.STENCIL_PASS_DEPTH_FAIL.value,t.WebGlConstants.STENCIL_PASS_DEPTH_PASS.value],n.stencilFuncStates=[t.WebGlConstants.STENCIL_BACK_FUNC.value,t.WebGlConstants.STENCIL_BACK_REF.value,t.WebGlConstants.STENCIL_BACK_VALUE_MASK.value,t.WebGlConstants.STENCIL_FUNC.value,t.WebGlConstants.STENCIL_REF.value,t.WebGlConstants.STENCIL_VALUE_MASK.value],n.stencilMaskStates=[t.WebGlConstants.STENCIL_BACK_WRITEMASK.value,t.WebGlConstants.STENCIL_WRITEMASK.value],n=o=a([t.Decorators.state("StencilState")],n),e.StencilState=n;var o}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=o=function(n){function a(t,e){var r=n.call(this,t,e)||this;return r.captureFrameBuffer=t.context.createFramebuffer(),r.workingCanvas=document.createElement("canvas"),r.workingContext2D=r.workingCanvas.getContext("2d"),r.captureCanvas=document.createElement("canvas"),r.captureContext2D=r.captureCanvas.getContext("2d"),r.captureContext2D.imageSmoothingEnabled=!0,r.captureContext2D.mozImageSmoothingEnabled=!0,r.captureContext2D.oImageSmoothingEnabled=!0,r.captureContext2D.webkitImageSmoothingEnabled=!0,r.captureContext2D.msImageSmoothingEnabled=!0,r}return r(a,n),a.prototype.getConsumeCommands=function(){return["clear","clearBufferfv","clearBufferiv","clearBufferuiv","clearBufferfi"].concat(e.drawCommands)},a.prototype.readFromContext=function(){var e=this.context;this.currentState.Attachments=[];var n=this.context.getParameter(t.WebGlConstants.FRAMEBUFFER_BINDING.value);if(!n)return this.currentState.FrameBuffer=null,void this.getCapture(e,"Canvas COLOR_ATTACHMENT",0,0,e.drawingBufferWidth,e.drawingBufferHeight,0,0,t.WebGlConstants.UNSIGNED_BYTE.value);var r=e.getParameter(e.VIEWPORT),a=r[0],o=r[1],i=r[2],s=r[3];this.currentState.FrameBuffer=this.getSpectorData(n);var u=this.context.checkFramebufferStatus(t.WebGlConstants.FRAMEBUFFER.value);if(this.currentState.FrameBufferStatus=t.WebGlConstantsByValue[u].name,u===t.WebGlConstants.FRAMEBUFFER_COMPLETE.value)if(this.extensions[t.WebGlConstants.MAX_DRAW_BUFFERS_WEBGL.extensionName])for(var l=this.context.getParameter(t.WebGlConstants.MAX_DRAW_BUFFERS_WEBGL.value),c=0;c<l;c++)this.readFrameBufferAttachmentFromContext(this.context,n,t.WebGlConstantsByName["COLOR_ATTACHMENT"+c+"_WEBGL"],a,o,i,s);else if(this.contextVersion>1)for(var d=this.context,l=d.getParameter(t.WebGlConstants.MAX_DRAW_BUFFERS.value),c=0;c<l;c++)this.readFrameBufferAttachmentFromContext(this.context,n,t.WebGlConstantsByName["COLOR_ATTACHMENT"+c],a,o,i,s);else this.readFrameBufferAttachmentFromContext(this.context,n,t.WebGlConstantsByName.COLOR_ATTACHMENT0,a,o,i,s)},a.prototype.readFrameBufferAttachmentFromContext=function(e,n,r,a,o,i,s){var u=t.WebGlConstants.FRAMEBUFFER.value,l=this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(l!==t.WebGlConstants.NONE.value){var c=this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(c){var d=this.contextVersion>1?this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value):t.WebGlConstants.UNSIGNED_BYTE.value;if(l===t.WebGlConstants.RENDERBUFFER.value){if(e.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,this.captureFrameBuffer),e.framebufferRenderbuffer(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,t.WebGlConstants.RENDERBUFFER.value,c),c.__SPECTOR_Object_CustomData){var m=c.__SPECTOR_Object_CustomData;if(i=m.width,s=m.height,!t.ReadPixelsHelper.isSupportedCombination(d,t.WebGlConstants.RGBA.value,m.internalFormat))return}this.getCapture(e,r.name,a,o,i,s,0,0,d),e.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,n)}else if(l===t.WebGlConstants.TEXTURE.value){var p=0;this.contextVersion>1&&(p=this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value));var f=this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value),h=this.context.getFramebufferAttachmentParameter(u,r.value,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value),_=(h>0?t.WebGlConstantsByValue[h].name:t.WebGlConstants.TEXTURE_2D.name,d);if(c.__SPECTOR_Object_CustomData){var m=c.__SPECTOR_Object_CustomData;if(i=m.width,s=m.height,_=m.type,!t.ReadPixelsHelper.isSupportedCombination(m.type,m.format,m.internalFormat))return}e.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,this.captureFrameBuffer),0===p?e.framebufferTexture2D(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,h||t.WebGlConstants.TEXTURE_2D.value,c,f):e.framebufferTextureLayer(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,c,f,p);var E=this.context.checkFramebufferStatus(t.WebGlConstants.FRAMEBUFFER.value);E===t.WebGlConstants.FRAMEBUFFER_COMPLETE.value&&this.getCapture(e,r.name,a,o,i,s,h,p,_),e.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,n)}}}},a.prototype.getCapture=function(e,n,r,a,i,s,u,l,c){var d={attachmentName:n,src:null,textureCubeMapFace:u?t.WebGlConstantsByValue[u].name:null,textureLayer:l};try{var m=t.ReadPixelsHelper.readPixels(e,r,a,i,s,c);if(m){this.workingCanvas.width=i,this.workingCanvas.height=s;var p=this.workingContext2D.createImageData(i,s);p.data.set(m),this.workingContext2D.putImageData(p,0,0);var f=i/s;f<1?(this.captureCanvas.width=o.captureBaseSize*f,this.captureCanvas.height=o.captureBaseSize):f>1?(this.captureCanvas.width=o.captureBaseSize,this.captureCanvas.height=o.captureBaseSize/f):(this.captureCanvas.width=o.captureBaseSize,this.captureCanvas.height=o.captureBaseSize),this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,i,s,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",d.src=this.captureCanvas.toDataURL()}}catch(t){}this.currentState.Attachments.push(d)},a.prototype.analyse=function(t){},a}(e.BaseState);n.captureBaseSize=256,n=o=a([t.Decorators.state("VisualState")],n),e.VisualState=n;var o}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=o=function(n){function a(t,r){var a=n.call(this,t,r)||this;return a.drawCallTextureInputState=new e.DrawCallTextureInputState(t,r),a.drawCallUboInputState=new e.DrawCallUboInputState(t,r),a}return r(a,n),Object.defineProperty(a.prototype,"requireStartAndStopStates",{get:function(){return!1},enumerable:!0,configurable:!0}),a.prototype.getConsumeCommands=function(){return e.drawCommands},a.prototype.getChangeCommandsByState=function(){return{}},a.prototype.readFromContext=function(){var e=this.context.getParameter(t.WebGlConstants.CURRENT_PROGRAM.value);if(e){this.currentState.frameBuffer=this.readFrameBufferFromContext(),this.currentState.programStatus={program:this.getSpectorData(e),DELETE_STATUS:this.context.getProgramParameter(e,t.WebGlConstants.DELETE_STATUS.value),LINK_STATUS:this.context.getProgramParameter(e,t.WebGlConstants.LINK_STATUS.value),VALIDATE_STATUS:this.context.getProgramParameter(e,t.WebGlConstants.VALIDATE_STATUS.value)};var n=this.context.getAttachedShaders(e);this.currentState.shaders=[];for(var r=0,a=n;r<a.length;r++){var i=a[r],s=this.readShaderFromContext(i);this.currentState.shaders.push(s)}var u=this.context.getProgramParameter(e,t.WebGlConstants.ACTIVE_ATTRIBUTES.value);this.currentState.attributes=[];for(var l=0;l<u;l++){var c=this.readAttributeFromContext(e,l);this.currentState.attributes.push(c)}var d=this.context.getProgramParameter(e,t.WebGlConstants.ACTIVE_UNIFORMS.value);this.currentState.uniforms=[];for(var m=[],l=0;l<d;l++){m.push(l);var p=this.readUniformFromContext(e,l);this.currentState.uniforms.push(p)}if(this.contextVersion>1){this.readUniformsFromContextIntoState(e,m,this.currentState.uniforms);var f=this.context.getProgramParameter(e,t.WebGlConstants.ACTIVE_UNIFORM_BLOCKS.value);this.currentState.uniformBlocks=[];for(var l=0;l<f;l++){var h=this.readUniformBlockFromContext(e,l);this.currentState.uniformBlocks.push(h)}if(this.context.getParameter(t.WebGlConstants.TRANSFORM_FEEDBACK_ACTIVE.value)){var _=this.context.getProgramParameter(e,t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER_MODE.value);this.currentState.transformFeedbackMode=this.getWebGlConstant(_),this.currentState.transformFeedbacks=[];for(var E=this.context.getProgramParameter(e,t.WebGlConstants.TRANSFORM_FEEDBACK_VARYINGS.value),l=0;l<E;l++){var v=this.readTransformFeedbackFromContext(e,l);this.currentState.transformFeedbacks.push(v)}}}for(var l=0;l<m.length;l++){var p=this.currentState.uniforms[l];if(null!==p.value&&void 0!==p.value){var C=o.samplerTypes[p.typeValue];if(C)if(p.value.length){p.textures=[];for(var T=0;T<p.value.length;T++)p.textures.push(this.readTextureFromContext(p.value[T],C))}else p.texture=this.readTextureFromContext(p.value,C)}delete p.typeValue}}},a.prototype.readFrameBufferFromContext=function(){var e=this.context.getParameter(t.WebGlConstants.FRAMEBUFFER_BINDING.value);if(!e)return null;var n={};if(n.frameBuffer=this.getSpectorData(e),this.readFrameBufferAttachmentFromContext(t.WebGlConstants.DEPTH_ATTACHMENT.value)&&(n.depthAttachment=this.readFrameBufferAttachmentFromContext(t.WebGlConstants.DEPTH_ATTACHMENT.value)),this.readFrameBufferAttachmentFromContext(t.WebGlConstants.STENCIL_ATTACHMENT.value)&&(n.stencilAttachment=this.readFrameBufferAttachmentFromContext(t.WebGlConstants.STENCIL_ATTACHMENT.value)),this.extensions[t.WebGlConstants.MAX_DRAW_BUFFERS_WEBGL.extensionName]){n.colorAttachments=[];for(var r=this.context.getParameter(t.WebGlConstants.MAX_DRAW_BUFFERS_WEBGL.value),a=0;a<r;a++){var o=this.readFrameBufferAttachmentFromContext(t.WebGlConstantsByName["COLOR_ATTACHMENT"+a+"_WEBGL"].value);o&&n.colorAttachments.push(o)}}else if(this.contextVersion>1){var i=this.context;n.colorAttachments=[];for(var r=i.getParameter(t.WebGlConstants.MAX_DRAW_BUFFERS.value),a=0;a<r;a++){var o=this.readFrameBufferAttachmentFromContext(t.WebGlConstantsByName["COLOR_ATTACHMENT"+a].value);o&&n.colorAttachments.push(o)}}else{var o=this.readFrameBufferAttachmentFromContext(t.WebGlConstantsByName.COLOR_ATTACHMENT0.value);o&&(n.colorAttachments=[o])}return n},a.prototype.readFrameBufferAttachmentFromContext=function(e){var n=t.WebGlConstants.FRAMEBUFFER.value,r=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(r!==t.WebGlConstants.NONE.value){var a={},o=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(r===t.WebGlConstants.RENDERBUFFER.value){if(a.type="RENDERBUFFER",a.buffer=this.getSpectorData(o),o){var i=o.__SPECTOR_Object_CustomData;i&&(i.internalFormat&&(a.internalFormat=this.getWebGlConstant(i.internalFormat)),a.width=i.width,a.height=i.height)}}else if(r===t.WebGlConstants.TEXTURE.value){a.type="TEXTURE",a.texture=this.getSpectorData(o),a.textureLevel=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value);var s=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);a.textureCubeMapFace=this.getWebGlConstant(s),this.drawCallTextureInputState.appendTextureState(a,o)}return this.extensions.EXT_sRGB&&(a.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT.value))),this.contextVersion>1&&(a.alphaSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE.value),a.blueSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE.value),a.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING.value)),a.componentType=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value)),a.depthSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE.value),a.greenSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE.value),a.redSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_RED_SIZE.value),a.stencilSize=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value),r===t.WebGlConstants.TEXTURE.value&&(a.textureLayer=this.context.getFramebufferAttachmentParameter(n,e,t.WebGlConstants.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value))),a}},a.prototype.readShaderFromContext=function(e){return{shader:this.getSpectorData(e),COMPILE_STATUS:this.context.getShaderParameter(e,t.WebGlConstants.COMPILE_STATUS.value),DELETE_STATUS:this.context.getShaderParameter(e,t.WebGlConstants.DELETE_STATUS.value),SHADER_TYPE:this.getWebGlConstant(this.context.getShaderParameter(e,t.WebGlConstants.SHADER_TYPE.value)),source:this.context.getShaderSource(e)}},a.prototype.readAttributeFromContext=function(e,n){var r=this.context.getActiveAttrib(e,n),a=this.context.getAttribLocation(e,r.name);if(-1===a)return{name:r.name,size:r.size,type:this.getWebGlConstant(r.type),location:-1};var o=this.context.getVertexAttrib(a,t.WebGlConstants.CURRENT_VERTEX_ATTRIB.value),i=this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING.value),s={name:r.name,size:r.size,type:this.getWebGlConstant(r.type),location:a,offsetPointer:this.context.getVertexAttribOffset(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_POINTER.value),bufferBinding:this.getSpectorData(i),enabled:this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_ENABLED.value),arraySize:this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_SIZE.value),stride:this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_STRIDE.value),arrayType:this.getWebGlConstant(this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_TYPE.value)),normalized:this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_NORMALIZED.value),vertexAttrib:Array.prototype.slice.call(o)};return this.extensions[t.WebGlConstants.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.extensionName]?s.divisor=this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.value):this.contextVersion>1&&(s.integer=this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_INTEGER.value),s.divisor=this.context.getVertexAttrib(a,t.WebGlConstants.VERTEX_ATTRIB_ARRAY_DIVISOR.value)),this.appendBufferCustomData(s,i),s},a.prototype.readUniformFromContext=function(t,e){var n=this.context.getActiveUniform(t,e),r=this.context.getUniformLocation(t,n.name);if(r){var a=this.context.getUniform(t,r);a.length&&(a=Array.prototype.slice.call(a));var o={name:n.name,size:n.size,type:this.getWebGlConstant(n.type),typeValue:n.type,location:this.getSpectorData(r),value:a};return o}var o={name:n.name,size:n.size,type:this.getWebGlConstant(n.type),typeValue:n.type};return o},a.prototype.readTextureFromContext=function(e,n){var r=this.context.getParameter(t.WebGlConstants.ACTIVE_TEXTURE.value);this.context.activeTexture(t.WebGlConstants.TEXTURE0.value+e);var a={magFilter:this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_MAG_FILTER.value)),minFilter:this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_MIN_FILTER.value)),wrapS:this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_WRAP_S.value)),wrapT:this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_WRAP_T.value))};if(this.extensions[t.WebGlConstants.TEXTURE_MAX_ANISOTROPY_EXT.extensionName]&&(a.anisotropy=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_MAX_ANISOTROPY_EXT.value)),this.contextVersion>1){a.baseLevel=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_BASE_LEVEL.value),a.immutable=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_FORMAT.value),a.immutableLevels=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value),a.maxLevel=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value);var o=this.context.getParameter(t.WebGlConstants.SAMPLER_BINDING.value);if(o){a.sampler=this.getSpectorData(o);var i=this.context;a.samplerMaxLod=i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value),a.samplerMinLod=i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value),a.samplerCompareFunc=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_COMPARE_FUNC.value)),a.samplerCompareMode=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_COMPARE_MODE.value)),a.samplerWrapS=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_WRAP_S.value)),a.samplerWrapT=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_WRAP_T.value)),a.samplerWrapR=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value)),a.samplerMagFilter=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_MAG_FILTER.value)),a.samplerMinFilter=this.getWebGlConstant(i.getSamplerParameter(o,t.WebGlConstants.TEXTURE_MIN_FILTER.value))}else a.maxLod=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value),a.minLod=this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value),a.compareFunc=this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_COMPARE_FUNC.value)),a.compareMode=this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_COMPARE_MODE.value)),a.wrapR=this.getWebGlConstant(this.context.getTexParameter(n.value,t.WebGlConstants.TEXTURE_IMMUTABLE_LEVELS.value))}var s=this.getTextureStorage(n);return s&&this.drawCallTextureInputState.appendTextureState(a,s,n),this.context.activeTexture(r),a},a.prototype.getTextureStorage=function(e){return e===t.WebGlConstants.TEXTURE_2D?this.context.getParameter(t.WebGlConstants.TEXTURE_BINDING_2D.value):e===t.WebGlConstants.TEXTURE_CUBE_MAP?this.context.getParameter(t.WebGlConstants.TEXTURE_BINDING_CUBE_MAP.value):e===t.WebGlConstants.TEXTURE_3D?this.context.getParameter(t.WebGlConstants.TEXTURE_BINDING_3D.value):e===t.WebGlConstants.TEXTURE_2D_ARRAY?this.context.getParameter(t.WebGlConstants.TEXTURE_BINDING_2D_ARRAY.value):void 0},a.prototype.readUniformsFromContextIntoState=function(e,n,r){for(var a=this.context,o=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_TYPE.value),i=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_SIZE.value),s=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_BLOCK_INDEX.value),u=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_OFFSET.value),l=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_ARRAY_STRIDE.value),c=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_MATRIX_STRIDE.value),d=a.getActiveUniforms(e,n,t.WebGlConstants.UNIFORM_IS_ROW_MAJOR.value),m=0;m<n.length;m++){var p=r[m];p.type=this.getWebGlConstant(o[m]),p.size=i[m],p.blockIndice=s[m],p.blockIndice>-1&&(p.blockName=a.getActiveUniformBlockName(e,p.blockIndice)),p.offset=u[m],p.arrayStride=l[m],p.matrixStride=c[m],p.rowMajor=d[m],p.blockIndice>-1&&(p.value=this.drawCallUboInputState.getUboValue(s[m],p.offset,p.size,o[m]))}},a.prototype.readTransformFeedbackFromContext=function(e,n){var r=this.context,a=r.getTransformFeedbackVarying(e,n),o=r.getIndexedParameter(t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER_BINDING.value,n),i={name:a.name,size:a.size,type:this.getWebGlConstant(a.type),buffer:this.getSpectorData(o),bufferSize:r.getIndexedParameter(t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER_SIZE.value,n),bufferStart:r.getIndexedParameter(t.WebGlConstants.TRANSFORM_FEEDBACK_BUFFER_START.value,n)};return this.appendBufferCustomData(i,o),i},a.prototype.readUniformBlockFromContext=function(e,n){var r=this.context,a=r.getActiveUniformBlockParameter(e,n,t.WebGlConstants.UNIFORM_BLOCK_BINDING.value),o=r.getIndexedParameter(t.WebGlConstants.UNIFORM_BUFFER_BINDING.value,a),i={name:r.getActiveUniformBlockName(e,n),bindingPoint:a,size:r.getActiveUniformBlockParameter(e,n,t.WebGlConstants.UNIFORM_BLOCK_DATA_SIZE.value),activeUniformCount:r.getActiveUniformBlockParameter(e,n,t.WebGlConstants.UNIFORM_BLOCK_ACTIVE_UNIFORMS.value),vertex:r.getActiveUniformBlockParameter(e,n,t.WebGlConstants.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER.value),fragment:r.getActiveUniformBlockParameter(e,n,t.WebGlConstants.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER.value),buffer:this.getSpectorData(o)};return this.appendBufferCustomData(i,o),i},a.prototype.appendBufferCustomData=function(t,e){if(e){var n=e.__SPECTOR_Object_CustomData;n&&(n.usage&&(t.bufferUsage=this.getWebGlConstant(n.usage)),t.bufferLength=n.length,n.offset&&(t.bufferOffset=n.offset),n.sourceLength&&(t.bufferSourceLength=n.sourceLength))}},a.prototype.getWebGlConstant=function(e){var n=t.WebGlConstantsByValue[e];return n?n.name:e},a}(e.BaseState);n.samplerTypes=(i={},i[t.WebGlConstants.SAMPLER_2D.value]=t.WebGlConstants.TEXTURE_2D,i[t.WebGlConstants.SAMPLER_CUBE.value]=t.WebGlConstants.TEXTURE_CUBE_MAP,i[t.WebGlConstants.SAMPLER_3D.value]=t.WebGlConstants.TEXTURE_3D,i[t.WebGlConstants.SAMPLER_2D_SHADOW.value]=t.WebGlConstants.TEXTURE_2D,i[t.WebGlConstants.SAMPLER_2D_ARRAY.value]=t.WebGlConstants.TEXTURE_2D_ARRAY,i[t.WebGlConstants.SAMPLER_2D_ARRAY_SHADOW.value]=t.WebGlConstants.TEXTURE_2D_ARRAY,i[t.WebGlConstants.SAMPLER_CUBE_SHADOW.value]=t.WebGlConstants.TEXTURE_CUBE_MAP,i[t.WebGlConstants.INT_SAMPLER_2D.value]=t.WebGlConstants.TEXTURE_2D,i[t.WebGlConstants.INT_SAMPLER_3D.value]=t.WebGlConstants.TEXTURE_3D,i[t.WebGlConstants.INT_SAMPLER_CUBE.value]=t.WebGlConstants.TEXTURE_CUBE_MAP,i[t.WebGlConstants.INT_SAMPLER_2D_ARRAY.value]=t.WebGlConstants.TEXTURE_2D_ARRAY,i[t.WebGlConstants.UNSIGNED_INT_SAMPLER_2D.value]=t.WebGlConstants.TEXTURE_2D,i[t.WebGlConstants.UNSIGNED_INT_SAMPLER_3D.value]=t.WebGlConstants.TEXTURE_3D,i[t.WebGlConstants.UNSIGNED_INT_SAMPLER_CUBE.value]=t.WebGlConstants.TEXTURE_CUBE_MAP,i[t.WebGlConstants.UNSIGNED_INT_SAMPLER_2D_ARRAY.value]=t.WebGlConstants.TEXTURE_2D_ARRAY,i),n=o=a([t.Decorators.state("DrawCall")],n),e.DrawCallState=n;var o,i}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function n(t,e){this.logger=e,this.context=t.context,this.captureFrameBuffer=t.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this.captureContext2D.imageSmoothingEnabled=!0,this.captureContext2D.mozImageSmoothingEnabled=!0,this.captureContext2D.oImageSmoothingEnabled=!0,this.captureContext2D.webkitImageSmoothingEnabled=!0,this.captureContext2D.msImageSmoothingEnabled=!0}return n.prototype.appendTextureState=function(t,e,n){if(void 0===n&&(n=null),e){var r=e.__SPECTOR_Object_CustomData;r&&(r.type&&(t.type=this.getWebGlConstant(r.type)),r.format&&(t.format=this.getWebGlConstant(r.format)),r.internalFormat&&(t.internalFormat=this.getWebGlConstant(r.internalFormat)),t.width=r.width,t.height=r.height,r.depth&&(t.depth=r.depth),n&&(t.visual=this.getTextureVisualState(n,e,r)))}},n.prototype.getTextureVisualState=function(e,r,a){try{var o=this.context,i={};if(!t.ReadPixelsHelper.isSupportedCombination(a.type,a.format,a.internalFormat))return i;var s=this.context.getParameter(t.WebGlConstants.FRAMEBUFFER_BINDING.value);o.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,this.captureFrameBuffer);try{var u=a.width,l=a.height;if(e===t.WebGlConstants.TEXTURE_3D&&a.depth)for(var c=o,d=0;d<a.depth;d++)d>2&&d<a.depth-3||(c.framebufferTextureLayer(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,r,0,d),i["3D Layer "+d]=this.getCapture(o,0,0,u,l,a.type));else if(e===t.WebGlConstants.TEXTURE_2D_ARRAY&&a.depth)for(var c=o,d=0;d<a.depth;d++)d>2&&d<a.depth-3||(c.framebufferTextureLayer(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,r,0,d),i["Layer "+d]=this.getCapture(o,0,0,u,l,a.type));else if(e===t.WebGlConstants.TEXTURE_CUBE_MAP)for(var m=0,p=n.cubeMapFaces;m<p.length;m++){var f=p[m];o.framebufferTexture2D(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,f.value,r,0),i[f.name]=this.getCapture(o,0,0,u,l,a.type)}else o.framebufferTexture2D(t.WebGlConstants.FRAMEBUFFER.value,t.WebGlConstants.COLOR_ATTACHMENT0.value,t.WebGlConstants.TEXTURE_2D.value,r,0),i[t.WebGlConstants.TEXTURE_2D.name]=this.getCapture(o,0,0,u,l,a.type)}catch(t){}return o.bindFramebuffer(t.WebGlConstants.FRAMEBUFFER.value,s),i}catch(t){}},n.prototype.getCapture=function(n,r,a,o,i,s){try{if(this.context.checkFramebufferStatus(t.WebGlConstants.FRAMEBUFFER.value)!==t.WebGlConstants.FRAMEBUFFER_COMPLETE.value)return;s=s||t.WebGlConstants.UNSIGNED_BYTE.value;var u=t.ReadPixelsHelper.readPixels(n,r,a,o,i,s);if(!u)return;this.workingCanvas.width=o,this.workingCanvas.height=i;var l=this.workingContext2D.createImageData(o,i);l.data.set(u),this.workingContext2D.putImageData(l,0,0);var c=o/i;return c<1?(this.captureCanvas.width=e.VisualState.captureBaseSize*c,this.captureCanvas.height=e.VisualState.captureBaseSize):c>1?(this.captureCanvas.width=e.VisualState.captureBaseSize,this.captureCanvas.height=e.VisualState.captureBaseSize/c):(this.captureCanvas.width=e.VisualState.captureBaseSize,this.captureCanvas.height=e.VisualState.captureBaseSize),this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,o,i,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",this.captureCanvas.toDataURL()}catch(t){}},n.prototype.getWebGlConstant=function(e){var n=t.WebGlConstantsByValue[e];return n?n.name:e+""},n}();n.captureBaseSize=64,n.cubeMapFaces=[t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_X,t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_Y,t.WebGlConstants.TEXTURE_CUBE_MAP_POSITIVE_Z,t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_X,t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.WebGlConstants.TEXTURE_CUBE_MAP_NEGATIVE_Z],e.DrawCallTextureInputState=n}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e){this.logger=e,this.context=t.context}return e.prototype.getUboValue=function(n,r,a,o){var i=e.uboTypes[o];if(i){var s=new i.arrayBufferView(a*i.lengthMultiplier),u=this.context,l=u.getIndexedParameter(t.WebGlConstants.UNIFORM_BUFFER_BINDING.value,n);if(l){var c=u.getParameter(t.WebGlConstants.UNIFORM_BUFFER_BINDING.value);try{u.bindBuffer(t.WebGlConstants.UNIFORM_BUFFER.value,l),u.getBufferSubData(t.WebGlConstants.UNIFORM_BUFFER.value,r,s)}catch(t){return}c&&u.bindBuffer(t.WebGlConstants.UNIFORM_BUFFER.value,c)}return Array.prototype.slice.call(s)}},e}();n.uboTypes=(r={},r[t.WebGlConstants.BOOL.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},r[t.WebGlConstants.BOOL_VEC2.value]={arrayBufferView:Uint8Array,lengthMultiplier:2},r[t.WebGlConstants.BOOL_VEC3.value]={arrayBufferView:Uint8Array,lengthMultiplier:3},r[t.WebGlConstants.BOOL_VEC4.value]={arrayBufferView:Uint8Array,lengthMultiplier:4},r[t.WebGlConstants.INT.value]={arrayBufferView:Int32Array,lengthMultiplier:1},r[t.WebGlConstants.INT_VEC2.value]={arrayBufferView:Int32Array,lengthMultiplier:2},r[t.WebGlConstants.INT_VEC3.value]={arrayBufferView:Int32Array,lengthMultiplier:3},r[t.WebGlConstants.INT_VEC4.value]={arrayBufferView:Int32Array,lengthMultiplier:4},r[t.WebGlConstants.UNSIGNED_INT.value]={arrayBufferView:Uint32Array,lengthMultiplier:1},r[t.WebGlConstants.UNSIGNED_INT_VEC2.value]={arrayBufferView:Uint32Array,lengthMultiplier:2},r[t.WebGlConstants.UNSIGNED_INT_VEC3.value]={arrayBufferView:Uint32Array,lengthMultiplier:3},r[t.WebGlConstants.UNSIGNED_INT_VEC4.value]={arrayBufferView:Uint32Array,lengthMultiplier:4},r[t.WebGlConstants.FLOAT.value]={arrayBufferView:Float32Array,lengthMultiplier:1},r[t.WebGlConstants.FLOAT_VEC2.value]={arrayBufferView:Float32Array,lengthMultiplier:2},r[t.WebGlConstants.FLOAT_VEC3.value]={arrayBufferView:Float32Array,lengthMultiplier:3},r[t.WebGlConstants.FLOAT_VEC4.value]={arrayBufferView:Float32Array,lengthMultiplier:4},r[t.WebGlConstants.FLOAT_MAT2.value]={arrayBufferView:Float32Array,lengthMultiplier:4},r[t.WebGlConstants.FLOAT_MAT2x3.value]={arrayBufferView:Float32Array,lengthMultiplier:6},r[t.WebGlConstants.FLOAT_MAT2x4.value]={arrayBufferView:Float32Array,lengthMultiplier:8},r[t.WebGlConstants.FLOAT_MAT3.value]={arrayBufferView:Float32Array,lengthMultiplier:9},r[t.WebGlConstants.FLOAT_MAT3x2.value]={arrayBufferView:Float32Array,lengthMultiplier:6},r[t.WebGlConstants.FLOAT_MAT3x4.value]={arrayBufferView:Float32Array,lengthMultiplier:12},r[t.WebGlConstants.FLOAT_MAT4.value]={arrayBufferView:Float32Array,lengthMultiplier:16},r[t.WebGlConstants.FLOAT_MAT4x2.value]={arrayBufferView:Float32Array,lengthMultiplier:8},r[t.WebGlConstants.FLOAT_MAT4x3.value]={arrayBufferView:Float32Array,lengthMultiplier:12},r[t.WebGlConstants.SAMPLER_2D.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},r[t.WebGlConstants.SAMPLER_CUBE.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},r),e.DrawCallUboInputState=n;var r}(t.States||(t.States={}))}(n||(n={}));var n;!function(t){!function(t){function e(t){return t[a]}function n(t,e){e.displayText=r(e),t[a]=e}function r(t){return t?t.typeName+" - ID: "+t.id:"No tag available."}var a="__SPECTOR_Object_TAG";t.getWebGlObjectTag=e,t.attachWebGlObjectTag=n,t.stringifyWebGlObjectTag=r}(t.WebGlObjects||(t.WebGlObjects={}))}(n||(n={})),function(t){!function(t){var e=function(){function e(t,e){this.options=t,this.typeName=t.typeName,this.type=t.type,this.id=0}return e.prototype.tagWebGlObject=function(e){if(this.type){var n;if(!e)return n;if(n=t.getWebGlObjectTag(e))return n;if(e instanceof this.type){var r=this.getNextId();return n={typeName:this.typeName,id:r},t.attachWebGlObjectTag(e,n),n}return n}},e.prototype.getNextId=function(){return this.id++},e}();t.BaseWebGlObject=e}(t.WebGlObjects||(t.WebGlObjects={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);n=a([t.Decorators.webGlObject("WebGLBuffer")],n),e.Buffer=n;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);o=a([t.Decorators.webGlObject("WebGLFramebuffer")],o),e.FrameBuffer=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);i=a([t.Decorators.webGlObject("WebGLProgram")],i),e.Program=i;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);s=a([t.Decorators.webGlObject("WebGLQuery")],s),e.Query=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);u=a([t.Decorators.webGlObject("WebGLRenderbuffer")],u),e.Renderbuffer=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);l=a([t.Decorators.webGlObject("WebGLSampler")],l),e.Sampler=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);c=a([t.Decorators.webGlObject("WebGLShader")],c),e.Shader=c;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);d=a([t.Decorators.webGlObject("WebGLSync")],d),e.Sync=d;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);m=a([t.Decorators.webGlObject("WebGLTexture")],m),e.Texture=m;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);p=a([t.Decorators.webGlObject("WebGLTransformFeedback")],p),e.TransformFeedback=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);f=a([t.Decorators.webGlObject("WebGLUniformLocation")],f),e.UniformLocation=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(e.BaseWebGlObject);h=a([t.Decorators.webGlObject("WebGLVertexArrayObject")],h),e.VertexArrayObject=h}(t.WebGlObjects||(t.WebGlObjects={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e){this.options=t,this.logger=e,this.analyserName=t.analyserName}return t.prototype.appendAnalysis=function(t){t.analyses=t.analyses||[];var e=this.getAnalysis(t);t.analyses.push(e)},t.prototype.getAnalysis=function(t){var e={analyserName:this.analyserName};return this.appendToAnalysis(t,e),e},t}();t.BaseAnalyser=e}(t.Analysers||(t.Analysers={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function e(t,e){this.options=t,this.logger=e,this.analysers={},this.analyserConstructors={},this.contextInformation=t.contextInformation,this.initAvailableAnalysers(),this.initAnalysers()}return e.prototype.appendAnalyses=function(t){for(var e in this.analysers)if(this.analysers.hasOwnProperty(e)){var n=this.analysers[e];n.appendAnalysis(t)}},e.prototype.initAvailableAnalysers=function(){for(var e in this.options.analyserNamespace)if(this.options.analyserNamespace.hasOwnProperty(e)){var n=this.options.analyserNamespace[e],r=t.Decorators.getAnalyserName(n);r&&(this.analyserConstructors[r]=n)}},e.prototype.initAnalysers=function(){for(var e in this.analyserConstructors)if(this.analyserConstructors.hasOwnProperty(e)){var n=t.merge({analyserName:e},this.contextInformation),r=new this.analyserConstructors[e](n,this.logger);this.analysers[e]=r}},e}();e.CaptureAnalyser=n}(t.Analysers||(t.Analysers={}))}(n||(n={}));var n;!function(t){!function(e){var n=o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.appendToAnalysis=function(t,e){if(t.commands){e.total=t.commands.length,e.draw=0,e.clear=0;for(var n=0,r=t.commands;n<r.length;n++){var a=r[n];"clear"===a.name?e.clear++:o.drawCommands.indexOf(a.name)>-1&&e.draw++}}},e}(e.BaseAnalyser);n.drawCommands=["drawArrays","drawElements","drawArraysInstanced","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements"],n=o=a([t.Decorators.analyser("CommandsSummary")],n),e.CommandsSummaryAnalyser=n;var o}(t.Analysers||(t.Analysers={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.appendToAnalysis=function(t,e){if(t.commands){for(var n={},r=0,a=t.commands;r<a.length;r++){var o=a[r];n[o.name]=n[o.name]||0,n[o.name]++}var i=Object.keys(n).map(function(t){return[t,n[t]]});i.sort(function(t,e){var n=e[1]-t[1];return 0===n?t[0].localeCompare(e[0]):n});for(var s=0,u=i;s<u.length;s++){var l=u[s];e[l[0]]=l[1]}}},e}(e.BaseAnalyser);n=a([t.Decorators.analyser("Commands")],n),e.CommandsAnalyser=n}(t.Analysers||(t.Analysers={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.appendToAnalysis=function(t,e){if(t.commands){for(var n=0,r=0,a=t.commands;r<a.length;r++){var o=a[r];"drawArrays"===o.name&&o.commandArguments.length>=3?n+=o.commandArguments[2]:"drawArraysInstanced"===o.name&&o.commandArguments.length>=3?n+=o.commandArguments[2]:"drawElements"===o.name&&o.commandArguments.length>=2?n+=o.commandArguments[1]:"drawElementsInstanced"===o.name&&o.commandArguments.length>=2?n+=o.commandArguments[1]:"drawElementsInstancedANGLE"===o.name&&o.commandArguments.length>=2?n+=o.commandArguments[1]:"drawRangeElements"===o.name&&o.commandArguments.length>=4&&(n+=o.commandArguments[3])}e.totalDrawnPrimitives=n}},e}(e.BaseAnalyser);n=a([t.Decorators.analyser("Primitives")],n),e.PrimitivesAnalyser=n}(t.Analysers||(t.Analysers={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(){}return t.scrollIntoView=function(t){for(var e=t.getBoundingClientRect(),n=t.parentElement;n&&n.clientHeight===n.offsetHeight;)n=n.parentElement;var r=n.getBoundingClientRect();e.top<r.top?t.scrollIntoView(!0):e.bottom>r.bottom&&t.scrollIntoView(!1)},t}();t.ScrollIntoViewHelper=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e){this.eventConstructor=t,this.logger=e,this.dummyTextGeneratorElement=document.createElement("div")}return t.prototype.createFromHtml=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},t.prototype.htmlTemplate=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=t.raw,o="";return n.forEach(function(t,n){var r=a[n];Array.isArray(t)&&(t=t.join("")),r&&r.length>0&&"$"===r[r.length-1]?r=r.slice(0,-1):t=e.htmlEscape(t),o+=r,o+=t}),o+=a[a.length-1]},t.prototype.htmlEscape=function(t){return null===t||void 0===t||0===t.length?t:(this.dummyTextGeneratorElement.innerText=t,this.dummyTextGeneratorElement.innerHTML)},t}();t.BaseNoneGenericComponent=e;var n=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.events={},r}return r(e,t),e.prototype.addEventListener=function(t,e,n){return void 0===n&&(n=null),this.events[t]?this.events[t].add(e,n):-1},e.prototype.removeEventListener=function(t,e){this.events[t]&&this.events[t].remove(e)},e.prototype.renderElementFromTemplate=function(t,e,n){var r=this.createFromHtml(t);return this.bindCommands(r,e,n),r},e.prototype.bindCommands=function(t,e,n){t.getAttribute("commandname")&&this.bindCommand(t,e,n);for(var r=t.querySelectorAll("[commandName]"),a=0;a<r.length;a++){var o=r[a];this.bindCommand(o,e,n)}},e.prototype.bindCommand=function(t,e,n){var r=t.getAttribute("commandname"),a=t.getAttribute("commandeventbinding")||"";0===a.length&&(a="click");var o="true"===t.getAttribute("usecapture");this.createEvent(r),this.mapEventListener(t,a,r,e,n,o)},e.prototype.mapEventListener=function(t,e,n,r,a,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var s=this;i?t.addEventListener(e,function(t){t.stopPropagation(),t.preventDefault(),s.triggerEvent(n,this,r,a)},o):t.addEventListener(e,function(){s.triggerEvent(n,this,r,a)},o)},e.prototype.createEvent=function(t){if(!this.events[t]){var e=new this.eventConstructor;this.events[t]=e}return this.events[t]},e.prototype.triggerEvent=function(t,e,n,r){this.events[t].trigger({sender:e,stateId:r,state:n})},e}(e);t.BaseComponent=n}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e,n){this.logger=n,this.placeHolder=t,this.stateStore=e}return t.prototype.compose=function(t){var e=this.stateStore.getStatesToProcess(),n=!1;for(var r in e)if(e.hasOwnProperty(r)){var a=e[r],o=this.stateStore.getLastOperation(a),i=this.stateStore.getComponentInstance(a),s=this.stateStore.getData(a);i.render(s,a,o),n=!0}if(n){var u=this.stateStore.getLastOperation(t);this.composeInContainer(this.placeHolder,Number.MAX_VALUE,t,u)}},t.prototype.composeChildren=function(t,e){if(e)for(var n=this.stateStore.getChildrenIds(t),r=0,a=0;a<n.length;a++){var o=n[a],i=this.stateStore.getLastOperation(o);this.composeInContainer(e,r,o,i),50!==i&&r++}},t.prototype.composeInContainer=function(t,e,n,r){var a=this.stateStore.getComponentInstance(n),o=a.composeInContainer(t,e,r);this.composeChildren(n,o)},t}();t.Compositor=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(e,n){this.logger=n,this.stateStore=new t.StateStore(n),this.compositor=new t.Compositor(e,this.stateStore,n),this.willRender=!1,this.rootStateId=-1}return e.prototype.addRootState=function(e,n,r){void 0===r&&(r=!1);var a=new t.ComponentInstance(n,this.logger),o=this.stateStore.add(e,a);return this.rootStateId=o,this.setForRender(r),o},e.prototype.addChildState=function(t,e,n,r){void 0===r&&(r=!1);var a=this.insertChildState(t,e,Number.MAX_VALUE,n);return this.setForRender(r),a},e.prototype.insertChildState=function(e,n,r,a,o){void 0===o&&(o=!1);var i=new t.ComponentInstance(a,this.logger),s=this.stateStore.insertChildAt(e,r,n,i);return this.setForRender(o),s},e.prototype.updateState=function(t,e,n){void 0===n&&(n=!1),this.stateStore.update(t,e),this.setForRender(n)},e.prototype.removeState=function(t,e){void 0===e&&(e=!1),this.stateStore.remove(t),this.setForRender(e)},e.prototype.removeChildrenStates=function(t,e){void 0===e&&(e=!1),this.stateStore.removeChildren(t),this.setForRender(e)},e.prototype.getState=function(t){return this.stateStore.getData(t)},e.prototype.getGenericState=function(t){return this.getState(t)},e.prototype.getChildrenState=function(t){var e=this;return this.stateStore.getChildrenIds(t).map(function(n){return e.stateStore.getData(t)})},e.prototype.getChildrenGenericState=function(t){return this.getChildrenState(t)},e.prototype.hasChildren=function(t){return this.stateStore.hasChildren(t)},e.prototype.updateAllChildrenState=function(t,e){for(var n=this.stateStore.getChildrenIds(t),r=0,a=n;r<a.length;r++){var o=a[r],i=this.getGenericState(o);e(i),this.updateState(o,i)}},e.prototype.updateAllChildrenGenericState=function(t,e){this.updateAllChildrenState(t,e)},e.prototype.setForRender=function(t){this.willRender||(this.willRender=!0,t?this.compose():setTimeout(this.compose.bind(this),e.REFRESHRATEINMILLISECONDS))},e.prototype.compose=function(){this.willRender=!1,this.compositor.compose(this.rootStateId),this.stateStore.flushPendingOperations()},e}();e.REFRESHRATEINMILLISECONDS=100,t.MVX=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e){this.logger=e,this.component=t}return t.prototype.render=function(t,e,n){if(0!==n)return 50===n?void this.removeNode():void(this.domNode=this.component.render(t,e))},t.prototype.composeInContainer=function(t,e,n){if(50===n)return this.removeNode(),null;var r=this.cachedCurrentChildrenContainer;if(0===n)return r;var a=this.domNode,o=a.getAttribute("childrencontainer")?a:a.querySelector("[childrenContainer]");if(o&&r)for(var i=r.children;i.length>0;)o.appendChild(i[0]);if(this.cachedCurrentChildrenContainer=o,e>=t.children.length)t.appendChild(a),this.cachedCurrentDomNode&&40===n&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode));else{var s=t.children[e];t.insertBefore(a,s),40===n&&t.removeChild(s)}return this.cachedCurrentDomNode=this.domNode,o},t.prototype.removeNode=function(){this.domNode&&this.domNode.parentElement&&(this.domNode.remove?this.domNode.remove():this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)),this.cachedCurrentDomNode&&this.cachedCurrentDomNode.parentElement&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode))},t}();e.idGenerator=0,t.ComponentInstance=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t){this.logger=t,this.store={},this.idGenerator=0,this.pendingOperation={}}return t.prototype.getLastOperation=function(t){return this.store[t].lastOperation},t.prototype.getData=function(t){return this.store[t].data},t.prototype.getComponentInstance=function(t){return this.store[t].componentInstance},t.prototype.getParentId=function(t){return this.store[t].parent?this.store[t].parent.id:-1},t.prototype.getChildrenIds=function(t){for(var e=[],n=0,r=this.store[t].children;n<r.length;n++){var a=r[n];e.push(a.id)}return e},t.prototype.hasChildren=function(t){return this.store[t].children.length>0},t.prototype.add=function(t,e){var n=this.getNewId();return this.pendingOperation[n]=n,this.store[n]={data:t,id:n,parent:null,children:[],componentInstance:e,lastOperation:20},n},t.prototype.update=function(t,e){var n=this.store[t];this.pendingOperation[t]=t,this.store[t]={data:e,id:t,parent:n.parent,children:n.children,componentInstance:n.componentInstance,lastOperation:40}},t.prototype.addChild=function(t,e,n){var r=this.store[t],a=this.add(e,n);this.pendingOperation[a]=a;var o=this.store[a];return o.parent=r,r.children.push(o),a},t.prototype.insertChildAt=function(t,e,n,r){var a=this.store[t],o=this.add(n,r);this.pendingOperation[o]=o;var i=this.store[o];return i.parent=a,e>=a.children.length?a.children.push(i):e>=0?a.children.splice(e,0,i):a.children.unshift(i),o},t.prototype.removeChildById=function(t,e){for(var n=this.store[t],r=n.children.length-1;r>=0;r--)if(n.children[r].id===e){this.removeChildAt(t,r);break}},t.prototype.removeChildAt=function(t,e){var n,r=this.store[t];e>r.children.length-1?(n=r.children[r.children.length-1],r.children[r.children.length-1].parent=null,r.children.splice(r.children.length-1,1)):e>=0?(n=r.children[e],r.children[e].parent=null,r.children.splice(e,1)):(n=r.children[0],r.children[0].parent=null,r.children.splice(0,1)),n.parent=null,this.remove(n.id)},t.prototype.remove=function(t){var e=this.store[t];e.parent?(this.store[e.parent.id],this.removeChildById(e.parent.id,t)):(this.removeChildren(t),this.store[t].lastOperation=50,this.pendingOperation[t]=t)},t.prototype.removeChildren=function(t){for(var e=this.store[t];e.children.length;)this.remove(e.children[0].id)},t.prototype.getStatesToProcess=function(){return this.pendingOperation},t.prototype.flushPendingOperations=function(){for(var t in this.pendingOperation)this.pendingOperation[t]&&(50===this.store[t].lastOperation?delete this.store[t]:this.store[t].lastOperation=0);this.pendingOperation={}},t.prototype.getNewId=function(){return++this.idGenerator},t}();t.StateStore=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e,n){var r=(a=['<div>\n                <div childrenContainer="true" class="captureMenuComponent ','">\n                </div>\n                <div class="captureMenuLogComponent ','">\n                    <span class="','">',"<span>\n                </div>\n            </div>"],a.raw=['<div>\n                <div childrenContainer="true" class="captureMenuComponent ','">\n                </div>\n                <div class="captureMenuLogComponent ','">\n                    <span class="','">',"<span>\n                </div>\n            </div>"],this.htmlTemplate(a,e?"active":"",e.logVisible?"active":"",e.logLevel===t.LogLevel.error?"error":"",e.logText));return this.renderElementFromTemplate(r,e,n);var a},n}(e.BaseComponent);e.CaptureMenuComponent=n}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCaptureRequested=r.createEvent("onCaptureRequested"),r.onPlayRequested=r.createEvent("onPlayRequested"),r.onPauseRequested=r.createEvent("onPauseRequested"),r.onPlayNextFrameRequested=r.createEvent("onPlayNextFrameRequested"),r}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="captureMenuActionsComponent">\n                <div commandName="onCaptureRequested">\n                </div>\n                $',"\n            </div>"],r.raw=['\n            <div class="captureMenuActionsComponent">\n                <div commandName="onCaptureRequested">\n                </div>\n                $',"\n            </div>"],this.htmlTemplate(r,t?'<div commandName="onPauseRequested">\n                    </div>':'<div commandName="onPlayRequested">\n                    </div>\n                    <div commandName="onPlayNextFrameRequested">\n                    </div>'));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.CaptureMenuActionsComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCanvasSelection=r.createEvent("onCanvasSelection"),r}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="canvasListComponent">\n                <span commandName="onCanvasSelection">\n                    ','\n                </span>\n                <ul childrenContainer="true" style="','"></ul>\n            </div>'],r.raw=['\n            <div class="canvasListComponent">\n                <span commandName="onCanvasSelection">\n                    ','\n                </span>\n                <ul childrenContainer="true" style="','"></ul>\n            </div>'],this.htmlTemplate(r,t.currentCanvasInformation?t.currentCanvasInformation.id+" ("+t.currentCanvasInformation.width+"*"+t.currentCanvasInformation.height+")":"Choose Canvas...",t.showList?"display:block;visibility:visible":"display:none;visibility:hidden"));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.CanvasListComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCanvasSelected=r.createEvent("onCanvasSelected"),r}return r(e,t),e.prototype.render=function(t,e){var n=document.createElement("li"),r=document.createElement("span");return r.innerText="Id: "+t.id+" - Size: "+t.width+"*"+t.height,n.appendChild(r),this.mapEventListener(n,"click","onCanvasSelected",t,e),n},e}(t.BaseComponent);t.CanvasListItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=document.createElement("span");return n.className="fpsCounterComponent",n.innerText=t.toFixed(2)+" Fps",n},e}(t.BaseComponent);t.FpsCounterComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(e){var n=function(){function n(r,a){var o=this;this.options=r,this.logger=a,this.rootPlaceHolder=r.rootPlaceHolder||document.body,this.mvx=new e.MVX(this.rootPlaceHolder,a),this.isTrackingCanvas=!1,this.onCanvasSelected=new r.eventConstructor,this.onCaptureRequested=new r.eventConstructor,this.onPauseRequested=new r.eventConstructor,this.onPlayRequested=new r.eventConstructor,this.onPlayNextFrameRequested=new r.eventConstructor,this.captureMenuComponent=new e.CaptureMenuComponent(r.eventConstructor,a),this.canvasListComponent=new e.CanvasListComponent(r.eventConstructor,a),this.canvasListItemComponent=new e.CanvasListItemComponent(this.options.eventConstructor,this.logger),this.actionsComponent=new e.CaptureMenuActionsComponent(r.eventConstructor,a),this.fpsCounterComponent=new e.FpsCounterComponent(r.eventConstructor,a),this.rootStateId=this.mvx.addRootState({visible:!0,logLevel:t.LogLevel.info,logText:n.SelectCanvasHelpText,logVisible:!this.options.hideLog},this.captureMenuComponent),this.canvasListStateId=this.mvx.addChildState(this.rootStateId,{currentCanvasInformation:null,showList:!1},this.canvasListComponent),this.actionsStateId=this.mvx.addChildState(this.rootStateId,!0,this.actionsComponent),this.fpsStateId=this.mvx.addChildState(this.rootStateId,0,this.fpsCounterComponent),this.actionsComponent.onCaptureRequested.add(function(){var e=o.getSelectedCanvasInformation();e&&o.updateMenuStateLog(t.LogLevel.info,n.PleaseWaitHelpText,!0),setTimeout(function(){o.onCaptureRequested.trigger(e)},200)}),this.actionsComponent.onPauseRequested.add(function(){o.onPauseRequested.trigger(o.getSelectedCanvasInformation()),o.mvx.updateState(o.actionsStateId,!1)}),this.actionsComponent.onPlayRequested.add(function(){o.onPlayRequested.trigger(o.getSelectedCanvasInformation()),o.mvx.updateState(o.actionsStateId,!0)}),this.actionsComponent.onPlayNextFrameRequested.add(function(){o.onPlayNextFrameRequested.trigger(o.getSelectedCanvasInformation())}),this.canvasListComponent.onCanvasSelection.add(function(e){o.mvx.updateState(o.canvasListStateId,{currentCanvasInformation:null,showList:!e.state.showList}),o.updateMenuStateLog(t.LogLevel.info,n.SelectCanvasHelpText),o.onCanvasSelected.trigger(null),o.isTrackingCanvas&&o.trackPageCanvases(),e.state.showList?o.showMenuStateLog():o.hideMenuStateLog()}),this.canvasListItemComponent.onCanvasSelected.add(function(e){o.mvx.updateState(o.canvasListStateId,{currentCanvasInformation:e.state,showList:!1}),o.onCanvasSelected.trigger(e.state),o.updateMenuStateLog(t.LogLevel.info,n.ActionsHelpText),o.showMenuStateLog()})}return n.prototype.getSelectedCanvasInformation=function(){return this.mvx.getGenericState(this.canvasListStateId).currentCanvasInformation},n.prototype.trackPageCanvases=function(){if(this.isTrackingCanvas=!0,document.body){var t=document.body.querySelectorAll("canvas");this.updateCanvasesList(t)}},n.prototype.updateCanvasesList=function(t){this.updateCanvasesListInformationInternal(t,function(t){return{id:t.id,width:t.width,height:t.height,ref:t}})},n.prototype.updateCanvasesListInformation=function(t){this.updateCanvasesListInformationInternal(t,function(t){return{id:t.id,width:t.width,height:t.height,ref:t.ref}})},n.prototype.display=function(){this.updateMenuStateVisibility(!0)},n.prototype.hide=function(){this.updateMenuStateVisibility(!1)},n.prototype.captureComplete=function(e){e?this.updateMenuStateLog(t.LogLevel.error,e):this.updateMenuStateLog(t.LogLevel.info,n.ActionsHelpText)},n.prototype.setFPS=function(t){this.mvx.updateState(this.fpsStateId,t)},n.prototype.updateCanvasesListInformationInternal=function(e,r){this.mvx.removeChildrenStates(this.canvasListStateId);for(var a=[],o=0;o<e.length;o++){var i=e[o],s=r(i);a.push(s),this.mvx.addChildState(this.canvasListStateId,s,this.canvasListItemComponent)}var u=a.length,l=this.mvx.getGenericState(this.canvasListStateId),c=l.showList;if(!c)if(1===u){var d=a[0];this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:d,showList:c}),this.updateMenuStateLog(t.LogLevel.info,n.ActionsHelpText),this.onCanvasSelected.trigger(d)}else this.updateMenuStateLog(t.LogLevel.info,n.SelectCanvasHelpText),this.onCanvasSelected.trigger(null)},n.prototype.hideMenuStateLog=function(){var t=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:t.visible,logLevel:t.logLevel,logText:t.logText,logVisible:!1})},n.prototype.showMenuStateLog=function(){var t=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:t.visible,logLevel:t.logLevel,logText:t.logText,logVisible:!this.options.hideLog})},n.prototype.updateMenuStateLog=function(t,e,n){void 0===n&&(n=!1);var r=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:r.visible,logLevel:t,logText:e,logVisible:!this.options.hideLog},n)},n.prototype.updateMenuStateVisibility=function(t){var e=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:t,logLevel:e.logLevel,logText:e.logText,logVisible:e.logVisible})},n}();n.SelectCanvasHelpText="Please, select a canvas in the list above.",n.ActionsHelpText="Record with the red button, you can also pause or continue playing the current scene.",n.PleaseWaitHelpText="Capturing, be patient (this can take up to 3 minutes)...",e.CaptureMenu=n}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCaptureLoaded=new r.eventConstructor,r}return r(e,t),e.prototype.render=function(t,e){var n=this,r=(i=['\n            <div class="captureListComponent ','">\n                <div class="openCaptureFile">\n                    <Span>Drag files here to open a previously saved capture.</span>\n                </div>\n                <ul childrenContainer="true"></ul>\n            </div>'],i.raw=['\n            <div class="captureListComponent ','">\n                <div class="openCaptureFile">\n                    <Span>Drag files here to open a previously saved capture.</span>\n                </div>\n                <ul childrenContainer="true"></ul>\n            </div>'],this.htmlTemplate(i,t?"active":"")),a=this.renderElementFromTemplate(r,t,e),o=a.querySelector(".openCaptureFile");return o.addEventListener("dragenter",function(t){return n.drag(t),!1},!1),o.addEventListener("dragover",function(t){return n.drag(t),!1},!1),o.addEventListener("drop",function(t){n.drop(t)},!1),a;var i},e.prototype.drag=function(t){t.stopPropagation(),t.preventDefault()},e.prototype.drop=function(t){t.stopPropagation(),t.preventDefault(),this.loadFiles(t)},e.prototype.loadFiles=function(t){var e=this,n=null;if(t&&t.dataTransfer&&t.dataTransfer.files&&(n=t.dataTransfer.files),t&&t.target&&t.target.files&&(n=t.target.files),n&&n.length>0)for(var r=0;r<n.length;r++)!function(t){var r=n[t].name.toLowerCase(),a=r.split(".").pop();if(n[t].type,"json"===a){var o=n[t],i=new FileReader;i.onerror=function(t){e.logger.error("Error while reading file: "+o.name+t)},i.onload=function(t){try{var n=JSON.parse(t.target.result);e.onCaptureLoaded.trigger(n)}catch(t){e.logger.error("Error while reading file: "+o.name+t)}},i.readAsText(o)}}(r)},e}(t.BaseComponent);t.CaptureListComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCaptureSelected=r.createEvent("onCaptureSelected"),r.onSaveRequested=r.createEvent("onSaveRequested"),r}return r(e,t),e.prototype.render=function(t,e){var n=document.createElement("li");if(t.active&&(n.className="active"),t.capture.endState.VisualState.Attachments)for(var r=0,a=t.capture.endState.VisualState.Attachments;r<a.length;r++){var o=a[r],i=document.createElement("img");i.src=encodeURI(o.src),n.appendChild(i)}else{var s=document.createElement("span");s.innerText=t.capture.endState.VisualState.FrameBufferStatus,n.appendChild(s)}var u=document.createElement("span");u.innerText=new Date(t.capture.startTime).toTimeString().split(" ")[0],n.appendChild(u);var l=document.createElement("a");return l.href="#",l.className="captureListItemSave",this.mapEventListener(l,"click","onSaveRequested",t,e,!1,!0),u.appendChild(l),this.mapEventListener(n,"click","onCaptureSelected",t,e),n},e}(t.BaseComponent);t.CaptureListItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="visualStateListComponent">\n                <ul childrenContainer="true"></ul>\n            </div>'],r.raw=['\n            <div class="visualStateListComponent">\n                <ul childrenContainer="true"></ul>\n            </div>'],this.htmlTemplate(r));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.VisualStateListComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.onVisualStateSelected=r.createEvent("onVisualStateSelected"),r}return r(n,e),n.prototype.render=function(e,n){var r=document.createElement("li");if(e.active&&(r.className="active",setTimeout(function(){t.ScrollIntoViewHelper.scrollIntoView(r)},1)),e.VisualState.Attachments)for(var a=0,o=e.VisualState.Attachments;a<o.length;a++){var i=o[a];if(i.src){var s=document.createElement("img");if(s.src=encodeURI(i.src),r.appendChild(s),e.VisualState.Attachments.length>1){var u=document.createElement("span");u.innerText=i.attachmentName,r.appendChild(u)}if(i.textureLayer){var l=document.createElement("span");l.innerText="Layer: "+i.textureLayer,r.appendChild(l)}if(i.textureCubeMapFace){var c=document.createElement("span");c.innerText=i.textureCubeMapFace,r.appendChild(c)}}}else{var d=document.createElement("span");d.innerText=e.VisualState.FrameBufferStatus,r.appendChild(d)}var m=document.createElement("span");return m.innerText=e.VisualState.FrameBuffer?"Frame buffer: "+e.VisualState.FrameBuffer.__SPECTOR_Object_TAG.id:"Canvas frame buffer",r.appendChild(m),this.mapEventListener(r,"click","onVisualStateSelected",e,n),r},n}(t.BaseComponent);t.VisualStateListItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="commandListComponent">\n                <ul childrenContainer="true"></ul>\n            </div>'],r.raw=['\n            <div class="commandListComponent">\n                <ul childrenContainer="true"></ul>\n            </div>'],this.htmlTemplate(r));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.CommandListComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.onCommandSelected=r.createEvent("onCommandSelected"),r}return r(n,e),n.prototype.render=function(e,n){var r=document.createElement("li"),a="unknown";switch(e.capture.status){case 50:a="deprecated";break;case 10:a="unused";break;case 20:a="disabled";break;case 30:a="redundant";break;case 40:a="valid"}e.capture.VisualState&&(r.className=" drawCall"),e.active&&(r.className=" active",setTimeout(function(){t.ScrollIntoViewHelper.scrollIntoView(r)},1));var o=document.createElement("span"),i=e.capture.text;return i=i.replace(e.capture.name,'<span class=" '+a+' important">'+e.capture.name+"</span>"),o.innerHTML=i,r.appendChild(o),this.mapEventListener(r,"click","onCommandSelected",e,n),r},n}(t.BaseComponent);t.CommandListItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="commandDetailComponent" childrenContainer="true">\n            </div>'],r.raw=['\n            <div class="commandDetailComponent" childrenContainer="true">\n            </div>'],this.htmlTemplate(r));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.CommandDetailComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(){}return t.getMDNLink=function(e){var n=t.WebGL2Functions[e];if(n)return t.WebGL2RootUrl+n;var r=t.WebGLFunctions[e];return r?t.WebGLRootUrl+r:t.WebGLRootUrl+e},t}();e.WebGL2RootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/",e.WebGLRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/",e.WebGL2Functions={beginQuery:"beginQuery",beginTransformFeedback:"beginTransformFeedback",bindBufferBase:"bindBufferBase",bindBufferRange:"bindBufferRange",bindSampler:"bindSampler",bindTransformFeedback:"bindTransformFeedback",bindVertexArray:"bindVertexArray",blitFramebuffer:"blitFramebuffer",clearBufferfv:"clearBuffer",clearBufferiv:"clearBuffer",clearBufferuiv:"clearBuffer",clearBufferfi:"clearBuffer",clientWaitSync:"clientWaitSync",compressedTexImage3D:"compressedTexImage3D",compressedTexSubImage3D:"compressedTexSubImage3D",copyBufferSubData:"copyBufferSubData",copyTexSubImage3D:"copyTexSubImage3D",createQuery:"createQuery",createSampler:"createSampler",createTransformFeedback:"createTransformFeedback",createVertexArray:"createVertexArray",deleteQuery:"deleteQuery",deleteSampler:"deleteSampler",deleteSync:"deleteSync",deleteTransformFeedback:"deleteTransformFeedback",deleteVertexArray:"deleteVertexArray",drawArraysInstanced:"drawArraysInstanced",drawBuffers:"drawBuffers",drawElementsInstanced:"drawElementsInstanced",drawRangeElements:"drawRangeElements",endQuery:"endQuery",endTransformFeedback:"endTransformFeedback",fenceSync:"fenceSync",framebufferTextureLayer:"framebufferTextureLayer",getActiveUniformBlockName:"getActiveUniformBlockName",getActiveUniformBlockParameter:"getActiveUniformBlockParameter",getActiveUniforms:"getActiveUniforms",getBufferSubData:"getBufferSubData",getFragDataLocation:"getFragDataLocation",getIndexedParameter:"getIndexedParameter",getInternalformatParameter:"getInternalformatParameter",getQuery:"getQuery",getQueryParameter:"getQueryParameter",getSamplerParameter:"getSamplerParameter",getSyncParameter:"getSyncParameter",getTransformFeedbackVarying:"getTransformFeedbackVarying",getUniformBlockIndex:"getUniformBlockIndex",getUniformIndices:"getUniformIndices",invalidateFramebuffer:"invalidateFramebuffer",invalidateSubFramebuffer:"invalidateSubFramebuffer",isQuery:"isQuery",isSampler:"isSampler",isSync:"isSync",isTransformFeedback:"isTransformFeedback",isVertexArray:"isVertexArray",pauseTransformFeedback:"pauseTransformFeedback",readBuffer:"readBuffer",renderbufferStorageMultisample:"renderbufferStorageMultisample",resumeTransformFeedback:"resumeTransformFeedback",samplerParameteri:"samplerParameter",samplerParameterf:"samplerParameter",texImage3D:"texImage3D",texStorage2D:"texStorage2D",texStorage3D:"texStorage3D",texSubImage3D:"texSubImage3D",transformFeedbackVaryings:"transformFeedbackVaryings",uniform1ui:"uniform",uniform2ui:"uniform",uniform3ui:"uniform",uniform4ui:"uniform",uniform1fv:"uniform",uniform2fv:"uniform",uniform3fv:"uniform",uniform4fv:"uniform",uniform1iv:"uniform",uniform2iv:"uniform",uniform3iv:"uniform",uniform4iv:"uniform",uniform1uiv:"uniform",uniform2uiv:"uniform",uniform3uiv:"uniform",uniform4uiv:"uniform",uniformBlockBinding:"uniformBlockBinding",uniformMatrix2fv:"uniformMatrix",uniformMatrix3x2fv:"uniformMatrix",uniformMatrix4x2fv:"uniformMatrix",uniformMatrix2x3fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4x3fv:"uniformMatrix",uniformMatrix2x4fv:"uniformMatrix",uniformMatrix3x4fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttribDivisor:"vertexAttribDivisor",vertexAttribI4i:"vertexAttribI",vertexAttribI4ui:"vertexAttribI",vertexAttribI4iv:"vertexAttribI",vertexAttribI4uiv:"vertexAttribI",vertexAttribIPointer:"vertexAttribIPointer",waitSync:"waitSync"},e.WebGLFunctions={uniform1f:"uniform",uniform1fv:"uniform",uniform1i:"uniform",uniform1iv:"uniform",uniform2f:"uniform",uniform2fv:"uniform",uniform2i:"uniform",uniform2iv:"uniform",uniform3f:"uniform",uniform3i:"uniform",uniform3iv:"uniform",uniform4f:"uniform",uniform4fv:"uniform",uniform4i:"uniform",uniform4iv:"uniform",uniformMatrix2fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttrib1f:"vertexAttrib",vertexAttrib2f:"vertexAttrib",vertexAttrib3f:"vertexAttrib",vertexAttrib4f:"vertexAttrib",vertexAttrib1fv:"vertexAttrib",vertexAttrib2fv:"vertexAttrib",vertexAttrib3fv:"vertexAttrib",vertexAttrib4fv:"vertexAttrib"},t.MDNCommandLinkHelper=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="jsonContentComponent" childrenContainer="true">\n            </div>'],r.raw=['\n            <div class="jsonContentComponent" childrenContainer="true">\n            </div>'],this.htmlTemplate(r));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONContentComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div class="jsonGroupComponent">\n                <div class="jsonGroupComponentTitle">','</div>\n                <ul childrenContainer="true"></ul>\n            </div>'],r.raw=['\n            <div class="jsonGroupComponent">\n                <div class="jsonGroupComponentTitle">','</div>\n                <ul childrenContainer="true"></ul>\n            </div>'],this.htmlTemplate(r,t?t.replace(/([A-Z])/g," $1").trim():""));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONGroupComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <li><span class="jsonItemComponentKey">',': </span><span class="jsonItemComponentValue">',"</span><li>"],r.raw=['\n            <li><span class="jsonItemComponentKey">',': </span><span class="jsonItemComponentValue">',"</span><li>"],this.htmlTemplate(r,t.key,t.value));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="','"/><span>',"</span></div></li>"],r.raw=['\n            <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="','"/><span>',"</span></div></li>"],this.htmlTemplate(r,t.value,t.key));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONImageItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onOpenSourceClicked=r.createEvent("onOpenSourceClicked"),r}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <li commandName="onOpenSourceClicked"><span class="jsonItemComponentKey">',': </span><span class="jsonSourceItemComponentOpen">Click to Open.</span><li>'],r.raw=['\n            <li commandName="onOpenSourceClicked"><span class="jsonItemComponentKey">',': </span><span class="jsonSourceItemComponentOpen">Click to Open.</span><li>'],this.htmlTemplate(r,t.key));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONSourceItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <li><span class="jsonItemComponentKey">',': </span>\n                <span class="jsonItemComponentValue">',' (<a href="','" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)\n                </span>\n            <li>'],r.raw=['\n            <li><span class="jsonItemComponentKey">',': </span>\n                <span class="jsonItemComponentValue">',' (<a href="','" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)\n                </span>\n            <li>'],this.htmlTemplate(r,t.key,t.value,t.help));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.JSONHelpItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=document.createElement("div");if(n.className="jsonVisualStateItemComponent",t.Attachments)for(var r=0,a=t.Attachments;r<a.length;r++){var o=a[r];if(o.src){var i=document.createElement("img");if(i.src=encodeURI(o.src),n.appendChild(i),t.Attachments.length>1){var s=document.createElement("span");s.innerText=o.attachmentName,n.appendChild(s)}}}else{var u=document.createElement("span");u.innerText=t.FrameBufferStatus,n.appendChild(u)}var l=document.createElement("span");return l.innerText=t.FrameBuffer?t.FrameBuffer.__SPECTOR_Object_TAG.displayText:"Canvas frame buffer",n.appendChild(l),n},e}(t.BaseComponent);t.JSONVisualStateItemComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onCapturesClicked=r.createEvent("onCapturesClicked"),r.onCommandsClicked=r.createEvent("onCommandsClicked"),r.onInformationClicked=r.createEvent("onInformationClicked"),r.onInitStateClicked=r.createEvent("onInitStateClicked"),r.onEndStateClicked=r.createEvent("onEndStateClicked"),r.onCloseClicked=r.createEvent("onCloseClicked"),r.onSearchTextChanged=r.createEvent("onSearchTextChanged"),r.onSearchTextCleared=r.createEvent("onSearchTextCleared"),r}return r(e,t),e.prototype.render=function(t,e){var n=(i=['<ul class="resultViewMenuComponent">\n                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>\n\n                <li class="searchContainer">\n                    <input type="text" placeHolder="Search..." value="','" commandName="onSearchTextChanged" commandEventBinding="change">\n                    <a class="clearSearch" href="#" CommandName="onSearchTextCleared">X</a>\n                </li>\n                <li><a class="',' href="#" role="button" commandName="onCapturesClicked">Captures</a></li>\n                <li><a class="',' href="#" role="button" commandName="onInformationClicked">Information</a></li>\n                <li><a class="',' href="#" role="button" commandName="onInitStateClicked">Init State</a></li>\n                <li>\n                    <a class="',' href="#" role="button" commandName="onCommandsClicked">\n                        Commands','\n                    </a>\n                </li>\n                <li><a class="',' href="#" role="button" commandName="onEndStateClicked">End State</a></li>\n                <li><a href="#" role="button" commandName="onCloseClicked">Close</a></li>\n            </ul>'],i.raw=['<ul class="resultViewMenuComponent">\n                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>\n\n                <li class="searchContainer">\n                    <input type="text" placeHolder="Search..." value="','" commandName="onSearchTextChanged" commandEventBinding="change">\n                    <a class="clearSearch" href="#" CommandName="onSearchTextCleared">X</a>\n                </li>\n                <li><a class="',' href="#" role="button" commandName="onCapturesClicked">Captures</a></li>\n                <li><a class="',' href="#" role="button" commandName="onInformationClicked">Information</a></li>\n                <li><a class="',' href="#" role="button" commandName="onInitStateClicked">Init State</a></li>\n                <li>\n                    <a class="',' href="#" role="button" commandName="onCommandsClicked">\n                        Commands','\n                    </a>\n                </li>\n                <li><a class="',' href="#" role="button" commandName="onEndStateClicked">End State</a></li>\n                <li><a href="#" role="button" commandName="onCloseClicked">Close</a></li>\n            </ul>'],this.htmlTemplate(i,t.searchText,0===t.status?"active":"",10===t.status?"active":"",20===t.status?"active":"",40===t.status?"active":"",t.commandCount>0?" ("+t.commandCount+")":"",30===t.status?"active":"")),r=this.renderElementFromTemplate(n,t,e),a=r.querySelector(".resultViewMenuOpen"),o=r.querySelectorAll("li:not(.resultViewMenuSmall)");return a.addEventListener("click",function(t){if("true"===a.getAttribute("open")){a.setAttribute("open","false");for(var e=0;e<o.length;e++)o[e].style.display="none",o[e].style.visibility="hidden"}else{a.setAttribute("open","true");for(var e=0;e<o.length;e++)o[e].style.display="block",o[e].style.visibility="visible"}}),r;var i},e}(t.BaseComponent);t.ResultViewMenuComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.render=function(t,e){return this.renderElementFromTemplate('<div childrenContainer="true" class="resultViewContentComponent"></div>',t,e)},e}(t.BaseComponent);t.ResultViewContentComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n                <div childrenContainer="true" class="','"></div>'],r.raw=['\n                <div childrenContainer="true" class="','"></div>'],this.htmlTemplate(r,t?"informationColumnLeftComponent":"informationColumnRightComponent"));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.InformationColumnComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.render=function(t,e){var n=(r=['\n            <div childrenContainer="true" class="resultViewComponent ','">\n            </div>'],r.raw=['\n            <div childrenContainer="true" class="resultViewComponent ','">\n            </div>'],this.htmlTemplate(r,t?"active":""));return this.renderElementFromTemplate(n,t,e);var r},e}(t.BaseComponent);t.ResultViewComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){var n=t.source?this._indentIfdef(this._beautify(t.source)):"",r=(o=['\n            <div class="sourceCodeComponent">\n                <span class="sourceCodeComponentTitle">','</span>\n                <pre class="language-glsl"><code>',"</code></pre>\n            </div>"],o.raw=['\n            <div class="sourceCodeComponent">\n                <span class="sourceCodeComponentTitle">','</span>\n                <pre class="language-glsl"><code>',"</code></pre>\n            </div>"],this.htmlTemplate(o,t.description,n)),a=this.renderElementFromTemplate(r.replace(/<br>/g,"\n"),t,e);return Prism.highlightElement(a.querySelector("pre")),a;var o},e.prototype._getBracket=function(t,e){void 0===e&&(e=-1);for(var n=t.indexOf("{",e),r=t.substr(n+1).split(""),a=1,o=n,i=0,s=0,u=r;s<u.length;s++){var l=u[s];if(o++,"{"===l&&a++,"}"===l&&a--,0===a){i=o;break}}return n>-1&&0===i?this._getBracket(t,n+1):{firstIteration:n,lastIteration:i}},e.prototype._beautify=function(t,e){void 0===e&&(e=0),t=t.trim();for(var n=this._getBracket(t),r=n.firstIteration,a=n.lastIteration,o="",i=0;i<e;i++)o+="    ";if(-1===r)return t=o+t,t=t.replace(/;(?![^\(]*\))\s*/g,";\n"),t=t.replace(/\s*([*+-\/=><\s]*=)\s*/g,function(t){return" "+t.trim()+" "}),t=t.replace(/\s*(,)\s*/g,function(t){return t.trim()+" "}),t=t.replace(/\n[ \t]+/g,"\n"),t=t.replace(/\n/g,"\n"+o),t=t.replace(/\s+$/g,""),t=t.replace(/\n+$/g,"");var s=t.substr(0,r),u=t.substr(a+1,t.length),l=t.substr(r+1,a-r-1).trim(),c=this._beautify(l,e+1);return(this._beautify(s,e)+" {\n"+c+"\n"+o+"}\n"+this._beautify(u,e)).replace(/\s*\n+\s*;/g,";")},e.prototype._indentIfdef=function(t){for(var e=0,n=t.split("\n"),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf("#endif")&&e--,-1!==a.indexOf("#else")&&e--;for(var o="",i=0;i<e;i++)o+="    ";n[r]=o+a,-1===a.indexOf("#if")&&-1===a.indexOf("#else")||e++}return n.join("\n")},e}(t.BaseComponent);t.SourceCodeComponent=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(e,n){var r=this;this.options=e,this.logger=n,this.rootPlaceHolder=e.rootPlaceHolder||document.body,this.mvx=new t.MVX(this.rootPlaceHolder,n),this.searchText="",this.currentCommandId=-1,this.visible=!1,this.commandCount=0,this.commandListStateId=-1,this.commandDetailStateId=-1,this.currentCaptureStateId=-1,this.currentCommandStateId=-1,this.currentVisualStateId=-1,this.visualStateListStateId=-1,this.initVisualStateId=-1,this.captureListComponent=new t.CaptureListComponent(e.eventConstructor,n),this.captureListItemComponent=new t.CaptureListItemComponent(e.eventConstructor,n),this.visualStateListComponent=new t.VisualStateListComponent(e.eventConstructor,n),this.visualStateListItemComponent=new t.VisualStateListItemComponent(e.eventConstructor,n),this.commandListComponent=new t.CommandListComponent(e.eventConstructor,n),this.commandListItemComponent=new t.CommandListItemComponent(e.eventConstructor,n),this.commandDetailComponent=new t.CommandDetailComponent(e.eventConstructor,n),this.jsonContentComponent=new t.JSONContentComponent(e.eventConstructor,n),this.jsonGroupComponent=new t.JSONGroupComponent(e.eventConstructor,n),this.jsonItemComponent=new t.JSONItemComponent(e.eventConstructor,n),this.jsonImageItemComponent=new t.JSONImageItemComponent(e.eventConstructor,n),this.jsonSourceItemComponent=new t.JSONSourceItemComponent(e.eventConstructor,n),this.jsonHelpItemComponent=new t.JSONHelpItemComponent(e.eventConstructor,n),this.jsonVisualStateItemComponent=new t.JSONVisualStateItemComponent(e.eventConstructor,n),this.resultViewMenuComponent=new t.ResultViewMenuComponent(e.eventConstructor,n),this.resultViewContentComponent=new t.ResultViewContentComponent(e.eventConstructor,n),this.resultViewComponent=new t.ResultViewComponent(e.eventConstructor,n),this.sourceCodeComponent=new t.SourceCodeComponent(e.eventConstructor,n),this.informationColumnComponent=new t.InformationColumnComponent(e.eventConstructor,n),this.rootStateId=this.mvx.addRootState(null,this.resultViewComponent),this.menuStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewMenuComponent),this.contentStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewContentComponent),this.captureListStateId=this.mvx.addChildState(this.rootStateId,!1,this.captureListComponent),this.initMenuComponent(),this.captureListComponent.onCaptureLoaded.add(function(t){r.addCapture(t)}),this.captureListItemComponent.onCaptureSelected.add(function(t){r.selectCapture(t.stateId)}),this.captureListItemComponent.onSaveRequested.add(function(t){r.saveCapture(t.state.capture)}),this.commandListItemComponent.onCommandSelected.add(function(t){r.selectCommand(t.stateId)}),this.visualStateListItemComponent.onVisualStateSelected.add(function(t){r.selectVisualState(t.stateId)}),this.jsonSourceItemComponent.onOpenSourceClicked.add(function(t){r.mvx.removeChildrenStates(r.contentStateId),r.mvx.addChildState(r.contentStateId,{description:"WebGl Shader Source Code:",source:t.state.value},r.sourceCodeComponent)}),this.updateViewState()}return e.prototype.saveCapture=function(t){var e=document.createElement("a"),n=JSON.stringify(t,null,4),r=new Blob([n],{type:"octet/stream"}),a=window.URL.createObjectURL(r);e.setAttribute("href",a),e.setAttribute("download","capture "+new Date(t.startTime).toTimeString().split(" ")[0]+".json"),e.click()},e.prototype.selectCapture=function(t){this.currentCommandId=-1,this.currentCaptureStateId=t,this.displayCurrentCapture()},e.prototype.selectCommand=function(t){this.currentCommandStateId=t,this.currentVisualStateId=this.displayCurrentCommand(),this.displayCurrentVisualState()},e.prototype.selectVisualState=function(t){this.currentVisualStateId=t,this.currentCommandStateId=this.displayCurrentVisualState(),this.displayCurrentCommand()},e.prototype.display=function(){this.visible=!0,this.updateViewState()},e.prototype.hide=function(){this.visible=!1,this.updateViewState()},e.prototype.addCapture=function(t){var e=this.mvx.insertChildState(this.captureListStateId,{capture:t,active:!1},0,this.captureListItemComponent);return this.selectCapture(e),e},e.prototype.initMenuComponent=function(){var t=this;this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:0}),this.resultViewMenuComponent.onCloseClicked.add(function(e){t.hide()}),this.resultViewMenuComponent.onCapturesClicked.add(function(e){t.displayCaptures()}),this.resultViewMenuComponent.onCommandsClicked.add(function(e){t.displayCurrentCapture()}),this.resultViewMenuComponent.onInformationClicked.add(function(e){t.displayInformation()}),this.resultViewMenuComponent.onInitStateClicked.add(function(e){t.displayInitState()}),this.resultViewMenuComponent.onEndStateClicked.add(function(e){t.displayEndState()}),this.resultViewMenuComponent.onSearchTextChanged.add(function(e){t.search(e.sender.value)}),this.resultViewMenuComponent.onSearchTextCleared.add(function(e){t.mvx.updateState(t.menuStateId,{status:e.state.status,searchText:"",commandCount:e.state.commandCount}),t.search("")})},e.prototype.onCaptureRelatedAction=function(t){var e=this.mvx.getGenericState(this.currentCaptureStateId);return this.commandCount=e.capture.commands.length,this.mvx.removeChildrenStates(this.contentStateId),this.mvx.updateState(this.menuStateId,{status:t,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.getGenericState(this.captureListStateId)&&this.mvx.updateState(this.captureListStateId,!1),e.capture},e.prototype.displayCaptures=function(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.updateState(this.captureListStateId,!0)},e.prototype.displayInformation=function(){var t=this.onCaptureRelatedAction(10),e=this.mvx.addChildState(this.contentStateId,!0,this.informationColumnComponent),n=this.mvx.addChildState(this.contentStateId,!1,this.informationColumnComponent),r=this.mvx.addChildState(e,null,this.jsonContentComponent);this.displayJSONGroup(r,"Canvas",t.canvas),this.displayJSONGroup(r,"Context",t.context);for(var a=this.mvx.addChildState(n,null,this.jsonContentComponent),o=0,i=t.analyses;o<i.length;o++){var s=i[o];this.displayJSONGroup(a,s.analyserName,s)}this.displayJSONGroup(a,"Frame Memory Changes",t.frameMemory),this.displayJSONGroup(a,"Total Memory (seconds since application start: bytes)",t.memory)},e.prototype.displayJSON=function(t,e){e.VisualState&&this.mvx.addChildState(t,e.VisualState,this.jsonVisualStateItemComponent);for(var n in e)if("VisualState"!==n&&"analyserName"!==n){var r=e[n];if("source"===n)this.mvx.addChildState(t,{key:n,value:r},this.jsonSourceItemComponent);else if("visual"===n)for(var a in r)r.hasOwnProperty(a)&&r[a]&&this.mvx.addChildState(t,{key:a,value:r[a]},this.jsonImageItemComponent);else{var o=this.getJSONAsString(t,n,r);if(null===o||void 0===o)continue;if(this.toFilter(n)&&this.toFilter(r))continue;this.mvx.addChildState(t,{key:n,value:o},this.jsonItemComponent)}r&&r.__SPECTOR_Metadata&&this.displayJSONGroup(t,"Metadata",r.__SPECTOR_Metadata)}},e.prototype.getJSONAsString=function(t,e,n){if(null===n)return"null";if(void 0===n)return"undefined";if("number"==typeof n)return Math.floor(n)===n?n.toFixed(0):n.toFixed(4);if("string"==typeof n)return n;if("boolean"==typeof n)return n?"true":"false";if(0===n.length)return"Empty Array";if(n.length){for(var r=[],a=0;a<n.length;a++){var o=this.getJSONAsString(t,e+"("+a.toFixed(0)+")",n[a]);null!==o&&r.push(o)}return 0===r.length?null:r.join(", ")}return n.help?(this.mvx.addChildState(t,{key:e,value:n.name,help:n.help},this.jsonHelpItemComponent),null):n.__SPECTOR_Object_TAG?n.__SPECTOR_Object_TAG.displayText:n.displayText?n.displayText:("object"==typeof n&&this.displayJSONGroup(t,e,n),null)},e.prototype.displayJSONGroup=function(t,e,n){if(n){var r=this.mvx.addChildState(t,e,this.jsonGroupComponent);this.displayJSON(r,n),this.mvx.hasChildren(r)||this.mvx.removeState(r)}},e.prototype.displayInitState=function(){var t=this.onCaptureRelatedAction(20),e=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(e,t.initState)},e.prototype.displayEndState=function(){var t=this.onCaptureRelatedAction(30),e=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(e,t.endState)},e.prototype.displayCurrentCapture=function(){var t=this.onCaptureRelatedAction(40);this.mvx.updateAllChildrenGenericState(this.captureListStateId,function(t){return t.active=!1,t}),this.mvx.updateState(this.currentCaptureStateId,{capture:t,active:!0}),this.createVisualStates(t),this.commandListStateId=this.mvx.addChildState(this.contentStateId,null,this.commandListComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.createCommands(t)},e.prototype.displayCurrentCommand=function(){if(40!==this.mvx.getGenericState(this.menuStateId).status)return-1;var e=this.mvx.getGenericState(this.currentCommandStateId),n=e.capture;this.currentCommandId=n.id,this.mvx.updateAllChildrenGenericState(this.commandListStateId,function(t){return t.active=!1,t}),this.mvx.updateState(this.currentCommandStateId,{capture:n,visualStateId:e.visualStateId,active:!0}),this.mvx.removeChildrenStates(this.commandDetailStateId);var r=this.mvx.getGenericState(e.visualStateId);this.mvx.addChildState(this.commandDetailStateId,r.VisualState,this.jsonVisualStateItemComponent);var a="Unknown";switch(n.status){case 50:a="Deprecated";break;case 10:a="Unused";break;case 20:a="Disabled";break;case 30:a="Redundant";break;case 40:a="Valid"}var o=t.MDNCommandLinkHelper.getMDNLink(n.name);n.result?this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:o,name:n.name},duration:n.commandEndTime-n.startTime,result:n.result,status:a}):this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:o,name:n.name},duration:n.commandEndTime-n.startTime,status:a});for(var i in n)"VisualState"!==i&&"result"!==i&&"object"==typeof n[i]&&this.displayJSONGroup(this.commandDetailStateId,i,n[i]);return e.visualStateId},e.prototype.displayCurrentVisualState=function(){if(40!==this.mvx.getGenericState(this.menuStateId).status)return null;var t=this.mvx.getGenericState(this.currentVisualStateId);return t.commandStateId===Number.MIN_VALUE?this.displayInitState():t.commandStateId===Number.MAX_VALUE&&this.displayEndState(),this.mvx.updateAllChildrenGenericState(this.visualStateListStateId,function(t){return t.active=!1,t}),t.active=!0,this.mvx.updateState(this.currentVisualStateId,t),t.commandStateId},e.prototype.createVisualStates=function(t){this.visualStateListStateId=this.mvx.addChildState(this.contentStateId,null,this.visualStateListComponent),this.mvx.removeChildrenStates(this.visualStateListStateId),this.initVisualStateId=this.mvx.addChildState(this.visualStateListStateId,{VisualState:t.initState.VisualState,time:t.startTime,commandStateId:Number.MIN_VALUE,active:!1},this.visualStateListItemComponent)},e.prototype.createCommands=function(t){this.mvx.removeChildrenStates(this.commandListStateId);for(var e=this.initVisualStateId,n=!1,r=0;r<t.commands.length;r++){var a=t.commands[r];if(!this.toFilter(a.name)||a.id===this.currentCommandId){var o=this.mvx.addChildState(this.commandListStateId,{capture:a,active:!1},this.commandListItemComponent);if(a.VisualState)e=this.mvx.addChildState(this.visualStateListStateId,{VisualState:a.VisualState,time:a.endTime,commandStateId:o,active:!1},this.visualStateListItemComponent),n=!0;else if(!n){var i=this.mvx.getGenericState(this.initVisualStateId);i.commandStateId=o,this.mvx.updateState(this.initVisualStateId,i),n=!0}this.mvx.updateState(o,{capture:a,active:!1,visualStateId:e}),(-1===this.currentCommandId&&0===r||this.currentCommandId===a.id)&&(this.currentCommandStateId=o,this.displayCurrentCommand(),this.currentVisualStateId=e,this.displayCurrentVisualState())}}},e.prototype.updateViewState=function(){this.mvx.updateState(this.rootStateId,this.visible)},e.prototype.toFilter=function(t){return t+="",!!(this.searchText&&this.searchText.length>2&&-1===t.indexOf(this.searchText))},e.prototype.search=function(t){switch(this.searchText=t,this.mvx.getGenericState(this.menuStateId).status){case 0:case 40:this.displayCurrentCapture();break;case 30:this.displayEndState();break;case 10:this.displayInformation();break;case 20:this.displayInitState()}this.searchText=""},e}();t.ResultView=e}(t.EmbeddedFrontend||(t.EmbeddedFrontend={}))}(n||(n={}));var n;!function(t){!function(e){e.DefaultInjection={WebGlObjectNamespace:t.WebGlObjects,RecorderNamespace:t.Recorders,CommandNamespace:t.Commands,StateNamespace:t.States,AnalyserNamespace:t.Analysers,StackTraceCtor:t.Utils.StackTrace,LoggerCtor:t.Utils.ConsoleLogger,EventCtor:t.Utils.Event,TimeCtor:t.Utils.Time,CanvasSpyCtor:t.Spies.CanvasSpy,CommandSpyCtor:t.Spies.CommandSpy,ContextSpyCtor:t.Spies.ContextSpy,RecorderSpyCtor:t.Spies.RecorderSpy,StateSpyCtor:t.Spies.StateSpy,TimeSpyCtor:t.Spies.TimeSpy,WebGlObjectSpyCtor:t.Spies.WebGlObjectSpy,CaptureAnalyserCtor:t.Analysers.CaptureAnalyser,ExtensionsCtor:t.States.Information.Extensions,CapabilitiesCtor:t.States.Information.Capabilities,CompressedTexturesCtor:t.States.Information.CompressedTextures,DefaultCommandCtor:t.Commands.DefaultCommand,CaptureMenuConstructor:t.EmbeddedFrontend.CaptureMenu,ResultViewConstructor:t.EmbeddedFrontend.ResultView}}(t.ProvidedInjection||(t.ProvidedInjection={}))}(n||(n={}));var n;!function(t){var e=function(){function e(e){void 0===e&&(e={}),this.options=e,this.noFrameTimeout=-1,this.injection=e.injection||t.ProvidedInjection.DefaultInjection,this.captureNextFrames=0,this.retry=0,this.contexts=[],this.logger=new this.injection.LoggerCtor,this.time=new this.injection.TimeCtor,this.timeSpy=new this.injection.TimeSpyCtor({eventConstructor:this.injection.EventCtor,timeConstructor:this.injection.TimeCtor},this.logger),this.onCaptureStarted=new this.injection.EventCtor,this.onCapture=new this.injection.EventCtor,this.onError=new this.injection.EventCtor,this.timeSpy.onFrameStart.add(this.onFrameStart,this),this.timeSpy.onFrameEnd.add(this.onFrameEnd,this),this.timeSpy.onError.add(this.onErrorInternal,this)}return e.getFirstAvailable3dContext=function(t){return this.tryGetContextFromHelperField(t)||this.tryGetContextFromCanvas(t,"webgl")||this.tryGetContextFromCanvas(t,"experimental-webgl")||this.tryGetContextFromCanvas(t,"webgl2")||this.tryGetContextFromCanvas(t,"experimental-webgl2")},e.tryGetContextFromHelperField=function(t){var e=t.getAttribute("__spector_context_type");if(e)return this.tryGetContextFromCanvas(t,e)},e.tryGetContextFromCanvas=function(t,e){var n;try{n=t.getContext(e)}catch(t){}return n},e.prototype.displayUI=function(){var t=this;this.captureMenu||(this.getCaptureUI(),this.captureMenu.onPauseRequested.add(this.pause,this),this.captureMenu.onPlayRequested.add(this.play,this),this.captureMenu.onPlayNextFrameRequested.add(this.playNextFrame,this),this.captureMenu.onCaptureRequested.add(function(e){e&&t.captureCanvas(e.ref)},this),setInterval(function(){t.captureMenu.setFPS(t.getFps())},1e3),this.captureMenu.trackPageCanvases(),this.captureMenu.display()),this.resultView||(this.getResultUI(),this.onCapture.add(function(e){t.resultView.display(),t.resultView.addCapture(e)}))},e.prototype.getResultUI=function(){return this.resultView||(this.resultView=new this.injection.ResultViewConstructor({eventConstructor:this.injection.EventCtor},this.logger)),this.resultView},e.prototype.getCaptureUI=function(){return this.captureMenu||(this.captureMenu=new this.injection.CaptureMenuConstructor({eventConstructor:this.injection.EventCtor},this.logger)),this.captureMenu},e.prototype.pause=function(){this.timeSpy.changeSpeedRatio(0)},e.prototype.play=function(){this.timeSpy.changeSpeedRatio(1)},e.prototype.playNextFrame=function(){this.timeSpy.playNextFrame()},e.prototype.drawOnlyEveryXFrame=function(t){this.timeSpy.changeSpeedRatio(t)},e.prototype.getFps=function(){return this.timeSpy.getFps()},e.prototype.spyCanvases=function(){if(this.canvasSpy)return void this.onErrorInternal("Already spying canvas.");this.canvasSpy=new this.injection.CanvasSpyCtor({eventConstructor:this.injection.EventCtor},this.logger),this.canvasSpy.onContextRequested.add(this.spyContext,this)},e.prototype.spyCanvas=function(t){if(this.canvasSpy)return void this.onErrorInternal("Already spying canvas.");this.canvasSpy=new this.injection.CanvasSpyCtor({eventConstructor:this.injection.EventCtor,canvas:t},this.logger),this.canvasSpy.onContextRequested.add(this.spyContext,this)},e.prototype.getAvailableContexts=function(){return this.getAvailableContexts()},e.prototype.captureCanvas=function(t){var n=this.getAvailableContextSpyByCanvas(t);if(n)this.captureContextSpy(n);else{var r=e.getFirstAvailable3dContext(t);r?this.captureContext(r):this.logger.error("No webgl context available on the chosen canvas.")}},e.prototype.captureContext=function(t){var e=this.getAvailableContextSpyByCanvas(t.canvas);e||(e=t.getIndexedParameter?new this.injection.ContextSpyCtor({context:t,version:2,recordAlways:!1,injection:this.injection},this.time,this.logger):new this.injection.ContextSpyCtor({context:t,version:1,recordAlways:!1,injection:this.injection},this.time,this.logger),this.contexts.push({canvas:e.context.canvas,contextSpy:e})),e&&this.captureContextSpy(e)},e.prototype.captureContextSpy=function(t){var e=this;this.capturingContext?this.onErrorInternal("Already capturing a context."):(this.retry=0,this.capturingContext=t,this.capture(),this.noFrameTimeout=setTimeout(function(){e.capturingContext&&e.retry>1?e.onErrorInternal("No frames with gl commands detected. Try moving the camera."):e.onErrorInternal("No frames detected. Try moving the camera or implementing animationRequestFrame.")},1e4))},e.prototype.capture=function(t){void 0===t&&(t=1),this.captureNextFrames=t,this.playNextFrame()},e.prototype.spyContext=function(t){var e=this.getAvailableContextSpyByCanvas(t.context.canvas);e||(e=new this.injection.ContextSpyCtor({context:t.context,version:t.contextVersion,recordAlways:!0,injection:this.injection},this.time,this.logger),this.contexts.push({canvas:e.context.canvas,contextSpy:e})),e.spy()},e.prototype.getAvailableContextSpyByCanvas=function(t){for(var e=0,n=this.contexts;e<n.length;e++){var r=n[e];if(r.canvas===t)return r.contextSpy}},e.prototype.onFrameStart=function(){this.captureNextFrames>0?(this.capturingContext&&(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture()),this.captureNextFrames--):this.capturingContext=void 0},e.prototype.onFrameEnd=function(){if(this.capturingContext&&0===this.captureNextFrames){var t=this.capturingContext.stopCapture();t.commands.length>0?(this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),this.triggerCapture(t)):(this.retry++,this.capture(1))}},e.prototype.triggerCapture=function(t){this.captureMenu&&this.captureMenu.captureComplete(null),this.onCapture.trigger(t)},e.prototype.onErrorInternal=function(t){if(this.logger.error(t),this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),!this.capturingContext)throw t;this.capturingContext=void 0,this.captureNextFrames=0,this.retry=0,this.captureMenu&&this.captureMenu.captureComplete(t),this.onError.trigger(t)},e}();t.Spector=e}(n||(n={})),t.exports=n},function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.i,r,""]]),n(1)(r,{insertInto:"html"}),r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(7);"string"==typeof r&&(r=[[t.i,r,""]]),n(1)(r,{insertInto:"html"}),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(void 0),e.push([t.i,"code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}",""])},function(t,e,n){e=t.exports=n(0)(void 0),e.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);",""]),e.push([t.i,'.resultViewComponent{position:absolute;z-index:99999;border:1px solid #000;top:0;left:0;bottom:0;right:0;background-color:#222;opacity:1;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.resultViewComponent.active{visibility:visible;display:block}.resultViewComponent,.resultViewComponent:after,.resultViewComponent:before{box-sizing:content-box}.resultViewMenuComponent{font-family:Montserrat,sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;height:40px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.resultViewMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.resultViewMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.resultViewMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.resultViewMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.resultViewMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.resultViewMenuComponent a.clearSearch{display:inline-block;padding:0;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.resultViewMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}@media (max-width:1024px){.resultViewMenuComponent{padding:0;position:absolute;overflow-y:visible;top:0;left:0;right:0;bottom:0;z-index:999999;display:block}.resultViewMenuComponent .resultViewMenuOpen{display:block;visibility:visible}.resultViewMenuComponent li:not(.resultViewMenuSmall){display:none;visibility:hidden}.resultViewMenuComponent li{background:#2c2c2c}.resultViewMenuComponent li.searchContainer{background:#464646}.resultViewMenuComponent a.active{background:#2c2c2c}}.resultViewMenuComponent input{border:0;font-family:Montserrat,sans-serif;font-weight:300;padding:0 20px;background:#464646;color:#f9f9f9;height:100%;position:relative;top:-1px;box-sizing:border-box}.resultViewMenuComponent input:focus{border:0;outline:0 none}.resultViewMenuComponent .clearSearch{position:relative;background:transparent;display:inline;padding:0;margin-left:-30px;z-index:9000;color:#f0640d}.resultViewMenuComponent .clearSearch:hover{background:transparent!important}.resultViewMenuComponent ::-webkit-input-placeholder{color:#ccc}.resultViewMenuComponent :-moz-placeholder,.resultViewMenuComponent ::-moz-placeholder{color:#ccc}.resultViewMenuComponent :-ms-input-placeholder{color:#ccc}.resultViewContentComponent{position:absolute;top:40px;left:0;bottom:0;right:0}.informationColumnLeftComponent{left:0;right:50%}.informationColumnLeftComponent,.informationColumnRightComponent{position:absolute;top:0;bottom:0;overflow:auto;overflow-x:hidden;overflow-y:visible}.informationColumnRightComponent{left:50%;right:0}.captureListComponent{position:absolute;top:40px;left:0;bottom:0;right:0;background:#222;z-index:9000;display:none;visibility:hidden;overflow-y:visible;overflow-x:hidden}.captureListComponent.active{display:block;visibility:visible}.captureListComponent .openCaptureFile{border:1px dashed #f9f9f9;display:block;margin:5px;padding:5px;text-align:center;font-style:italic}.captureListComponent .openCaptureFile span{line-height:100%;vertical-align:middle}.captureListComponent ul{margin:0;padding:0;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-start}.captureListComponent ul li{margin:5px;border:1px solid #606060}.captureListComponent ul li img{width:295px;background-image:-moz-linear-gradient(45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(-45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(45deg,transparent 75%,#d9d9d9 75%),-moz-linear-gradient(-45deg,transparent 75%,#d9d9d9 75%);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 100%,100% 0,color-stop(.75,transparent),color-stop(.75,#c9c9c9)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.75,transparent),color-stop(.75,#c9c9c9));-moz-background-size:50px 50px;background-size:50px 50px;-webkit-background-size:50px 51px;background-position:0 0,25px 0,25px -25px,0 25px;display:block}.captureListComponent ul li span{display:block;text-align:center;border:5px solid #222}.captureListComponent ul li span .captureListItemSave{color:#f9f9f9;font-size:16px;margin-left:10px;position:relative;padding:3px 8px 3px 32px}.captureListComponent ul li span .captureListItemSave:after,.captureListComponent ul li span .captureListItemSave:before{box-sizing:border-box;content:"";position:absolute}.captureListComponent ul li span .captureListItemSave:before{background:#d9d9d9;border-color:#f9f9f9;border-style:solid;border-width:7px 2px 1px;border-radius:1px;height:16px;left:8px;top:5px;width:16px}.captureListComponent ul li span .captureListItemSave:after{background:#f9f9f9;border-color:#d9d9d9;border-style:solid;border-width:1px 1px 1px 4px;height:5px;left:13px;top:5px;width:7px}.captureListComponent ul li:hover{cursor:pointer}.captureListComponent ul li.active span{background:#f0640d;border:5px solid #f0640d}.captureListComponent ul li.active span .captureListItemSave:before{background:#f0640d}.captureListComponent ul li.active span .captureListItemSave:after{border-color:#f0640d}.visualStateListComponent{position:absolute;top:0;left:0;bottom:0;padding:5px;right:80%;overflow-y:visible;overflow-x:hidden}.visualStateListComponent ul{margin:0;padding:0;list-style:none}.visualStateListComponent ul li{margin:20px 15px 0;border:1px solid #606060}.visualStateListComponent ul li img{display:block;width:100%;margin:0;padding:0;box-sizing:border-box;background-image:-moz-linear-gradient(45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(-45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(45deg,transparent 75%,#d9d9d9 75%),-moz-linear-gradient(-45deg,transparent 75%,#d9d9d9 75%);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 100%,100% 0,color-stop(.75,transparent),color-stop(.75,#c9c9c9)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.75,transparent),color-stop(.75,#c9c9c9));-moz-background-size:50px 50px;background-size:50px 50px;-webkit-background-size:50px 51px;background-position:0 0,25px 0,25px -25px,0 25px}.visualStateListComponent ul li:hover{cursor:pointer}.visualStateListComponent ul li span{border:5px solid #222;background:#222;box-sizing:border-box;display:inline-block;width:100%;margin:0;padding:5px;word-wrap:break-word}.visualStateListComponent ul li.active{border:2px solid #f0640d}.commandListComponent{position:absolute;top:0;left:20%;right:40%;bottom:0;color:#d3d3d3}.commandListComponent ul{margin:0;padding:0;list-style:none;overflow-y:visible;overflow-x:hidden;height:100%}.commandListComponent ul li{padding:8px}.commandListComponent ul li span{word-wrap:break-word}.commandListComponent ul li:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.commandListComponent ul li:nth-child(2n){background:#2c2c2c}.commandListComponent ul li:nth-child(odd){background:#222}.commandListComponent ul li .important{font-weight:800}.commandListComponent ul li .important.deprecated{color:red}.commandListComponent ul li .important.unused{color:#ff0}.commandListComponent ul li .important.disabled{color:gray}.commandListComponent ul li .important.redundant{color:orange}.commandListComponent ul li .important.valid{color:#adff2f}.commandListComponent ul li.active{background:#f37628;color:#222}.commandListComponent ul li.drawCall{background:#5db0d7;color:#222}.commandDetailComponent{position:absolute;top:0;left:60%;right:0;bottom:0;overflow-y:visible;overflow-x:hidden}.jsonGroupComponent{display:block;margin:10px;padding:10px;padding-bottom:5px}.jsonGroupComponent .jsonGroupComponentTitle{display:block;font-size:16px;color:#5db0d7;border-bottom:1px solid #5db0d7;padding-bottom:5px;margin-bottom:5px;text-transform:capitalize}.jsonGroupComponent ul{margin:0;padding:0;list-style:none}.jsonGroupComponent ul li:nth-child(2n),.jsonGroupComponent ul li:nth-child(odd){background:#222}.jsonItemComponentKey{color:#f0640d}.jsonItemComponentValue{white-space:pre-wrap}.jsonItemImageHolder{width:50%;margin:auto}.jsonItemImageHolder .jsonItemImage{margin:5px;display:block;border:1px solid #606060;width:100%}.jsonItemImageHolder .jsonItemImage img{width:100%;display:block;margin:auto;max-width:256px;background-image:-moz-linear-gradient(45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(-45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(45deg,transparent 75%,#d9d9d9 75%),-moz-linear-gradient(-45deg,transparent 75%,#d9d9d9 75%);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 100%,100% 0,color-stop(.75,transparent),color-stop(.75,#c9c9c9)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.75,transparent),color-stop(.75,#c9c9c9));-moz-background-size:50px 50px;background-size:50px 50px;-webkit-background-size:50px 51px;background-position:0 0,25px 0,25px -25px,0 25px}.jsonItemImageHolder .jsonItemImage span{margin:0;padding:5px;word-wrap:break-word;display:inline-block;width:100%;box-sizing:border-box}[commandName=onOpenSourceClicked]:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.jsonVisualStateItemComponent{text-align:center;padding:10px}.jsonVisualStateItemComponent img{border:1px solid #606060;margin:5px;background-image:-moz-linear-gradient(45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(-45deg,#d9d9d9 25%,transparent 25%),-moz-linear-gradient(45deg,transparent 75%,#d9d9d9 75%),-moz-linear-gradient(-45deg,transparent 75%,#d9d9d9 75%);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.25,#c9c9c9),color-stop(.25,transparent)),-webkit-gradient(linear,0 100%,100% 0,color-stop(.75,transparent),color-stop(.75,#c9c9c9)),-webkit-gradient(linear,0 0,100% 100%,color-stop(.75,transparent),color-stop(.75,#c9c9c9));-moz-background-size:50px 50px;background-size:50px 50px;-webkit-background-size:50px 51px;background-position:0 0,25px 0,25px -25px,0 25px;width:100%;max-width:512px}.jsonVisualStateItemComponent span{display:block}.jsonContentComponent{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px;overflow-y:visible;overflow-x:hidden}.jsonItemComponentValue{word-break:break-all;white-space:normal}.jsonSourceItemComponentOpen{font-weight:700;color:#5db0d7;text-decoration:underline}.sourceCodeComponent{position:absolute;top:0;left:0;bottom:0;right:0;height:100%;background:#222;z-index:9000;overflow-x:visible;overflow:auto}.sourceCodeComponent .sourceCodeComponentTitle{font-size:16px;font-weight:800;line-height:50px;color:#f0640d;padding:1em;margin:.5em 0}.captureMenuComponent{position:absolute;padding:7px;z-index:99999;top:10px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuComponent.active{visibility:visible;display:block}.captureMenuComponent,.captureMenuComponent:after,.captureMenuComponent:before{box-sizing:content-box}.captureMenuLogComponent{position:absolute;padding:7px;z-index:80000;top:66px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuLogComponent.active{visibility:visible;display:block}.captureMenuLogComponent,.captureMenuLogComponent:after,.captureMenuLogComponent:before{box-sizing:content-box}.captureMenuLogComponent span.error{color:red}.canvasListComponent{float:left;width:50%;height:100%}.canvasListComponent [commandName=onCanvasSelection]{vertical-align:center;line-height:40px;white-space:nowrap;text-overflow:ellipsis;width:190px;display:inline-block;overflow:hidden;margin:0 5px}.canvasListComponent [commandName=onCanvasSelection]:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.canvasListComponent ul{margin:0;padding:7px;list-style:none;position:absolute;top:54px;left:-2px;width:400px;border:2px solid #222;background-color:#2c2c2c}.canvasListComponent ul li{margin:5px}.canvasListComponent ul li:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.captureMenuActionsComponent{float:left;width:30%;height:100%;margin-top:7.5px}.captureMenuActionsComponent div{float:left}.captureMenuActionsComponent [commandName=onCaptureRequested]{border-radius:50%;background:#2c2c2c;border:2px solid red;width:21px;height:21px}.captureMenuActionsComponent [commandName=onCaptureRequested]:hover{background:red;cursor:pointer;transition:background .3s;-webkit-transition:background .3s;-moz-transition:background .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested],.captureMenuActionsComponent [commandName=onPlayRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before,.captureMenuActionsComponent [commandName=onPlayRequested]:before{content:"";position:absolute;display:inline-block;margin-top:6px;margin-left:4px;width:7px;height:7px;border-top:2px solid #f9f9f9;border-right:2px solid #f9f9f9;background-color:#f9f9f9;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:-20}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:after,.captureMenuActionsComponent [commandName=onPlayRequested]:after{content:"";position:absolute;display:inline-block;width:8px;height:20px;background-color:#2c2c2c;z-index:-10}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:hover,.captureMenuActionsComponent [commandName=onPlayRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPauseRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPauseRequested]:before{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:12px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:after{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:7px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{background-color:#2c2c2c}.fpsCounterComponent{float:left;width:20%;vertical-align:center;line-height:40px;white-space:nowrap}',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return t;var o;return o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n(5),n(4),n(2),t.exports=n(3)}])})},function(t,e,n){"use strict";function r(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer}Object.defineProperty(e,"__esModule",{value:!0}),e.stringToBuffer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),a=n(14),o=function(){function t(t){this.data=t,this._dataView=new DataView(t),this._signature=new Uint8Array(t,0,a.SIGN_OFFSET),this._read()}return Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageData",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageColorComponents",{get:function(){switch(this._header.colorType){case a.ColorType.Greyscale:case a.ColorType.Indexed:return 1;case a.ColorType.TruecolorAlpha:return 4;case a.ColorType.Truecolor:return 3;default:throw"unsupported color format"}},enumerable:!0,configurable:!0}),t.prototype.createPixelData=function(){for(var t=this._header.width,e=this._header.height,n=this.imageColorComponents,r=t*e*n,a=this.imageData.decompress(),o=new Uint8Array(r),i=0;i<e;i++)for(var s=0;s<t;s++)for(var u=i*(t*n+1)+s*n+1,l=i*(t*n)+s*n,c=0;c<n;c++)o[l+c]=a[u+c];return o},t.prototype.createPaletteDataRgba=function(t){for(var e=new Uint8Array(4*t),n=this._palette.data,r=0;r<this._palette.colors;r++){var a=3*r,o=4*r;e[o]=n[a],e[o+1]=n[a+1],e[o+2]=n[a+2],e[o+3]=255}return e},t.prototype._read=function(){this._checkSignature(),this._readChunks()},t.prototype._checkSignature=function(){var t=this._signature;if(137!=t[0]||80!=t[1]||78!=t[2]||71!=t[3]||13!=t[4]||10!=t[5]||26!=t[6]||10!=t[7])throw"Data is not a png"},t.prototype._readChunks=function(){for(var t=a.SIGN_OFFSET;t<this._dataView.byteLength;){var e=this._readChunk(t);if(e){switch(e.type){case a.ChunkType.Header:this._header=e;break;case a.ChunkType.Palette:this._palette=e;break;case a.ChunkType.Data:this._data=e}t+=e.totalLength}}},t.prototype._readChunk=function(t){var e=this._dataView,n=e.getUint32(t,!1);t+=4;var o=e.getUint32(t,!1);t+=4;var i=new Uint8Array(this._dataView.buffer,t,n);t+=n;var s=e.getUint32(t,!1);switch(console.log(this._chunkToString(o)),o){case a.ChunkType.Header:return new r.HeaderChunk(n,o,i,s);case a.ChunkType.Palette:return new r.PaletteChunk(n,o,i,s);case a.ChunkType.Data:return new r.DataChunk(n,o,i,s);case a.ChunkType.End:return new r.EndChunk(n,o,i,s);default:return new r.PngChunk(n,o,i,s)}},t.prototype._chunkToString=function(t){return[t>>>24&255,t>>>16&255,t>>>8&255,255&t].reduce(function(t,e,n){return t+String.fromCharCode(e)},"")},t}();e.PngReader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(14),o=n(41),i=function(){function t(t,e,n,r){if(this._length=t,this._type=e,this._data=n,this._crc=r,t!=n.length)throw"Invalid length"}return Object.defineProperty(t.prototype,"dataLength",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalLength",{get:function(){return this._length+a.LENGTH_LENGTH+a.TYPE_LENGTH+a.CRC_LENGTH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crc",{get:function(){return this._crc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t}();e.PngChunk=i;var s=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;if(n!=a.ChunkType.Header)throw"Not a header chunk";return i._read(),i}return r.__extends(e,t),e.prototype._read=function(){var t=new DataView(this._data.buffer,this._data.byteOffset,this._data.byteLength);this._width=t.getUint32(0,!1),this._height=t.getUint32(4,!1),this._bitDepth=t.getUint8(8),this._colorType=t.getUint8(9),this._compressionMethod=t.getUint8(10),this._filterMethod=t.getUint8(11),this._interlace=1==t.getUint8(12)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitDepth",{get:function(){return this._bitDepth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorType",{get:function(){return this._colorType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interlaced",{get:function(){return this._interlace},enumerable:!0,configurable:!0}),e}(i);e.HeaderChunk=s;var u=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;if(n!=a.ChunkType.Palette)throw"Not a palette chunk";if(r.length%3!=0)throw"Invalid palette length";return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._data.length/3},enumerable:!0,configurable:!0}),e.prototype.getColor=function(t){return new Uint8Array(this._data.buffer,this._data.byteOffset+3*t,3)},e}(i);e.PaletteChunk=u;var l=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;if(n!=a.ChunkType.Data)throw"Not a data chunk";return i}return r.__extends(e,t),e.prototype.decompress=function(){return o.inflate(this._data)},e}(i);e.DataChunk=l;var c=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;if(n!=a.ChunkType.End)throw"Not a end chunk";return i}return r.__extends(e,t),e}(i);e.EndChunk=c},function(t,e,n){"use strict";var r=n(3).assign,a=n(42),o=n(45),i=n(19),s={};r(s,a,o,i),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({level:f,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==p)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var a;if(a="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===m.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,a))!==p)throw new Error(c[n]);this._dict_set=!0}}function a(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,a(t,e)}function i(t,e){return e=e||{},e.gzip=!0,a(t,e)}var s=n(43),u=n(3),l=n(17),c=n(9),d=n(18),m=Object.prototype.toString,p=0,f=-1,h=0,_=8;r.prototype.push=function(t,e){var n,r,a=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=l.string2buf(t):"[object ArrayBuffer]"===m.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new u.Buf8(o),a.next_out=0,a.avail_out=o),1!==(n=s.deflate(a,r))&&n!==p)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(a.output,a.next_out))):this.onData(u.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p):2!==r||(this.onEnd(p),a.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=a,e.deflateRaw=o,e.gzip=i},function(t,e,n){"use strict";function r(t,e){return t.msg=B[e],e}function a(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(M.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){N._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,i(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var a=t.avail_in;return a>r&&(a=r),0===a?0:(t.avail_in-=a,M.arraySet(e,t.input,t.next_in,a,n),1===t.state.wrap?t.adler=O(t.adler,e,a,n):2===t.state.wrap&&(t.adler=D(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)}function d(t,e){var n,r,a=t.max_chain_length,o=t.strstart,i=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,c=t.w_mask,d=t.prev,m=t.strstart+ut,p=l[o+i-1],f=l[o+i];t.prev_length>=t.good_match&&(a>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,l[n+i]===f&&l[n+i-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<m);if(r=ut-(m-o),o=m-ut,r>i){if(t.match_start=e,i=r,r>=s)break;p=l[o+i-1],f=l[o+i]}}}while((e=d[e&c])>u&&0!=--a);return i<=t.lookahead?i:t.lookahead}function m(t){var e,n,r,a,o,i=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-lt)){M.arraySet(t.window,t.window,i,i,0),t.match_start-=i,t.strstart-=i,t.block_start-=i,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=i?r-i:0}while(--n);n=i,e=n;do{r=t.prev[--e],t.prev[e]=r>=i?r-i:0}while(--n);a+=i}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function p(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(m(t),0===t.lookahead&&e===w)return vt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return vt;if(t.strstart-t.block_start>=t.w_size-lt&&(s(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===G?(s(t,!0),0===t.strm.avail_out?Tt:bt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),vt)}function f(t,e){for(var n,r;;){if(t.lookahead<lt){if(m(t),t.lookahead<lt&&e===w)return vt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=d(t,n)),t.match_length>=st)if(r=N._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return vt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===G?(s(t,!0),0===t.strm.avail_out?Tt:bt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?vt:Ct}function h(t,e){for(var n,r,a;;){if(t.lookahead<lt){if(m(t),t.lookahead<lt&&e===w)return vt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===j||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-st,r=N._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return vt}else if(t.match_available){if(r=N._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return vt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=N._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===G?(s(t,!0),0===t.strm.avail_out?Tt:bt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?vt:Ct}function _(t,e){for(var n,r,a,o,i=t.window;;){if(t.lookahead<=ut){if(m(t),t.lookahead<=ut&&e===w)return vt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(a=t.strstart-1,(r=i[a])===i[++a]&&r===i[++a]&&r===i[++a])){o=t.strstart+ut;do{}while(r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&r===i[++a]&&a<o);t.match_length=ut-(o-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=N._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===G?(s(t,!0),0===t.strm.avail_out?Tt:bt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?vt:Ct}function E(t,e){for(var n;;){if(0===t.lookahead&&(m(t),0===t.lookahead)){if(e===w)return vt;break}if(t.match_length=0,n=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===G?(s(t,!0),0===t.strm.avail_out?Tt:bt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?vt:Ct}function v(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function C(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=x[t.level].max_lazy,t.good_match=x[t.level].good_length,t.nice_match=x[t.level].nice_length,t.max_chain_length=x[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*ot),this.dyn_dtree=new M.Buf16(2*(2*rt+1)),this.bl_tree=new M.Buf16(2*(2*at+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(it+1),this.heap=new M.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Q,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?dt:_t,t.adler=2===e.wrap?0:1,e.last_flush=w,N._tr_init(e),W):r(t,X)}function g(t){var e=b(t);return e===W&&C(t.state),e}function A(t,e){return t&&t.state?2!==t.state.wrap?X:(t.state.gzhead=e,W):X}function S(t,e,n,a,o,i){if(!t)return X;var s=1;if(e===z&&(e=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),o<1||o>$||n!==J||a<8||a>15||e<0||e>9||i<0||i>K)return r(t,X);8===a&&(a=9);var u=new T;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=a,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+st-1)/st),u.window=new M.Buf8(2*u.w_size),u.head=new M.Buf16(u.hash_size),u.prev=new M.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new M.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=i,u.method=n,g(t)}function R(t,e){return S(t,e,J,tt,et,q)}function y(t,e){var n,s,c,d;if(!t||!t.state||e>U||e<0)return t?r(t,X):X;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===Et&&e!==G)return r(t,0===t.avail_out?H:X);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===dt)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=D(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=mt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,gt),s.status=_t);else{var m=J+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,m|=p<<6,0!==s.strstart&&(m|=ct),m+=31-m%31,s.status=_t,l(s,m),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(s.status===mt)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),i(t),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),i(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=ft)}else s.status=ft;if(s.status===ft)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),i(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=D(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=ht)}else s.status=ht;if(s.status===ht&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&i(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=_t)):s.status=_t),0!==s.pending){if(i(t),0===t.avail_out)return s.last_flush=-1,W}else if(0===t.avail_in&&a(e)<=a(n)&&e!==G)return r(t,H);if(s.status===Et&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==w&&s.status!==Et){var f=s.strategy===Y?E(s,e):s.strategy===Z?_(s,e):x[s.level].func(s,e);if(f!==Tt&&f!==bt||(s.status=Et),f===vt||f===Tt)return 0===t.avail_out&&(s.last_flush=-1),W;if(f===Ct&&(e===P?N._tr_align(s):e!==U&&(N._tr_stored_block(s,0,0,!1),e===L&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),i(t),0===t.avail_out))return s.last_flush=-1,W}return e!==G?W:s.wrap<=0?k:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),i(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?W:k)}function I(t){var e;return t&&t.state?(e=t.state.status)!==dt&&e!==mt&&e!==pt&&e!==ft&&e!==ht&&e!==_t&&e!==Et?r(t,X):(t.state=null,e===_t?r(t,V):W):X}function F(t,e){var n,r,a,i,s,u,l,c,d=e.length;if(!t||!t.state)return X;if(n=t.state,2===(i=n.wrap)||1===i&&n.status!==dt||n.lookahead)return X;for(1===i&&(t.adler=O(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===i&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new M.Buf8(n.w_size),M.arraySet(c,e,d-n.w_size,n.w_size,0),e=c,d=n.w_size),s=t.avail_in,u=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,m(n);n.lookahead>=st;){r=n.strstart,a=n.lookahead-(st-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+st-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=st-1,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=st-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=s,n.wrap=i,W}var x,M=n(3),N=n(44),O=n(15),D=n(16),B=n(9),w=0,P=1,L=3,G=4,U=5,W=0,k=1,X=-2,V=-3,H=-5,z=-1,j=1,Y=2,Z=3,K=4,q=0,Q=2,J=8,$=9,tt=15,et=8,nt=286,rt=30,at=19,ot=2*nt+1,it=15,st=3,ut=258,lt=ut+st+1,ct=32,dt=42,mt=69,pt=73,ft=91,ht=103,_t=113,Et=666,vt=1,Ct=2,Tt=3,bt=4,gt=3;x=[new v(0,0,0,0,p),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,h),new v(8,16,32,32,h),new v(8,16,128,128,h),new v(8,32,128,256,h),new v(32,128,258,1024,h),new v(32,258,258,4096,h)],e.deflateInit=R,e.deflateInit2=S,e.deflateReset=g,e.deflateResetKeep=b,e.deflateSetHeader=A,e.deflate=y,e.deflateEnd=I,e.deflateSetDictionary=F,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function i(t){return t<256?ot[t]:ot[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function d(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function m(t,e){var n,r,a,o,i,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,m=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,h=0;for(o=0;o<=j;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<z;n++)r=t.heap[n],o=u[2*u[2*r+1]+1]+1,o>f&&(o=f,h++),u[2*r+1]=o,r>l||(t.bl_count[o]++,i=0,r>=p&&(i=m[r-p]),s=u[2*r],t.opt_len+=s*(o+i),d&&(t.static_len+=s*(c[2*r+1]+i)));if(0!==h){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,h-=2}while(h>0);for(o=f;0!==o;o--)for(r=t.bl_count[o];0!==r;)(a=t.heap[--n])>l||(u[2*a+1]!==o&&(t.opt_len+=(o-u[2*a+1])*u[2*a],u[2*a+1]=o),r--)}}function p(t,e,n){var r,a,o=new Array(j+1),i=0;for(r=1;r<=j;r++)o[r]=i=i+n[r-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=c(o[s]++,s))}}function f(){var t,e,n,r,o,i=new Array(j+1);for(n=0,r=0;r<W-1;r++)for(st[r]=n,t=0;t<1<<$[r];t++)it[n++]=r;for(it[n-1]=r,o=0,r=0;r<16;r++)for(ut[r]=o,t=0;t<1<<tt[r];t++)ot[o++]=r;for(o>>=7;r<V;r++)for(ut[r]=o<<7,t=0;t<1<<tt[r]-7;t++)ot[256+o++]=r;for(e=0;e<=j;e++)i[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,i[8]++;for(;t<=255;)rt[2*t+1]=9,t++,i[9]++;for(;t<=279;)rt[2*t+1]=7,t++,i[7]++;for(;t<=287;)rt[2*t+1]=8,t++,i[8]++;for(p(rt,X+1,i),t=0;t<V;t++)at[2*t+1]=5,at[2*t]=c(t,5);lt=new a(rt,$,k+1,X,j),ct=new a(at,tt,0,V,j),dt=new a(new Array(0),et,0,H,Z)}function h(t){var e;for(e=0;e<X;e++)t.dyn_ltree[2*e]=0;for(e=0;e<V;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function E(t,e,n,r){_(t),r&&(s(t,n),s(t,~n)),O.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function v(t,e,n,r){var a=2*e,o=2*n;return t[a]<t[o]||t[a]===t[o]&&r[e]<=r[n]}function C(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&v(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!v(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function T(t,e,n){var r,a,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],a=t.pending_buf[t.l_buf+c],c++,0===r?l(t,a,e):(o=it[a],l(t,o+k+1,e),s=$[o],0!==s&&(a-=st[o],u(t,a,s)),r--,o=i(r),l(t,o,n),0!==(s=tt[o])&&(r-=ut[o],u(t,r,s)))}while(c<t.last_lit);l(t,K,e)}function b(t,e){var n,r,a,o=e.dyn_tree,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=z,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=l<2?++l:0,o[2*a]=1,t.depth[a]=0,t.opt_len--,s&&(t.static_len-=i[2*a+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)C(t,o,n);a=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*a]=o[2*n]+o[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=a,t.heap[1]=a++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],m(t,e),p(o,l,t.bl_count)}function g(t,e,n){var r,a,o=-1,i=e[1],s=0,u=7,l=4;for(0===i&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=i,i=e[2*(r+1)+1],++s<u&&a===i||(s<l?t.bl_tree[2*a]+=s:0!==a?(a!==o&&t.bl_tree[2*a]++,t.bl_tree[2*q]++):s<=10?t.bl_tree[2*Q]++:t.bl_tree[2*J]++,s=0,o=a,0===i?(u=138,l=3):a===i?(u=6,l=3):(u=7,l=4))}function A(t,e,n){var r,a,o=-1,i=e[1],s=0,c=7,d=4;for(0===i&&(c=138,d=3),r=0;r<=n;r++)if(a=i,i=e[2*(r+1)+1],!(++s<c&&a===i)){if(s<d)do{l(t,a,t.bl_tree)}while(0!=--s);else 0!==a?(a!==o&&(l(t,a,t.bl_tree),s--),l(t,q,t.bl_tree),u(t,s-3,2)):s<=10?(l(t,Q,t.bl_tree),u(t,s-3,3)):(l(t,J,t.bl_tree),u(t,s-11,7));s=0,o=a,0===i?(c=138,d=3):a===i?(c=6,d=3):(c=7,d=4)}}function S(t){var e;for(g(t,t.dyn_ltree,t.l_desc.max_code),g(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function R(t,e,n,r){var a;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),a=0;a<r;a++)u(t,t.bl_tree[2*nt[a]+1],3);A(t,t.dyn_ltree,e-1),A(t,t.dyn_dtree,n-1)}function y(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return B;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return w;for(e=32;e<k;e++)if(0!==t.dyn_ltree[2*e])return w;return B}function I(t){mt||(f(),mt=!0),t.l_desc=new o(t.dyn_ltree,lt),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,h(t)}function F(t,e,n,r){u(t,(L<<1)+(r?1:0),3),E(t,e,n,!0)}function x(t){u(t,G<<1,3),l(t,K,rt),d(t)}function M(t,e,n,r){var a,o,i=0;t.level>0?(t.strm.data_type===P&&(t.strm.data_type=y(t)),b(t,t.l_desc),b(t,t.d_desc),i=S(t),a=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=a&&(a=o)):a=o=n+5,n+4<=a&&-1!==e?F(t,e,n,r):t.strategy===D||o===a?(u(t,(G<<1)+(r?1:0),3),T(t,rt,at)):(u(t,(U<<1)+(r?1:0),3),R(t,t.l_desc.max_code+1,t.d_desc.max_code+1,i+1),T(t,t.dyn_ltree,t.dyn_dtree)),h(t),r&&_(t)}function N(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(it[n]+k+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1}var O=n(3),D=4,B=0,w=1,P=2,L=0,G=1,U=2,W=29,k=256,X=k+1+W,V=30,H=19,z=2*X+1,j=15,Y=16,Z=7,K=256,q=16,Q=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(X+2));r(rt);var at=new Array(2*V);r(at);var ot=new Array(512);r(ot);var it=new Array(256);r(it);var st=new Array(W);r(st);var ut=new Array(V);r(ut);var lt,ct,dt,mt=!1;e._tr_init=I,e._tr_stored_block=F,e._tr_flush_block=M,e._tr_tally=N,e._tr_align=x},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function a(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,a(t,e)}var i=n(46),s=n(3),u=n(17),l=n(19),c=n(9),d=n(18),m=n(49),p=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,a,o,c,d,m=this.strm,f=this.options.chunkSize,h=this.options.dictionary,_=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?m.input=u.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?m.input=new Uint8Array(t):m.input=t,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new s.Buf8(f),m.next_out=0,m.avail_out=f),n=i.inflate(m,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&h&&(d="string"==typeof h?u.string2buf(h):"[object ArrayBuffer]"===p.call(h)?new Uint8Array(h):h,n=i.inflateSetDictionary(this.strm,d)),n===l.Z_BUF_ERROR&&!0===_&&(n=l.Z_OK,_=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&n!==l.Z_STREAM_END&&(0!==m.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(a=u.utf8border(m.output,m.next_out),o=m.next_out-a,c=u.buf2string(m.output,a),m.next_out=o,m.avail_out=f-o,o&&s.arraySet(m.output,m.output,a,o,0),this.onData(c)):this.onData(s.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(_=!0)}while((m.avail_in>0||0===m.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),m.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=a,e.inflateRaw=o,e.ungzip=a},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=L,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(ht),e.distcode=e.distdyn=new v.Buf32(_t),e.sane=1,e.back=-1,x):O}function i(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):O}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?O:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,i(t))):O}function u(t,e){var n,r;return t?(r=new a,t.state=r,r.window=null,n=s(t,e),n!==x&&(t.state=null),n):O}function l(t){return u(t,Et)}function c(t){if(vt){var e;for(_=new v.Buf32(512),E=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(g(S,t.lens,0,288,_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;g(R,t.lens,0,32,E,0,t.work,{bits:5}),vt=!1}t.lencode=_,t.lenbits=9,t.distcode=E,t.distbits=5}function d(t,e,n,r){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),r>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),v.arraySet(o.window,e,n-r,a,o.wnext),r-=a,r?(v.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function m(t,e){var n,a,o,i,s,u,l,m,p,f,h,_,E,ht,_t,Et,vt,Ct,Tt,bt,gt,At,St,Rt,yt=0,It=new v.Buf8(4),Ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return O;n=t.state,n.mode===Z&&(n.mode=K),s=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,a=t.input,u=t.avail_in,m=n.hold,p=n.bits,f=u,h=l,At=x;t:for(;;)switch(n.mode){case L:if(0===n.wrap){n.mode=K;break}for(;p<16;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(2&n.wrap&&35615===m){n.check=0,It[0]=255&m,It[1]=m>>>8&255,n.check=T(n.check,It,2,0),m=0,p=0,n.mode=G;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=mt;break}if((15&m)!==P){t.msg="unknown compression method",n.mode=mt;break}if(m>>>=4,p-=4,gt=8+(15&m),0===n.wbits)n.wbits=gt;else if(gt>n.wbits){t.msg="invalid window size",n.mode=mt;break}n.dmax=1<<gt,t.adler=n.check=1,n.mode=512&m?j:Z,m=0,p=0;break;case G:for(;p<16;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(n.flags=m,(255&n.flags)!==P){t.msg="unknown compression method",n.mode=mt;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=mt;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(It[0]=255&m,It[1]=m>>>8&255,n.check=T(n.check,It,2,0)),m=0,p=0,n.mode=U;case U:for(;p<32;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.head&&(n.head.time=m),512&n.flags&&(It[0]=255&m,It[1]=m>>>8&255,It[2]=m>>>16&255,It[3]=m>>>24&255,n.check=T(n.check,It,4,0)),m=0,p=0,n.mode=W;case W:for(;p<16;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(It[0]=255&m,It[1]=m>>>8&255,n.check=T(n.check,It,2,0)),m=0,p=0,n.mode=k;case k:if(1024&n.flags){for(;p<16;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(It[0]=255&m,It[1]=m>>>8&255,n.check=T(n.check,It,2,0)),m=0,p=0}else n.head&&(n.head.extra=null);n.mode=X;case X:if(1024&n.flags&&(_=n.length,_>u&&(_=u),_&&(n.head&&(gt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,a,i,_,gt)),512&n.flags&&(n.check=T(n.check,a,_,i)),u-=_,i+=_,n.length-=_),n.length))break t;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===u)break t;_=0;do{gt=a[i+_++],n.head&&gt&&n.length<65536&&(n.head.name+=String.fromCharCode(gt))}while(gt&&_<u);if(512&n.flags&&(n.check=T(n.check,a,_,i)),u-=_,i+=_,gt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break t;_=0;do{gt=a[i+_++],n.head&&gt&&n.length<65536&&(n.head.comment+=String.fromCharCode(gt))}while(gt&&_<u);if(512&n.flags&&(n.check=T(n.check,a,_,i)),u-=_,i+=_,gt)break t}else n.head&&(n.head.comment=null);n.mode=z;case z:if(512&n.flags){for(;p<16;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=mt;break}m=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Z;break;case j:for(;p<32;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}t.adler=n.check=r(m),m=0,p=0,n.mode=Y;case Y:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=u,n.hold=m,n.bits=p,N;t.adler=n.check=1,n.mode=Z;case Z:if(e===I||e===F)break t;case K:if(n.last){m>>>=7&p,p-=7&p,n.mode=lt;break}for(;p<3;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}switch(n.last=1&m,m>>>=1,p-=1,3&m){case 0:n.mode=q;break;case 1:if(c(n),n.mode=nt,e===F){m>>>=2,p-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=mt}m>>>=2,p-=2;break;case q:for(m>>>=7&p,p-=7&p;p<32;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=mt;break}if(n.length=65535&m,m=0,p=0,n.mode=Q,e===F)break t;case Q:n.mode=J;case J:if(_=n.length){if(_>u&&(_=u),_>l&&(_=l),0===_)break t;v.arraySet(o,a,i,_,s),u-=_,i+=_,l-=_,s+=_,n.length-=_;break}n.mode=Z;break;case $:for(;p<14;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(n.nlen=257+(31&m),m>>>=5,p-=5,n.ndist=1+(31&m),m>>>=5,p-=5,n.ncode=4+(15&m),m>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=mt;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;p<3;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.lens[Ft[n.have++]]=7&m,m>>>=3,p-=3}for(;n.have<19;)n.lens[Ft[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,St={bits:n.lenbits},At=g(A,n.lens,0,19,n.lencode,0,n.work,St),n.lenbits=St.bits,At){t.msg="invalid code lengths set",n.mode=mt;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;yt=n.lencode[m&(1<<n.lenbits)-1],_t=yt>>>24,Et=yt>>>16&255,vt=65535&yt,!(_t<=p);){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(vt<16)m>>>=_t,p-=_t,n.lens[n.have++]=vt;else{if(16===vt){for(Rt=_t+2;p<Rt;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(m>>>=_t,p-=_t,0===n.have){t.msg="invalid bit length repeat",n.mode=mt;break}gt=n.lens[n.have-1],_=3+(3&m),m>>>=2,p-=2}else if(17===vt){for(Rt=_t+3;p<Rt;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}m>>>=_t,p-=_t,gt=0,_=3+(7&m),m>>>=3,p-=3}else{for(Rt=_t+7;p<Rt;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}m>>>=_t,p-=_t,gt=0,_=11+(127&m),m>>>=7,p-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=mt;break}for(;_--;)n.lens[n.have++]=gt}}if(n.mode===mt)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=mt;break}if(n.lenbits=9,St={bits:n.lenbits},At=g(S,n.lens,0,n.nlen,n.lencode,0,n.work,St),n.lenbits=St.bits,At){t.msg="invalid literal/lengths set",n.mode=mt;break}if(n.distbits=6,n.distcode=n.distdyn,St={bits:n.distbits},At=g(R,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,St),n.distbits=St.bits,At){t.msg="invalid distances set",n.mode=mt;break}if(n.mode=nt,e===F)break t;case nt:n.mode=rt;case rt:if(u>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=u,n.hold=m,n.bits=p,b(t,h),s=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,a=t.input,u=t.avail_in,m=n.hold,p=n.bits,n.mode===Z&&(n.back=-1);break}for(n.back=0;yt=n.lencode[m&(1<<n.lenbits)-1],_t=yt>>>24,Et=yt>>>16&255,vt=65535&yt,!(_t<=p);){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(Et&&0==(240&Et)){for(Ct=_t,Tt=Et,bt=vt;yt=n.lencode[bt+((m&(1<<Ct+Tt)-1)>>Ct)],_t=yt>>>24,Et=yt>>>16&255,vt=65535&yt,!(Ct+_t<=p);){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}m>>>=Ct,p-=Ct,n.back+=Ct}if(m>>>=_t,p-=_t,n.back+=_t,n.length=vt,0===Et){n.mode=ut;break}if(32&Et){n.back=-1,n.mode=Z;break}if(64&Et){t.msg="invalid literal/length code",n.mode=mt;break}n.extra=15&Et,n.mode=at;case at:if(n.extra){for(Rt=n.extra;p<Rt;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;yt=n.distcode[m&(1<<n.distbits)-1],_t=yt>>>24,Et=yt>>>16&255,vt=65535&yt,!(_t<=p);){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(0==(240&Et)){for(Ct=_t,Tt=Et,bt=vt;yt=n.distcode[bt+((m&(1<<Ct+Tt)-1)>>Ct)],_t=yt>>>24,Et=yt>>>16&255,vt=65535&yt,!(Ct+_t<=p);){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}m>>>=Ct,p-=Ct,n.back+=Ct}if(m>>>=_t,p-=_t,n.back+=_t,64&Et){t.msg="invalid distance code",n.mode=mt;break}n.offset=vt,n.extra=15&Et,n.mode=it;case it:if(n.extra){for(Rt=n.extra;p<Rt;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=mt;break}n.mode=st;case st:if(0===l)break t;if(_=h-l,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=mt;break}_>n.wnext?(_-=n.wnext,E=n.wsize-_):E=n.wnext-_,_>n.length&&(_=n.length),ht=n.window}else ht=o,E=s-n.offset,_=n.length;_>l&&(_=l),l-=_,n.length-=_;do{o[s++]=ht[E++]}while(--_);0===n.length&&(n.mode=rt);break;case ut:if(0===l)break t;o[s++]=n.length,l--,n.mode=rt;break;case lt:if(n.wrap){for(;p<32;){if(0===u)break t;u--,m|=a[i++]<<p,p+=8}if(h-=l,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?T(n.check,o,h,s-h):C(n.check,o,h,s-h)),h=l,(n.flags?m:r(m))!==n.check){t.msg="incorrect data check",n.mode=mt;break}m=0,p=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;p<32;){if(0===u)break t;u--,m+=a[i++]<<p,p+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=mt;break}m=0,p=0}n.mode=dt;case dt:At=M;break t;case mt:At=D;break t;case pt:return B;case ft:default:return O}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=u,n.hold=m,n.bits=p,(n.wsize||h!==t.avail_out&&n.mode<mt&&(n.mode<lt||e!==y))&&d(t,t.output,t.next_out,h-t.avail_out)?(n.mode=pt,B):(f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?T(n.check,o,h,t.next_out-h):C(n.check,o,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Z?128:0)+(n.mode===nt||n.mode===Q?256:0),(0===f&&0===h||e===y)&&At===x&&(At=w),At)}function p(t){if(!t||!t.state)return O;var e=t.state;return e.window&&(e.window=null),t.state=null,x}function f(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?O:(n.head=e,e.done=!1,x)):O}function h(t,e){var n,r,a=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Y?O:n.mode===Y&&(r=1,(r=C(r,e,a,0))!==n.check)?D:d(t,e,a,a)?(n.mode=pt,B):(n.havedict=1,x)):O}var _,E,v=n(3),C=n(15),T=n(16),b=n(47),g=n(48),A=0,S=1,R=2,y=4,I=5,F=6,x=0,M=1,N=2,O=-2,D=-3,B=-4,w=-5,P=8,L=1,G=2,U=3,W=4,k=5,X=6,V=7,H=8,z=9,j=10,Y=11,Z=12,K=13,q=14,Q=15,J=16,$=17,tt=18,et=19,nt=20,rt=21,at=22,ot=23,it=24,st=25,ut=26,lt=27,ct=28,dt=29,mt=30,pt=31,ft=32,ht=852,_t=592,Et=15,vt=!0;e.inflateReset=i,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=m,e.inflateEnd=p,e.inflateGetHeader=f,e.inflateSetDictionary=h,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,a,o,i,s,u,l,c,d,m,p,f,h,_,E,v,C,T,b,g,A,S,R,y;n=t.state,r=t.next_in,R=t.input,a=r+(t.avail_in-5),o=t.next_out,y=t.output,i=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,m=n.window,p=n.hold,f=n.bits,h=n.lencode,_=n.distcode,E=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{f<15&&(p+=R[r++]<<f,f+=8,p+=R[r++]<<f,f+=8),C=h[p&E];e:for(;;){if(T=C>>>24,p>>>=T,f-=T,0===(T=C>>>16&255))y[o++]=65535&C;else{if(!(16&T)){if(0==(64&T)){C=h[(65535&C)+(p&(1<<T)-1)];continue e}if(32&T){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&C,T&=15,T&&(f<T&&(p+=R[r++]<<f,f+=8),b+=p&(1<<T)-1,p>>>=T,f-=T),f<15&&(p+=R[r++]<<f,f+=8,p+=R[r++]<<f,f+=8),C=_[p&v];n:for(;;){if(T=C>>>24,p>>>=T,f-=T,!(16&(T=C>>>16&255))){if(0==(64&T)){C=_[(65535&C)+(p&(1<<T)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(g=65535&C,T&=15,f<T&&(p+=R[r++]<<f,(f+=8)<T&&(p+=R[r++]<<f,f+=8)),(g+=p&(1<<T)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=T,f-=T,T=o-i,g>T){if((T=g-T)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(A=0,S=m,0===d){if(A+=l-T,T<b){b-=T;do{y[o++]=m[A++]}while(--T);A=o-g,S=y}}else if(d<T){if(A+=l+d-T,(T-=d)<b){b-=T;do{y[o++]=m[A++]}while(--T);if(A=0,d<b){T=d,b-=T;do{y[o++]=m[A++]}while(--T);A=o-g,S=y}}}else if(A+=d-T,T<b){b-=T;do{y[o++]=m[A++]}while(--T);A=o-g,S=y}for(;b>2;)y[o++]=S[A++],y[o++]=S[A++],y[o++]=S[A++],b-=3;b&&(y[o++]=S[A++],b>1&&(y[o++]=S[A++]))}else{A=o-g;do{y[o++]=y[A++],y[o++]=y[A++],y[o++]=y[A++],b-=3}while(b>2);b&&(y[o++]=y[A++],b>1&&(y[o++]=y[A++]))}break}}break}}while(r<a&&o<s);b=f>>3,r-=b,f-=b<<3,p&=(1<<f)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?a-r+5:5-(r-a),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=f}},function(t,e,n){"use strict";var r=n(3),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,d,m){var p,f,h,_,E,v,C,T,b,g=m.bits,A=0,S=0,R=0,y=0,I=0,F=0,x=0,M=0,N=0,O=0,D=null,B=0,w=new r.Buf16(16),P=new r.Buf16(16),L=null,G=0;for(A=0;A<=15;A++)w[A]=0;for(S=0;S<u;S++)w[e[n+S]]++;for(I=g,y=15;y>=1&&0===w[y];y--);if(I>y&&(I=y),0===y)return l[c++]=20971520,l[c++]=20971520,m.bits=1,0;for(R=1;R<y&&0===w[R];R++);for(I<R&&(I=R),M=1,A=1;A<=15;A++)if(M<<=1,(M-=w[A])<0)return-1;if(M>0&&(0===t||1!==y))return-1;for(P[1]=0,A=1;A<15;A++)P[A+1]=P[A]+w[A];for(S=0;S<u;S++)0!==e[n+S]&&(d[P[e[n+S]]++]=S);if(0===t?(D=L=d,v=19):1===t?(D=a,B-=257,L=o,G-=257,v=256):(D=i,L=s,v=-1),O=0,S=0,A=R,E=c,F=I,x=0,h=-1,N=1<<I,_=N-1,1===t&&N>852||2===t&&N>592)return 1;for(;;){C=A-x,d[S]<v?(T=0,b=d[S]):d[S]>v?(T=L[G+d[S]],b=D[B+d[S]]):(T=96,b=0),p=1<<A-x,f=1<<F,R=f;do{f-=p,l[E+(O>>x)+f]=C<<24|T<<16|b|0}while(0!==f);for(p=1<<A-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,S++,0==--w[A]){if(A===y)break;A=e[n+d[S]]}if(A>I&&(O&_)!==h){for(0===x&&(x=I),E+=R,F=A-x,M=1<<F;F+x<y&&!((M-=w[F+x])<=0);)F++,M<<=1;if(N+=1<<F,1===t&&N>852||2===t&&N>592)return 1;h=O&_,l[h]=I<<24|F<<16|E-c|0}}return 0!==O&&(l[E+O]=A-x<<24|64<<16|0),m.bits=I,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e){t.exports="attribute vec4 position;\r\nattribute float z_index;\r\nattribute float pal_shift;\r\nattribute vec2 texcoord;\r\n\r\nuniform mat4 matrix;\r\n\r\nvarying vec2 v_uv;\r\nvarying float v_pal;\r\n\r\nconst float HALF_PX = 0.001953125; \r\nconst float PX = 0.00390625;\r\n\r\nvoid main() {\r\n    v_uv = texcoord * PX + HALF_PX;// vec2(PX * texcoord.x + HALF_PX, PX * texcoord.y + HALF_PX);//(texcoord - tweak2);\r\n    v_pal = pal_shift;\r\n    vec4 res = matrix * vec4(position.xy, z_index, 1.0);\r\n    //res.z =  -(z_index / 128.0) + 1.0;\r\n    //res.w = res.w * res.z;\r\n    gl_Position = res;\r\n}"},function(t,e){t.exports="precision mediump float;\r\n\r\nuniform sampler2D texture;\r\nuniform sampler2D palette;\r\nuniform float pal_offset;\r\n\r\nconst float HALF_PX = 0.001953125; \r\nconst float PX = 0.00390625;\r\n\r\nvarying vec2 v_uv;\r\nvarying float v_pal;\r\n\r\nvoid main() {\r\n    // get palette index.\r\n    float lookup = texture2D(texture, v_uv).r;\r\n    \r\n    // create uv from palette index and palette offset\r\n    vec2 palUv = vec2(lookup+v_pal,pal_offset);\r\n    \r\n    //lookup color and discard if alpha is present.\r\n    vec4 res = texture2D(palette, palUv);\r\n    if(res.a < 1.0)\r\n         discard;\r\n    else\r\n        gl_FragColor = res;\r\n}\r\n"},function(t,e){t.exports="PNG\r\n\n\0\0\0\rIHDR\0\0\0\0\0\0\b\0\0\0k¬XT\0\0\0\tpHYs\0\0\v\0\0\v\0\0\0\nOiCCPPhotoshop ICC profile\0\0xÚSgTSé=÷ÞôBKKoR\b RB&*!\tJ!¡ÙQÁEEÈ Q,\f\nØä!¢£Êûá{£kÖ¼÷æÍþµ×>ç¬ó³ÏÀ\b\fH3Q5\f©BàÇÄÆáä.@\n$p\0\b³d!sý#\0ø~<<+\"À¾\0xÓ\v\b\0ÀMÀ0ÿêB\\Àt8K\b\0@zB¦\0@F&S\0 \0`Ëcbã\0P-\0`'æÓ\0ø{\0[! \0 eD\0h;\0¬ÏVE\0X0\0fKÄ9\0Ø-\x000IWfH\0°·\0ÀÎ\v²\0\b\f\x000Q)\0{\0`È##x\0\0FòW<ñ+®ç*\0\0x²<¹$9E[\b-qWW.(ÎI+6aa@.Ây24àóÌ\0\0 àóýxÎ®ÎÎ6¶_-ê¿ÿ\"bbãþåÏ«p@\0\0át~Ñþ,/³;mþ¢%îh^\v u÷f²@µ\0 éÚWópø~<<E¡¹ÙÙåääØJÄB[aÊW}þgÂ_ÀWýlù~<ü÷õà¾â$2]GøàÂÌôL¥Ï\tbÜæGü·\vÿüÓ\"ÄIb¹X*ãQqDó2¥\"B)Å%Òÿdâß,û>ß5\0°j>{-¨]cöK'XtÀâ÷\0\0ò»oÁÔ(\bháÏwÿï?ýG %\0fIq\0\0^D$.TÊ³?Ç\b\0\0D *°AôÁ,ÀÁÜÁ\vü`6B$ÄÂBB\ndr`)¬B(Í°*`/Ô@4ÀQhp.ÂU¸=púa\bÁ(¼\tAÈ\ba!ÚbX#\bø!ÁH$ ÉQ\"K5H1RT UHò=r9\\Fº;È\x002ü¼G1²Q=Ô\fµC¹¨7F¢\vÐdt1 Ðr´=6¡çÐ«hÚ>CÇ0Àè3Äl0.ÆÃB±8,\tcË±\"¬\f«Æ°V¬»õcÏ±wEÀ\t6wB aAHXLXNØH¨ $4Ú\t7\tQÂ'\"¨K´&ºùÄb21XH,#Ö/{CÄ7$C2'¹I±¤TÒÒFÒnR#é,©4H#ÉÚdk²9, +ÈääÃä3ää!ò[\nb@q¤øSâ(RÊjJåå4åe2AU£RÝ¨¡T5ZB­¡¶R¯Q¨4u9ÍIK¥­¢Óhh÷i¯ètºÝNÐWÒËéGèèôw\f\rÇg(gw¯L¦ÓÇT071ëçoUX*¶*|Ê\nJ&*/T©ª¦ªÞª\vUóUËT©^S}®FU3Sã©\tÔ«UªPëSSg©;¨ªg¨oT?¤~YýYÃLÃOC¤Q ±_ã¼Æ \vc³x,!k\r«u5Ä&±ÍÙ|v*»ý»=ª©¡9C3J3W³Róf?ãqøtN\tç(§ó~Þï)â)¦4L¹1e\\kªX«H«Q«Gë½6®í§¦½E»YûAÇJ'\\'GgÎçSÙSÝ§\n§M=:õ®.ªk¥¡»Dw¿n§î¾^Lo§Þy½çú}/ýTýmú§õG\fX³\f$Û\fÎ<Å5qo</ÇÛñQC]Ã@C¥aaá¹Ñ<£ÕFFiÆ\\ã$ãmÆmÆ£&&!&KMêMîRM¹¦)¦;L;LÇÍÌÍ¢ÍÖ5=1×2çç×ß·`ZxZ,¶¨¶¸eI²äZ¦Yî¶¼nZ9Y¥XUZ]³F­­%Ö»­»§§¹NN«ÖgÃ°ñ¶É¶©·°åØÛ®¶m¶}agbg·Å®Ãî½}º}ý=\rÙ«Z~s´r:V:ÞÎî?}Åôé/gXÏÏØ3ã¶Ë)ÄiSÓGgg¹sóKË.>.ÆÝÈ½äJtõq]ázÒõ³Âí¨Û¯î6îiîÜÌ4)Y3sÐÃÈCàQåÑ?\v0kß¬~OCOgµç#/c/W­×°·¥wª÷aï>ö>rã>ã<7Þ2ÞY_Ì7À·È·ËOÃo_ßC#ÿdÿzÿÑ\0§%gA[ûøz|!¿?:Ûeö²ÙíA ¹AA­åÁ­!hÈì­!÷çÎÎiP~èÖÐaæaÃ~\f'W?pXÑ15wÑÜCsßDúDDÞg1O9¯-J5*>ª.j<Ú7º4º?Æ.fYÌÕXXIlK9.*®6nl¾ßüíóââ\vã{/È]py¡ÎÂô§©.,:@LN8ðA*¨%òw%\nyÂÂg\"/Ñ6ÑØC\\*NòH*Mzì¼5y$Å3¥,å¹'©¼L\rLÝ:v m2=:½1qBª!M¶gêgæfvË¬e²þÅn·/Ék³¬Y-\n¶B¦èTZ(×*²geWf¿ÍÊ9«+ÍíÌ³ÊÛ7ïÿíÂá¶¥KW-Xæ½¬j9²<qyÛ\nã+V¬<¸¶*mÕO«íW®~½&zMk^ÁÊÁµkë\vU\nå}ëÜ×í]OX/Yßµaú>®ÛØ(ÜxåoÊ¿Ü´©«Ä¹dÏfÒféæÞ-[ªæn\rÙÚ´\rßV´íõöEÛ/Í(Û»¶C¹£¿<¸¼e§ÉÎÍ;?T¤TôTúT6îÒÝµa×ønÑî{¼ö4ìÕÛ[¼÷ý>É¾ÛUUMÕfÕeûIû³÷?®ªéøûm]­NmqíÇÒý#¶×¹ÔÕÒ=TRÖ+ëGÇ¾þïw-\r6\rUÆâ#pDyäé÷\tß÷\r:Úv{¬áÓvg/jBòFSû[b[ºOÌ>ÑÖêÞzüGÛ4<YyJóTÉiÚéÓgòÏ}~.ùÜ`Û¢¶{çcÎßjoïºtáÒEÿç;¼;Î\\ò¸tò²ÛåW¸W¯:_mêtê<þÓOÇ»»®¹\\k¹îz½µ{f÷é7ÎÝô½yñÿÖÕ9=Ý½ózo÷Å÷õßÝ~r'ýÎË»Ùw'î­¼O¼_ô@íAÙCÝÕ?[þÜØïÜjÀw óÑÜG÷ÏþõCË\rë8>99â?rýéü§CÏdÏ&þ¢þË®/~øÕë×ÎÑÑ¡ò¿m|¥ýêÀë¯ÛÆÂÆ¾Éx31^ôVûíÁwÜwï£ßOä| (ÿhù±õSÐ§ûÿóüc3-Û\0\0\0 cHRM\0\0z%\0\0\0\0ùÿ\0\0é\0\0u0\0\0ê`\0\0:\0\0o_ÅF\0\0\0PLTE-O-$-È`ø3\0ÌGhÙ5ÁÙP°x©á¹ùáhñ±GèÀ¨øxPÿÿÿ\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\x001Öä}\0\0\0\rtRNSÿÿÿÿÿÿÿÿÿÿÿÿ\0=è\"\0\0ÆIDATxÚì×±n@Ð#FüÿLÌ)ioÏ[$¿j{ÆÃwäûÎ6q«¥M<Ö­MÜ÷¥Mü¦×ø:æ6QâZ7¼ä>ÖÜkî{î¥{áxä~¿ÀôæÃÙ½§ÜrßÜÎ«>s/öþûgçÑÔ-÷uÉ}ï\0J÷â#,À,À,À,À,À,à\v8£MmbÛ¢M,K´Z£MÌs´¹Ü½üþ´\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0x{Ó§=x·\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0à\0ÖÙbva\0\0\0\0IEND®B`"},function(t,e){t.exports="PNG\r\n\n\0\0\0\rIHDR\0\0\0\0\0\0\b\0\0\0k¬XT\0\0\0\tpHYs\0\0\nï\0\0\nï}vH\0\0\nOiCCPPhotoshop ICC profile\0\0xÚSgTSé=÷ÞôBKKoR\b RB&*!\tJ!¡ÙQÁEEÈ Q,\f\nØä!¢£Êûá{£kÖ¼÷æÍþµ×>ç¬ó³ÏÀ\b\fH3Q5\f©BàÇÄÆáä.@\n$p\0\b³d!sý#\0ø~<<+\"À¾\0xÓ\v\b\0ÀMÀ0ÿêB\\Àt8K\b\0@zB¦\0@F&S\0 \0`Ëcbã\0P-\0`'æÓ\0ø{\0[! \0 eD\0h;\0¬ÏVE\0X0\0fKÄ9\0Ø-\x000IWfH\0°·\0ÀÎ\v²\0\b\f\x000Q)\0{\0`È##x\0\0FòW<ñ+®ç*\0\0x²<¹$9E[\b-qWW.(ÎI+6aa@.Ây24àóÌ\0\0 àóýxÎ®ÎÎ6¶_-ê¿ÿ\"bbãþåÏ«p@\0\0át~Ñþ,/³;mþ¢%îh^\v u÷f²@µ\0 éÚWópø~<<E¡¹ÙÙåääØJÄB[aÊW}þgÂ_ÀWýlù~<ü÷õà¾â$2]GøàÂÌôL¥Ï\tbÜæGü·\vÿüÓ\"ÄIb¹X*ãQqDó2¥\"B)Å%Òÿdâß,û>ß5\0°j>{-¨]cöK'XtÀâ÷\0\0ò»oÁÔ(\bháÏwÿï?ýG %\0fIq\0\0^D$.TÊ³?Ç\b\0\0D *°AôÁ,ÀÁÜÁ\vü`6B$ÄÂBB\ndr`)¬B(Í°*`/Ô@4ÀQhp.ÂU¸=púa\bÁ(¼\tAÈ\ba!ÚbX#\bø!ÁH$ ÉQ\"K5H1RT UHò=r9\\Fº;È\x002ü¼G1²Q=Ô\fµC¹¨7F¢\vÐdt1 Ðr´=6¡çÐ«hÚ>CÇ0Àè3Äl0.ÆÃB±8,\tcË±\"¬\f«Æ°V¬»õcÏ±wEÀ\t6wB aAHXLXNØH¨ $4Ú\t7\tQÂ'\"¨K´&ºùÄb21XH,#Ö/{CÄ7$C2'¹I±¤TÒÒFÒnR#é,©4H#ÉÚdk²9, +ÈääÃä3ää!ò[\nb@q¤øSâ(RÊjJåå4åe2AU£RÝ¨¡T5ZB­¡¶R¯Q¨4u9ÍIK¥­¢Óhh÷i¯ètºÝNÐWÒËéGèèôw\f\rÇg(gw¯L¦ÓÇT071ëçoUX*¶*|Ê\nJ&*/T©ª¦ªÞª\vUóUËT©^S}®FU3Sã©\tÔ«UªPëSSg©;¨ªg¨oT?¤~YýYÃLÃOC¤Q ±_ã¼Æ \vc³x,!k\r«u5Ä&±ÍÙ|v*»ý»=ª©¡9C3J3W³Róf?ãqøtN\tç(§ó~Þï)â)¦4L¹1e\\kªX«H«Q«Gë½6®í§¦½E»YûAÇJ'\\'GgÎçSÙSÝ§\n§M=:õ®.ªk¥¡»Dw¿n§î¾^Lo§Þy½çú}/ýTýmú§õG\fX³\f$Û\fÎ<Å5qo</ÇÛñQC]Ã@C¥aaá¹Ñ<£ÕFFiÆ\\ã$ãmÆmÆ£&&!&KMêMîRM¹¦)¦;L;LÇÍÌÍ¢ÍÖ5=1×2çç×ß·`ZxZ,¶¨¶¸eI²äZ¦Yî¶¼nZ9Y¥XUZ]³F­­%Ö»­»§§¹NN«ÖgÃ°ñ¶É¶©·°åØÛ®¶m¶}agbg·Å®Ãî½}º}ý=\rÙ«Z~s´r:V:ÞÎî?}Åôé/gXÏÏØ3ã¶Ë)ÄiSÓGgg¹sóKË.>.ÆÝÈ½äJtõq]ázÒõ³Âí¨Û¯î6îiîÜÌ4)Y3sÐÃÈCàQåÑ?\v0kß¬~OCOgµç#/c/W­×°·¥wª÷aï>ö>rã>ã<7Þ2ÞY_Ì7À·È·ËOÃo_ßC#ÿdÿzÿÑ\0§%gA[ûøz|!¿?:Ûeö²ÙíA ¹AA­åÁ­!hÈì­!÷çÎÎiP~èÖÐaæaÃ~\f'W?pXÑ15wÑÜCsßDúDDÞg1O9¯-J5*>ª.j<Ú7º4º?Æ.fYÌÕXXIlK9.*®6nl¾ßüíóââ\vã{/È]py¡ÎÂô§©.,:@LN8ðA*¨%òw%\nyÂÂg\"/Ñ6ÑØC\\*NòH*Mzì¼5y$Å3¥,å¹'©¼L\rLÝ:v m2=:½1qBª!M¶gêgæfvË¬e²þÅn·/Ék³¬Y-\n¶B¦èTZ(×*²geWf¿ÍÊ9«+ÍíÌ³ÊÛ7ïÿíÂá¶¥KW-Xæ½¬j9²<qyÛ\nã+V¬<¸¶*mÕO«íW®~½&zMk^ÁÊÁµkë\vU\nå}ëÜ×í]OX/Yßµaú>®ÛØ(ÜxåoÊ¿Ü´©«Ä¹dÏfÒféæÞ-[ªæn\rÙÚ´\rßV´íõöEÛ/Í(Û»¶C¹£¿<¸¼e§ÉÎÍ;?T¤TôTúT6îÒÝµa×ønÑî{¼ö4ìÕÛ[¼÷ý>É¾ÛUUMÕfÕeûIû³÷?®ªéøûm]­NmqíÇÒý#¶×¹ÔÕÒ=TRÖ+ëGÇ¾þïw-\r6\rUÆâ#pDyäé÷\tß÷\r:Úv{¬áÓvg/jBòFSû[b[ºOÌ>ÑÖêÞzüGÛ4<YyJóTÉiÚéÓgòÏ}~.ùÜ`Û¢¶{çcÎßjoïºtáÒEÿç;¼;Î\\ò¸tò²ÛåW¸W¯:_mêtê<þÓOÇ»»®¹\\k¹îz½µ{f÷é7ÎÝô½yñÿÖÕ9=Ý½ózo÷Å÷õßÝ~r'ýÎË»Ùw'î­¼O¼_ô@íAÙCÝÕ?[þÜØïÜjÀw óÑÜG÷ÏþõCË\rë8>99â?rýéü§CÏdÏ&þ¢þË®/~øÕë×ÎÑÑ¡ò¿m|¥ýêÀë¯ÛÆÂÆ¾Éx31^ôVûíÁwÜwï£ßOä| (ÿhù±õSÐ§ûÿóüc3-Û\0\0\0 cHRM\0\0z%\0\0\0\0ùÿ\0\0é\0\0u0\0\0ê`\0\0:\0\0o_ÅF\0\0\0PLTE((øøàxxxÿÿÿ((þþ\0{~X\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0îd\0\0\0tRNSÿÿÿ\0@*©ô\0\0éIDATxÚìÛã:\bDÁøÿÿØpf­P¸!j%=3§Ëod]¶%B8jò³¯C\b\x006/¿^yÿnmÛ\0°~­u)<Ú;JG¾_¯­öW_«àwá¢ñPc\fÈ=Ø§\t\t?»BúD\b\fYRD?ÊÐÐW/¹Ôâ9/¯IQ½ì~P*7æ1ÛÔùÒøÊe+\0ê#×x|Æ*¢ê´qDÈqÙK:ûÁ?>¯ÏED|rÀ´ä\\EEô£\t;L<òÐ'ÐñaÉ\r=E¦ÛÒ¨Ýq\\´ý63þ~dÀ¹@x»âlA¾eÔyË6û¨UUF¬?¨Öm¬Ûô||±üÈ;¾çò\\ÆE#AñÇ5èSvAõ¶4\tX\fiÝCÝôþë½ÖÏý.üÉk¾R\0ÀO¾L#Ä1xJI@>¦ñ®ü_ëíÐÀºW¹Û§]{C­nºRÿë; [ãÅÇüÞÌÙÔ³b»¡Èé'Ì¬ÓÕ º¥é!Tº#Ä¹÷rL=·¨^$ÿA__LgdÁé«zÉ$7x>³flÁðýÚ¹;\t¡\r\r¸D*¤PÆäÜü\0\0}0è¡æê­l#0§zÉùê¢+¶oÒÎ\0=BÖÏ@ð\b<±fÛ>í¨ÿ/9\vU:òý'®AÇ«IÝ5\nÌÖøT>¦5frõK\tæñ´I?{ñ¸E_Ê,¯UROðS¼¶ÇÃC@\0ð¯óÆôM¶¢í8å{c%]îKÖ^µ3²1XÊGµT1ÿ1í8ô½,¦'½ÿD</¹\fàd6ÊÑX80Ø¤ïcÈ7ëÓ1Xn6ßÚG/OáhìWüBs­Åï;\bÚ¡¤ñ~õEÓm8<Ã«gÄoÁ­º¨¦%!^Ä®µ0<\0§zD¿\tFööÇ|¯5êGZCï\0ªx2V_£:Ø\fÒÙU1àã|2\0ÜðÃ\b¸¦[@:¬y\bÒX&PÚó¨Ïë;ÞÔpü/1èõX÷'üXð?¸k{õ¥òXÊ}PÑÿÝ´K~ôE\bÕ PÿSï¬ßÕ«zÿ&?Æz|9-èPèMåbÉ{o;«z¿÷¿7 ?qk¡]\"[çt>Æóþ-ë^åÒG¡½õIÅpvv~¡Ã¦C)ÁP[s|È½dÒª6Ì£A\fyh\\ë³øÓ¤)(1ôùä\0Ñ-[öóf+ðÉÙrO¾áÀWo\tIIÆ¿«®ÇÐ÷{A\rxW@FÿµIípo\nG©æçý¹ðá9Æ\r!ÑéÍ¿ê±\0U§jôFÀ×6FtDçèSÏì1ÿs5¸n\tÞí8¿üs¦p¼8þ\0Êa \r`:æyâ¨/}vý¿¾ÀX~À¦xB\b¬Ù)cdè¯r.\fÇür>Öç0P±³u\fGKV+<Zg¾^õ\bÅð\b\f\0Ë¯?áéórþ×§ËAébj§ne>>÷X¼£oï6Hj±Æo]³ûñ5¸ÐÇ«ú^_¼kcø\0,¯Í·?\vÛ#Pâîåbötñ>ÉÑò3å«³XSsù½U÷ìòUëÏøv5X^³Óz[*ý;àoshT`ï}DôP\r\0ÀÞ{íúé\0þí Zõ2~ñ1EdË0\f¿ð´ö\"Þ}qòzChÐ÷£?`3@\"n&¾y\t¬}!¢õ·E/ðÍÞó)ã5ö-Ô>Øx½w,nËs2¸°¢ßÕ¿sü5Dfz¾>3-ñý¨ó\bàë\f(þÕ·þÕðÿ0àø77óÑPÜ9~ GqÝø\vÞü¬ï?ú«þíiãßüùýC@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0@\0o¿þ\0øq¬ç)>\0\0\0\0IEND®B`"},function(t,e){t.exports={x:16,y:16,chars:" !\"#$%&'()°+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz",widths:[3,2,4,9,6,6,6,2,4,4,4,6,3,6,2,5,5,4,5,5,5,5,5,5,5,5,2,3,7,6,7,5,8,5,5,5,5,5,5,5,6,4,5,6,5,6,6,5,5,5,5,5,6,6,6,6,6,6,6,4,5,4,6,7,3,5,5,5,5,5,4,5,5,2,3,5,2,6,5,5,5,5,5,5,4,5,5,6,6,5,5]}}]);
//# sourceMappingURL=bundle.js.map